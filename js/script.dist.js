!function e(t,i,n){function o(l,r){if(!i[l]){if(!t[l]){var d="function"==typeof require&&require;if(!r&&d)return d(l,!0);if(s)return s(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var c=i[l]={exports:{}};t[l][0].call(c.exports,function(e){var i=t[l][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[l].exports}for(var s="function"==typeof require&&require,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(e){!function(){function t(){new i($("#container")),new n($("#container"))}var i=e("./classes/Profile"),n=(e("./classes/App"),e("./classes/Overview"));t()}()},{"./classes/App":2,"./classes/Overview":7,"./classes/Profile":11}],2:[function(e,t){t.exports=function(){function t(e){console.log("[App] constructor"),this.$el=e,this.whiteboardId=1,this.types=["postits"],this.i=0,this.elementList=[],this.position={},this.dataHandler=new s,this.whiteboard=new i(this.$el),this.elementPicker=new n(this.$el),bean.on(this.dataHandler,"data-success",this.addToElementList.bind(this)),bean.on(this.whiteboard,"whiteboard-clicked",this.whiteboardClickedHandler.bind(this)),bean.on(this.elementPicker,"element-picker-clicked",this.elementPickerClickedHandler.bind(this)),this.buildBoard()}var i=e("./Whiteboard"),n=e("./ElementPicker"),o=e("./Element"),s=e("./DataHandler");return t.prototype.whiteboardClickedHandler=function(e){console.log("[App] whiteboardClickedHandler"),this.elementPicker.toggleVisible(),this.elementPicker.setLocation(e.xPos,e.yPos),this.position=e},t.prototype.elementPickerClickedHandler=function(e){console.log("[App] elementPickerClickedHandler"),this.elementPicker.toggleVisible();var t=new o(this.$el,e,this.position);this.newElement(e,t.elementId)},t.prototype.buildBoard=function(){console.log("[App] buildBoard");for(var e in this.types)this.dataHandler.loadBoardElements(this.types[e])},t.prototype.addToElementList=function(){console.log("[App] addToElementList"),this.elementList.push(this.dataHandler.getBoardElements()),this.i++,this.i==this.types.length&&this.addToBoard()},t.prototype.addToBoard=function(){console.log("[App] addToBoard");var e=this.elementList[0][0];for(var t in e){var i=e[t].el_type,n={};n.yPos=Number(e[t].posy),n.xPos=Number(e[t].posx);var s=e[t].id_on_board,l=e[t].id,r=e[t].content,t=new o(this.$el,i,n,s,r,l);bean.on(t,"remove-clicked",this.removeHandler.bind(this))}},t.prototype.removeHandler=function(e){console.log("[App] removeHandler"),this.dataHandler.removeBoardElement(e.elementType,e.id)},t.prototype.newElement=function(e,t){console.log("[App] newElementHandler"),this.dataHandler.newBoardElement(e,t,this.position,this.whiteboardId)},t}()},{"./DataHandler":3,"./Element":5,"./ElementPicker":6,"./Whiteboard":13}],3:[function(e,t){t.exports=function(){function e(){console.log("[DataHandler] constructor"),this.url="http://localhost/whiteboard_2/api/index.php/",t=this,this.boardElements=[],this.boardList=[]}var t;return e.prototype.loadBoardElements=function(e){return console.log("[DataHandler] loadBoardElements"),$.ajax({type:"GET",url:this.url+e+"/1",data:{content:"content"},success:function(e){t.boardElements.push(e),bean.fire(t,"data-success",[e])}})},e.prototype.getBoardElements=function(){return console.log("[DataHandler] getBoardElements"),this.boardElements},e.prototype.removeBoardElement=function(e,t){switch(console.log("[DataHandler] removeBoardElement"),e){case"post-it":this.removeElementById("postits",t);break;case"static":this.removeElementById("static",t);break;case"motion":this.removeElementById("motion",t)}},e.prototype.removeElementById=function(e,t){$.ajax({type:"GET",url:this.url+e+"/delete/"+t,data:{content:"content"},success:function(e){console.log("deleted = "+e)}})},e.prototype.newBoardElement=function(e,t,i,n){$.ajax({type:"POST",url:this.url+"postits/add/"+n+"/"+t+"/"+i.xPos+"/"+i.yPos,success:function(){console.log("new element posted")}})},e.prototype.getAllBoards=function(){return console.log("[DataHandler] getAllBoards"),$.ajax({type:"GET",url:this.url+"/boards/",data:{content:"content"},success:function(e){this.boardElements.push(e)}.bind(this)})},e}()},{}],4:[function(e,t){t.exports=function(){function e(e,t){console.log("[EditMenu] constructor"),this.$el=e,this.elementId=t;var i=$("#edit-menu-template").text(),n=Handlebars.compile(i),o={actions:[{actionId:"cancel",name:"annuleer"},{actionId:"edit",name:"wijzigen"},{actionId:"remove",name:"verwijderen"}]};Handlebars.registerHelper("editmenu",function(){var e=Handlebars.escapeExpression(this.actionId),t=Handlebars.escapeExpression(this.name);return new Handlebars.SafeString("<li id="+e+">"+t+"</li>")});var s=n(o);this.$el.find("#"+this.elementId).append(s),this.$el.find("#"+this.elementId+" > p").toggleClass("hidden"),this.bindHandlers(),this.toggleVisible()}return e.prototype.toggleVisible=function(){console.log("[EditMenu] toggleVisible"),this.$el.find("#"+this.elementId+" > p").toggleClass("hidden"),this.$el.find("#"+this.elementId+" .edit-menu").toggleClass("hidden")},e.prototype.bindHandlers=function(){console.log("[EditMenu] bindHandlers"),this.$el.find("#"+this.elementId+" > p").on("click",this.clickHandler.bind(this)),this.$el.find("#"+this.elementId+" li").on("click",this.clickHandler.bind(this))},e.prototype.clickHandler=function(e){if(console.log("[EditMenu] clickHandler"),"editButton"===e.target.className)bean.fire(this,"edit-clicked",t),this.toggleVisible();else{var t={};t.targetId=e.target.id,t.elementId=this.elementId,bean.fire(this,"action-clicked",t)}},e}()},{}],5:[function(e,t){t.exports=function(){function t(e,t,i,n,o,s){console.log("[Element] constructor"),this.$el=e,this.content=o,this.elementType=t,this.elementId=n,this.elementId=this.elementId?n:this.setElementId(),this.position=i,s&&(this.id=s),this.createElementHolder()}var n=e("./EditMenu"),o=1,s=e("./elements/Postit"),l=e("./elements/Picture"),r=e("./elements/Motion");return t.prototype.createElementHolder=function(){console.log("[Element] createElementHolder"),this.$el.find("#whiteboard").append("<section class='element-holder'></section>"),this.$el.find(".element-holder:last-of-type").attr("id",this.elementId);var e={};e.top=this.position.yPos,e.left=this.position.xPos,e.zIndex=0,this.$el.find("#"+this.elementId).css(e),this.createEditMenu(),this.createElement()},t.prototype.createElement=function(){switch(console.log("[Element] createElement"),this.elementType){case"post-it":this.element=new s(this.content),this.$el.find("#"+this.elementId).append(this.element.createPostit),this.bindHandler(this.$el.find("#"+this.elementId));break;case"static":this.element=new l(this.$el.find("#"+this.elementId)),this.$el.find("#"+this.elementId).append(this.element.createPicture),this.bindHandler(this.$el.find("#"+this.elementId));break;case"motion":this.element=new r(this.$el.find("#"+this.elementId)),this.$el.find("#"+this.elementId).append(this.element.createMotion),this.bindHandler(this.$el.find("#"+this.elementId))}},t.prototype.bindHandler=function(){console.log("[Element] bindHandler"),this.$el.find("#"+this.elementId).on("mousedown",this.mousedownHandler.bind(this)),console.log("ddddd"),console.log(this.$el.find("#"+this.elementId)),this.mouseDown=!1},t.prototype.mousedownHandler=function(e){console.log("[Element] mousedownHandler"),this.mouseDown=!0,this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),this.offsetX=e.offsetX,this.offsetY=e.offsetY,++o,this.$el.find("#"+this.elementId).css("zIndex",o),document.body.addEventListener("mousemove",this._mouseMoveHandler),document.body.addEventListener("mouseup",this._mouseUpHandler)},t.prototype.createEditMenu=function(){console.log("[Element] createEditMenu"),this.editMenu=new n(this.$el,this.elementId),bean.on(this.editMenu,"edit-clicked",this.editClickedHandler.bind(this)),bean.on(this.editMenu,"action-clicked",this.actionClickedHandler.bind(this))},t.prototype.editClickedHandler=function(){console.log("[Element] editClickedHandler"),this.element.edit(this.$el,this.elementId)},t.prototype.actionClickedHandler=function(e){switch(console.log("[Element] actionClickedHandler"),e.targetId){case"remove":this.editMenu.toggleVisible(),this.$el.find("#"+e.elementId).remove();var t={};t.id=this.id,t.elementType=this.elementType,bean.fire(this,"remove-clicked",t);break;case"edit":console.log("EDITE"),this.element.confirm(),this.editMenu.toggleVisible();break;case"cancel":this.element.endEdit(),this.editMenu.toggleVisible()}},t.prototype.mouseMoveHandler=function(e){if(console.log("[Element] mousemoveHandler"),this.mouseDown===!0){var t=parseInt(e.clientX),i=parseInt(e.clientY);this.$el.find("#"+this.elementId).css("left",t-this.offsetX),this.$el.find("#"+this.elementId).css("top",i-this.offsetY)}},t.prototype.mouseUpHandler=function(){console.log("[Element] mouseupHandler"),this.mouseDown=!1,document.body.removeEventListener("mousemove",this._mouseMoveHandler),document.body.removeEventListener("mouseup",this._mouseUpHandler)},t.prototype.setElementId=function(){console.log("[Element] setElementId");var e=this.$el.find(".element-holder"),t=["0"];for(i=0;i<e.length;i++)t.push(e[i].id);return t.sort(function(e,t){return t-e}),Number(t[0])+1},t}()},{"./EditMenu":4,"./elements/Motion":15,"./elements/Picture":17,"./elements/Postit":19}],6:[function(e,t){t.exports=function(){function e(e){console.log("[ElementPicker] constructor"),this.$el=e;var t=$("#element-picker-template").text(),i=Handlebars.compile(t),n={elements:[{element:"post-it",name:"post-it"},{element:"static",name:"image"},{element:"motion",name:"video"}]};Handlebars.registerHelper("picker",function(){var e=Handlebars.escapeExpression(this.element),t=Handlebars.escapeExpression(this.name);return new Handlebars.SafeString("<li id="+e+">"+t+"</li>")});var o=i(n);this.$el.find("#whiteboard").append($(o)),this.toggleVisible(),this.bindHandler()}return e.prototype.toggleVisible=function(){console.log("[ElementPicker] toggleVisible"),this.$el.find("#element-picker").toggleClass("hidden")},e.prototype.setLocation=function(e,t){console.log("[ElementPicker] setLocation");var i={top:t,left:e};this.$el.find("#element-picker").css(i)},e.prototype.bindHandler=function(){console.log("[ElementPicker] bindHandler"),this.$el.find("#element-picker > ul > li").on("click",this.clickHandler.bind(this))},e.prototype.clickHandler=function(e){console.log("[ElementPicker] clickHandler"),bean.fire(this,"element-picker-clicked",e.target.id)},e}()},{}],7:[function(e,t){t.exports=function(){function t(e){console.log("[Overview] constructor"),this.$el=e,this.boardList=[],this.overviewHandler=new o,this.overviewHandler.getAllBoards(),bean.on(this.overviewHandler,"data-success",this.addToBoardList.bind(this)),e.find("#addProject").on("click",this.makeNewProjectHandler.bind(this))}var n=(e("./App"),e("./OverviewElement")),o=e("./OverviewHandler");return t.prototype.addToBoardList=function(e){for(console.log("[Overview] getBoards"),this.boardList.push(e),console.log(this.boardList),i=0;i<this.boardList[0].length;i++)this.overviewElement=new n(this.boardList[0][i])},t.prototype.makeNewProjectHandler=function(){console.log("[Overview] makeNewProjectHandler"),$("#container").html(""),this.user},t}()},{"./App":2,"./OverviewElement":8,"./OverviewHandler":9}],8:[function(e,t){t.exports=function(){function e(e){console.log("[Overview] constructor"),this.$el=e,this.boardList=[],this.createOverviewThumb(e)}return e.prototype.createOverviewThumb=function(e){console.log("[Overview] createOverviewThumb");var t=$("#overviewThumb-template").text(),i=Handlebars.compile(t),n={};n.title=e.title,n.id=e.id,n.creation_date=e.creation_date;var o=i(n);$("#container").append($(o)),this.bindHandler($(o)[0])},e.prototype.bindHandler=function(e){console.log("[Overview] bindHandler"),e.querySelector(".remove").addEventListener("click",this.removeHandler.bind(this))},e.prototype.removeHandler=function(){console.log("[Overview] removeHandler")},e.prototype.viewHandler=function(){console.log("[Overview] viewHandler")},e}()},{}],9:[function(e,t){t.exports=function(){function e(){console.log("[OverviewHandler] constructor"),this.url="http://localhost/whiteboard_2/api/index.php/"}return e.prototype.getAllBoards=function(){return console.log("[OverviewHandler] getAllBoards"),$.ajax({type:"GET",url:this.url+"/boards/",data:{content:"content"},success:function(e){bean.fire(this,"data-success",[e])}.bind(this)})},e}()},{}],10:[function(e,t){t.exports=function(){function e(e){console.log("[Participant] constructor"),this.$el=e;var t=e.find(".participant-input");if(t.val()){var i=$("#participant-template").text(),n=Handlebars.compile(i),o={participants:[{}]};Handlebars.registerHelper("participant",function(){return new Handlebars.SafeString("<li id=''>"+t.val()+"<button class='btn delete'>X</button></li>")});var s=n(o);this.$el.find("#participant-list").append($(s)),this.bindDeletebutton(),$(".participant-input").val("")}}return e.prototype.bindDeletebutton=function(){console.log("[Participant] bindDeletebutton"),this.deletebuton=document.querySelectorAll(".btn-delete"),this.deletebuton[this.deletebuton.length-1].addEventListener("click",this.deleteClickHandler.bind(this))},e.prototype.deleteClickHandler=function(e){console.log("[Participant] deleteClickHandler"),bean.fire(this,"delete",e.path[1])},e}()},{}],11:[function(e,t){t.exports=function(){function t(e,t,n){console.log("[Profile] constructor"),this.$el=e,this.user=[],this.userHandler=new i,this.username=t,this.email=n;var o=$("#login-template").text(),s=Handlebars.compile(o),l={},r=s(l);$("#container").append($(r));var o=$("#register-template").text(),s=Handlebars.compile(o),l={},r=s(l);$("#container").append($(r)),this.$el.find("#register-button").on("click",this.register.bind(this)),$(".register").on("click",this.addUser.bind(this)),this.$el.find(".login").on("click",this.login.bind(this)),this.$el.find(".logout").on("click",this.logout.bind(this)),bean.on(this.userHandler,"user-found",this.bindUser.bind(this))}var i=e("./UserHandler");return t.prototype.register=function(){console.log("[Profile] register"),$("#register").toggleClass("hidden")},t.prototype.addUser=function(){console.log("[Profile] addUser"),this.username=this.$el.find(".register_name").val(),this.email=this.$el.find(".register_email").val(),this.password=this.$el.find(".register_password").val(),this.password_2=this.$el.find(".register_password_2").val(),this.password==this.password_2&&this.userHandler.register(this.username,this.email,this.password)},t.prototype.login=function(){console.log("[Profile] login"),this.email=this.$el.find(".login_email").val(),this.password=this.$el.find(".login_password").val(),this.userHandler.login(this.email,this.password)},t.prototype.logout=function(){console.log("[Profile] logout"),this.user=[],this.toggleVisible(),$("#register-button").removeClass("hidden")},t.prototype.bindUser=function(e){console.log("[Profile] bindUser"),this.user=[e],this.user[0]&&($("input").val(""),$("#register-button").addClass("hidden"),$("#register").addClass("hidden"),this.toggleVisible())},t.prototype.toggleVisible=function(){console.log("[Profile] toggleVisible"),$("#login").toggleClass("hidden"),$("#logout").toggleClass("hidden")},t}()},{"./UserHandler":12}],12:[function(e,t){t.exports=function(){function e(){console.log("[OverviewHandler] constructor"),this.url="http://localhost/whiteboard_2/api/index.php/"}return e.prototype.login=function(e,t){console.log("[UserHandler] login"),$.ajax({type:"POST",data:{content:"content"},url:this.url+"users/login/"+e+"/"+t,success:function(e){console.log("user found",[e]),bean.fire(this,"user-found",[e])}.bind(this)})},e.prototype.register=function(e,t,i){console.log("[UserHandler] register"),$.ajax({type:"POST",data:{content:"content"},url:this.url+"users/register/"+e+"/"+t+"/"+i,success:function(e){console.log("new user created",[e]),bean.fire(this,"user-found",[e])}.bind(this)})},e}()},{}],13:[function(e,t){t.exports=function(){function t(e){console.log("[Whiteboard] constructor"),this.$el=e,this.createWhiteboard(),this.addWhiteboardSettings()}var i=e("./WhiteboardSettings");return t.prototype.createWhiteboard=function(){console.log("[Whiteboard] createWhiteboard"),this.board=this.$el.append("<div id='whiteboard'></div>"),this.bindHandler()},t.prototype.bindHandler=function(){console.log("[Whiteboard] bindHandler"),this.board.on("click",this.clickHandler.bind(this))},t.prototype.clickHandler=function(e){console.log("[Whiteboard] clickHandler");var t=e.pageX-this.$el.offset().left,i=e.pageY-this.$el.offset().top,n={};n.xPos=t,n.yPos=i,"whiteboard"===e.target.id&&bean.fire(this,"whiteboard-clicked",n)},t.prototype.addWhiteboardSettings=function(){console.log("[Whiteboard] addWhiteboardSettings"),this.whiteboardSettings=new i(this.$el)},t}()},{"./WhiteboardSettings":14}],14:[function(e,t){t.exports=function(){function t(e,t,i){console.log("[WhiteboardSettings] constructor"),this.$el=e,this.$participants=t,this.$title=i;var n=$("#settings-template").text(),o=Handlebars.compile(n),s={};s.title=this.$title?i:"Untitled";var l=o(s);console.log(l),$("#container").append($(l)),this.bindHandler()}var i=e("./Participant");return t.prototype.toggleVisible=function(){console.log("[WhiteboardSettings] toggleVisible"),this.$el.find("#hide").toggleClass("hidden"),this.$el.find("#show").toggleClass("hidden")},t.prototype.bindHandler=function(){console.log("[WhiteboardSettings] bindHandler"),this.$el.find(".hide-button").on("click",this.hideSettingsHandler.bind(this)),this.$el.find(".show-button").on("click",this.hideSettingsHandler.bind(this)),this.$el.find(".add-button").on("click",this.createParticipant.bind(this))},t.prototype.createParticipant=function(){console.log("[WhiteboardSettings] addClickedHandler"),this.participant=new i(this.$el),bean.on(this.participant,"delete",this.deleteParticipant.bind(this))},t.prototype.hideSettingsHandler=function(){console.log("[WhiteboardSettings] hideSettingsHandler"),this.$el.find(".hide_section").toggleClass("hidden"),this.$el.find(".show-button").toggleClass("hidden")},t.prototype.deleteParticipant=function(e){console.log("[WhiteboardSettings] deleteParticipant");var t=document.querySelector("#participant-list");t.removeChild(e)},t}()},{"./Participant":10}],15:[function(e,t){t.exports=function(){function t(e,t,i,n){console.log("[Motion] constructor"),this.$el=e,n&&(this.vidSrc=n)}var i=e("./MotionEdit");return t.prototype.createMotion=function(){console.log("[Motion] creatMotion");var e=$("#motion-template").text(),t=Handlebars.compile(e),i={};i.vidSrc=this.vidSrc?this.vidSrc:"";var n=t(i);$('#id="whiteboard"').append($(n))},t.prototype.edit=function(e,t){console.log("[Motion] edit"),this.$el=e,this.elementId=t,this.$el.find("#"+t).append(new i(this.vidSrc,t))},t.prototype.confirm=function(){console.log("[Motion] confirm"),this.vidSrc=this.$el.find("#"+this.elementId+" .motion-edit").val(),this.endEdit()},t.prototype.endEdit=function(){console.log("[Motion] endEdit"),this.$el.find("#"+this.elementId+" > .motion-edit").remove()},t}()},{"./MotionEdit":16}],16:[function(e,t){t.exports=function(){function e(e,i){console.log("[MotionEdit] constructor");var n=$("#motion-edit-template").text(),o=Handlebars.compile(n),s={};s.vidSrc=e;var l=o(s);return setTimeout(function(){t(i)},100),$(l)}function t(e){console.log("[Motion] initMotionInput");var t=$("#"+e+" > input[type=file]")[0];t.addEventListener("change",i)}function i(e){console.log("[Motion] playSelectedFile");var t=e.target.parentNode.id,i=$("#"+t+" > .motion > video")[0],n=this.files[0],o=n.type,s=i.canPlayType(o);if(s=""===s?"no":s,URL){var l=URL.createObjectURL(n);i.src=l,i.autoPlay=!0}}return e}()},{}],17:[function(e,t){t.exports=function(){function t(e,t,i,n){console.log("[Picture] constructor"),this.$el=e,console.log(e),n&&(this.imgSrc=n)}var i=e("./PictureEdit");return t.prototype.createPicture=function(){console.log("[Picture] creatPicture");var e=$("#picture-template").text(),t=Handlebars.compile(e),i={};i.imgSrc=this.txt?this.imgSrc:"";var n=t(i);return $(n)},t.prototype.edit=function(e,t){console.log("[Picture] edit"),this.$el=e,this.elementId=t,this.$el.find("#"+t).append(new i(e,this.imgSrc,t))},t.prototype.confirm=function(){console.log("[Picture] confirm"),this.imgSrc=this.$el.find("#"+this.elementId+" .input-picture").val(),this.endEdit()},t.prototype.endEdit=function(){console.log("[Picture] endEdit"),console.log(this.elementId),this.$el.find("#"+this.elementId+" > .input-picture").remove()},t}()},{"./PictureEdit":18}],18:[function(e,t){t.exports=function(){function e(e,i,n){console.log("[PictureEdit] constructor"),window.File&&window.FileReader&&window.FileList&&window.Blob&&console.log("Full file support"),this.$el=e;var o=$("#picture-edit-template").text(),s=Handlebars.compile(o),l={};l.txt=i;var r=s(l);return setTimeout(function(){t(n)},100),$(r)}function t(e){console.log("[PictureEdit] initImageInput");var t=$("#"+e+" > .input-picture")[0];t.addEventListener("change",i)}function i(){console.log("[PictureEdit] createThumb");var e=event.target.parentNode.id;if(this.files&&this.files[0]&&this.files[0].type.match("image.*")){var t=new FileReader,i=$("#"+e+"> .picture > #image-preview")[0];t.onload=function(e){i.setAttribute("src",e.target.result),i.setAttribute("width",i.width),i.setAttribute("height",i.height),i.onload=function(){0===n.length?(i.style.backgroundImage="url('"+e.target.result+"')",i.style.height=i.width+"px",i.style.width=i.height+"px"):n=[]}},t.readAsDataURL(this.files[0])}else n.push("File is not a valid image")}var n=[];return e}()},{}],19:[function(e,t){t.exports=function(){function t(e){console.log("[Postit] constructor"),this.txt=e,this.txt||(this.txt="Nieuwe Postit")}var i=e("./PostitEdit");return t.prototype.createPostit=function(){console.log("[Postit] createPostit");var e=$("#postit-template").text(),t=Handlebars.compile(e),i={};i.txt=this.txt;var n=t(i);return $(n)},t.prototype.edit=function(e,t){console.log("[Postit] edit"),this.$el=e,this.elementId=t,this.$el.find("#"+t+" > .postit > p").toggleClass("hidden"),this.$el.find("#"+t).append(new i(this.txt))},t.prototype.confirm=function(){console.log("[Postit] confirm"),this.txt=this.$el.find("#"+this.elementId+" .postit-edit").val(),this.endEdit()},t.prototype.endEdit=function(){console.log("[Postit] endEdit"),this.$el.find("#"+this.elementId+" > .postit > p").addClass("hidden").text(this.txt),this.$el.find("#"+this.elementId+" > .postit-edit").remove(),this.$el.find("#"+this.elementId+" > .postit > p").toggleClass("hidden")},t}()},{"./PostitEdit":20}],20:[function(e,t){t.exports=function(){function e(e){console.log("[PostitEdit] constructor");var t=$("#postit-edit-template").text(),i=Handlebars.compile(t),n={};n.txt=e;var o=i(n);return $(o)}return e}()},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9zcmMvc2NyaXB0LmpzIiwianMvc3JjL2NsYXNzZXMvQXBwLmpzIiwianMvc3JjL2NsYXNzZXMvRGF0YUhhbmRsZXIuanMiLCJqcy9zcmMvY2xhc3Nlcy9FZGl0TWVudS5qcyIsImpzL3NyYy9jbGFzc2VzL0VsZW1lbnQuanMiLCJqcy9zcmMvY2xhc3Nlcy9FbGVtZW50UGlja2VyLmpzIiwianMvc3JjL2NsYXNzZXMvT3ZlcnZpZXcuanMiLCJqcy9zcmMvY2xhc3Nlcy9PdmVydmlld0VsZW1lbnQuanMiLCJqcy9zcmMvY2xhc3Nlcy9PdmVydmlld0hhbmRsZXIuanMiLCJqcy9zcmMvY2xhc3Nlcy9QYXJ0aWNpcGFudC5qcyIsImpzL3NyYy9jbGFzc2VzL1Byb2ZpbGUuanMiLCJqcy9zcmMvY2xhc3Nlcy9Vc2VySGFuZGxlci5qcyIsImpzL3NyYy9jbGFzc2VzL1doaXRlYm9hcmQuanMiLCJqcy9zcmMvY2xhc3Nlcy9XaGl0ZWJvYXJkU2V0dGluZ3MuanMiLCJqcy9zcmMvY2xhc3Nlcy9lbGVtZW50cy9Nb3Rpb24uanMiLCJqcy9zcmMvY2xhc3Nlcy9lbGVtZW50cy9Nb3Rpb25FZGl0LmpzIiwianMvc3JjL2NsYXNzZXMvZWxlbWVudHMvUGljdHVyZS5qcyIsImpzL3NyYy9jbGFzc2VzL2VsZW1lbnRzL1BpY3R1cmVFZGl0LmpzIiwianMvc3JjL2NsYXNzZXMvZWxlbWVudHMvUG9zdGl0LmpzIiwianMvc3JjL2NsYXNzZXMvZWxlbWVudHMvUG9zdGl0RWRpdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxDQUFBLElBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLGtCQUFBLFVBQUEsT0FBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLE9BQUEsdUJBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxLQUFBLG1CQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxXQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxHQUFBLGtCQUFBLFVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEtBQUEsR0FBQSxTQUFBLElDQUEsV0FNQSxRQUFBLEtBRUEsR0FBQSxHQUFBLEVBQUEsZUFDQSxHQUFBLEdBQUEsRUFBQSxlQVJBLEdBQUEsR0FBQSxFQUFBLHFCQUVBLEdBREEsRUFBQSxpQkFDQSxFQUFBLHNCQVVBLDZGQ2JBLEVBQUEsUUFBQSxXQU9BLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSxxQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLGFBQUEsRUFDQSxLQUFBLE9BQUEsV0FDQSxLQUFBLEVBQUEsRUFDQSxLQUFBLGVBQ0EsS0FBQSxZQUNBLEtBQUEsWUFBQSxHQUFBLEdBQ0EsS0FBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLEtBQ0EsS0FBQSxjQUFBLEdBQUEsR0FBQSxLQUFBLEtBRUEsS0FBQSxHQUFBLEtBQUEsWUFBQSxlQUFBLEtBQUEsaUJBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxLQUFBLFdBQUEscUJBQUEsS0FBQSx5QkFBQSxLQUFBLE9BQ0EsS0FBQSxHQUFBLEtBQUEsY0FBQSx5QkFBQSxLQUFBLDRCQUFBLEtBQUEsT0FFQSxLQUFBLGFBckJBLEdBQUEsR0FBQSxFQUFBLGdCQUNBLEVBQUEsRUFBQSxtQkFDQSxFQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsZ0JBdUVBLE9BbERBLEdBQUEsVUFBQSx5QkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLGtDQUNBLEtBQUEsY0FBQSxnQkFDQSxLQUFBLGNBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQSxNQUNBLEtBQUEsU0FBQSxHQUdBLEVBQUEsVUFBQSw0QkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLHFDQUNBLEtBQUEsY0FBQSxlQUNBLElBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxTQUNBLE1BQUEsV0FBQSxFQUFBLEVBQUEsWUFHQSxFQUFBLFVBQUEsV0FBQSxXQUFBLFFBQUEsSUFBQSxtQkFDQSxLQUFBLEdBQUEsS0FBQSxNQUFBLE1BQ0EsS0FBQSxZQUFBLGtCQUFBLEtBQUEsTUFBQSxLQUlBLEVBQUEsVUFBQSxpQkFBQSxXQUFBLFFBQUEsSUFBQSwwQkFDQSxLQUFBLFlBQUEsS0FBQSxLQUFBLFlBQUEsb0JBQ0EsS0FBQSxJQUNBLEtBQUEsR0FBQSxLQUFBLE1BQUEsUUFDQSxLQUFBLGNBSUEsRUFBQSxVQUFBLFdBQUEsV0FBQSxRQUFBLElBQUEsbUJBQ0EsSUFBQSxHQUFBLEtBQUEsWUFBQSxHQUFBLEVBQ0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsUUFDQSxJQUNBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxLQUNBLElBQUEsR0FBQSxFQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLFFBQ0EsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxNQUFBLEdBQUEsRUFBQSxpQkFBQSxLQUFBLGNBQUEsS0FBQSxTQUlBLEVBQUEsVUFBQSxjQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsdUJBQ0EsS0FBQSxZQUFBLG1CQUFBLEVBQUEsWUFBQSxFQUFBLEtBR0EsRUFBQSxVQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLDJCQUNBLEtBQUEsWUFBQSxnQkFBQSxFQUFBLEVBQUEsS0FBQSxTQUFBLEtBQUEsZUFJQSxnR0MzRUEsRUFBQSxRQUFBLFdBRUEsUUFBQSxLQUFBLFFBQUEsSUFBQSw2QkFDQSxLQUFBLElBQUEsK0NBQ0EsRUFBQSxLQUNBLEtBQUEsaUJBQ0EsS0FBQSxhQUxBLEdBQUEsRUF3RUEsT0FoRUEsR0FBQSxVQUFBLGtCQUFBLFNBQUEsR0FDQSxNQURBLFNBQUEsSUFBQSxtQ0FDQSxFQUFBLE1BQ0EsS0FBQSxNQUNBLElBQUEsS0FBQSxJQUFBLEVBQUEsS0FDQSxNQUFBLFFBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxFQUFBLGNBQUEsS0FBQSxHQUNBLEtBQUEsS0FBQSxFQUFBLGdCQUFBLFFBS0EsRUFBQSxVQUFBLGlCQUFBLFdBQ0EsTUFEQSxTQUFBLElBQUEsa0NBQ0EsS0FBQSxlQUdBLEVBQUEsVUFBQSxtQkFBQSxTQUFBLEVBQUEsR0FDQSxPQURBLFFBQUEsSUFBQSxvQ0FDQSxHQUNBLElBQUEsVUFDQSxLQUFBLGtCQUFBLFVBQUEsRUFDQSxNQUNBLEtBQUEsU0FDQSxLQUFBLGtCQUFBLFNBQUEsRUFDQSxNQUNBLEtBQUEsU0FDQSxLQUFBLGtCQUFBLFNBQUEsS0FLQSxFQUFBLFVBQUEsa0JBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLEtBQUEsTUFDQSxJQUFBLEtBQUEsSUFBQSxFQUFBLFdBQUEsRUFDQSxNQUFBLFFBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsYUFBQSxPQU1BLEVBQUEsVUFBQSxnQkFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLEtBQUEsSUFBQSxlQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxLQUNBLFFBQUEsV0FDQSxRQUFBLElBQUEsMEJBTUEsRUFBQSxVQUFBLGFBQUEsV0FDQSxNQURBLFNBQUEsSUFBQSw4QkFDQSxFQUFBLE1BQ0EsS0FBQSxNQUNBLElBQUEsS0FBQSxJQUFBLFdBQ0EsTUFBQSxRQUFBLFdBQ0EsUUFBQSxTQUFBLEdBQ0EsS0FBQSxjQUFBLEtBQUEsSUFDQSxLQUFBLFNBSUEsMkJDekVBLEVBQUEsUUFBQSxXQUVBLFFBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLDBCQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsVUFBQSxDQUNBLElBQUEsR0FBQSxFQUFBLHVCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxHQUNBLFVBQ0EsU0FBQSxTQUFBLEtBQUEsYUFDQSxTQUFBLE9BQUEsS0FBQSxhQUNBLFNBQUEsU0FBQSxLQUFBLGdCQUdBLFlBQUEsZUFBQSxXQUFBLFdBQ0EsR0FBQSxHQUFBLFdBQUEsaUJBQUEsS0FBQSxVQUNBLEVBQUEsV0FBQSxpQkFBQSxLQUFBLEtBRUEsT0FBQSxJQUFBLFlBQUEsV0FDQSxVQUFBLEVBQUEsSUFBQSxFQUFBLFVBSUEsSUFBQSxHQUFBLEVBQUEsRUFDQSxNQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxPQUFBLEdBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEsUUFBQSxZQUFBLFVBQ0EsS0FBQSxlQUNBLEtBQUEsZ0JBMEJBLE1BdkJBLEdBQUEsVUFBQSxjQUFBLFdBQUEsUUFBQSxJQUFBLDRCQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLFFBQUEsWUFBQSxVQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGVBQUEsWUFBQSxXQUdBLEVBQUEsVUFBQSxhQUFBLFdBQUEsUUFBQSxJQUFBLDJCQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLFFBQUEsR0FBQSxRQUFBLEtBQUEsYUFBQSxLQUFBLE9BQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEsT0FBQSxHQUFBLFFBQUEsS0FBQSxhQUFBLEtBQUEsUUFHQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEdBQ0EsR0FEQSxRQUFBLElBQUEsMkJBQ0EsZUFBQSxFQUFBLE9BQUEsVUFDQSxLQUFBLEtBQUEsS0FBQSxlQUFBLEdBQ0EsS0FBQSxvQkFDQSxDQUNBLEdBQUEsS0FDQSxHQUFBLFNBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxVQUFBLEtBQUEsVUFDQSxLQUFBLEtBQUEsS0FBQSxpQkFBQSxLQUtBLDJCQ3JEQSxFQUFBLFFBQUEsV0FRQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLHlCQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsUUFBQSxFQUNBLEtBQUEsWUFBQSxFQUNBLEtBQUEsVUFBQSxFQUVBLEtBQUEsVUFEQSxLQUFBLFVBQ0EsRUFFQSxLQUFBLGVBRUEsS0FBQSxTQUFBLEVBQ0EsSUFDQSxLQUFBLEdBQUEsR0FFQSxLQUFBLHNCQXBCQSxHQUFBLEdBQUEsRUFBQSxjQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEscUJBQ0EsRUFBQSxFQUFBLHNCQUNBLEVBQUEsRUFBQSxvQkFtSUEsT0FoSEEsR0FBQSxVQUFBLG9CQUFBLFdBQUEsUUFBQSxJQUFBLGlDQUNBLEtBQUEsSUFBQSxLQUFBLGVBQUEsT0FBQSw4Q0FDQSxLQUFBLElBQUEsS0FBQSxnQ0FBQSxLQUFBLEtBQUEsS0FBQSxVQUNBLElBQUEsS0FDQSxHQUFBLElBQUEsS0FBQSxTQUFBLEtBQ0EsRUFBQSxLQUFBLEtBQUEsU0FBQSxLQUNBLEVBQUEsT0FBQSxFQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUFBLElBQUEsR0FDQSxLQUFBLGlCQUNBLEtBQUEsaUJBR0EsRUFBQSxVQUFBLGNBQUEsV0FDQSxPQURBLFFBQUEsSUFBQSwyQkFDQSxLQUFBLGFBQ0EsSUFBQSxVQUNBLEtBQUEsUUFBQSxHQUFBLEdBQUEsS0FBQSxTQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUFBLE9BQUEsS0FBQSxRQUFBLGNBQ0EsS0FBQSxZQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUNBLE1BQ0EsS0FBQSxTQUNBLEtBQUEsUUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFlBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQUEsT0FBQSxLQUFBLFFBQUEsZUFDQSxLQUFBLFlBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQ0EsTUFDQSxLQUFBLFNBQ0EsS0FBQSxRQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsWUFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxPQUFBLEtBQUEsUUFBQSxjQUNBLEtBQUEsWUFBQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsY0FLQSxFQUFBLFVBQUEsWUFBQSxXQUFBLFFBQUEsSUFBQSx5QkFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxHQUFBLFlBQUEsS0FBQSxpQkFBQSxLQUFBLE9BQ0EsUUFBQSxJQUFBLFNBQ0EsUUFBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxZQUNBLEtBQUEsV0FBQSxHQUdBLEVBQUEsVUFBQSxpQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLDhCQUNBLEtBQUEsV0FBQSxFQUVBLEtBQUEsa0JBQUEsS0FBQSxpQkFBQSxLQUFBLE1BQ0EsS0FBQSxnQkFBQSxLQUFBLGVBQUEsS0FBQSxNQUVBLEtBQUEsUUFBQSxFQUFBLFFBQ0EsS0FBQSxRQUFBLEVBQUEsVUFFQSxFQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUFBLElBQUEsU0FBQSxHQUVBLFNBQUEsS0FBQSxpQkFBQSxZQUFBLEtBQUEsbUJBQ0EsU0FBQSxLQUFBLGlCQUFBLFVBQUEsS0FBQSxrQkFHQSxFQUFBLFVBQUEsZUFBQSxXQUFBLFFBQUEsSUFBQSw0QkFDQSxLQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLFdBQ0EsS0FBQSxHQUFBLEtBQUEsU0FBQSxlQUFBLEtBQUEsbUJBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxLQUFBLFNBQUEsaUJBQUEsS0FBQSxxQkFBQSxLQUFBLFFBR0EsRUFBQSxVQUFBLG1CQUFBLFdBQUEsUUFBQSxJQUFBLGdDQUNBLEtBQUEsUUFBQSxLQUFBLEtBQUEsSUFBQSxLQUFBLFlBR0EsRUFBQSxVQUFBLHFCQUFBLFNBQUEsR0FDQSxPQURBLFFBQUEsSUFBQSxrQ0FDQSxFQUFBLFVBQ0EsSUFBQSxTQUNBLEtBQUEsU0FBQSxnQkFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsV0FBQSxRQUNBLElBQUEsS0FDQSxHQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsWUFBQSxLQUFBLFlBQ0EsS0FBQSxLQUFBLEtBQUEsaUJBQUEsRUFDQSxNQUNBLEtBQUEsT0FBQSxRQUFBLElBQUEsU0FDQSxLQUFBLFFBQUEsVUFDQSxLQUFBLFNBQUEsZUFDQSxNQUNBLEtBQUEsU0FDQSxLQUFBLFFBQUEsVUFDQSxLQUFBLFNBQUEsa0JBSUEsRUFBQSxVQUFBLGlCQUFBLFNBQUEsR0FDQSxHQURBLFFBQUEsSUFBQSw4QkFDQSxLQUFBLGFBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLFNBQUEsRUFBQSxRQUNBLE1BQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUFBLElBQUEsT0FBQSxFQUFBLEtBQUEsU0FDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxJQUFBLE1BQUEsRUFBQSxLQUFBLFdBSUEsRUFBQSxVQUFBLGVBQUEsV0FBQSxRQUFBLElBQUEsNEJBRUEsS0FBQSxXQUFBLEVBRUEsU0FBQSxLQUFBLG9CQUFBLFlBQUEsS0FBQSxtQkFDQSxTQUFBLEtBQUEsb0JBQUEsVUFBQSxLQUFBLGtCQUdBLEVBQUEsVUFBQSxhQUFBLFdBQUEsUUFBQSxJQUFBLHlCQUNBLElBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxtQkFDQSxHQUFBLElBQ0EsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEdBR0EsT0FEQSxHQUFBLEtBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLElBQ0EsT0FBQSxFQUFBLElBQUEsR0FHQSwrR0N6SUEsRUFBQSxRQUFBLFdBR0EsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLCtCQUNBLEtBQUEsSUFBQSxDQUNBLElBQUEsR0FBQSxFQUFBLDRCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxHQUNBLFdBQ0EsUUFBQSxVQUFBLEtBQUEsWUFDQSxRQUFBLFNBQUEsS0FBQSxVQUNBLFFBQUEsU0FBQSxLQUFBLFVBR0EsWUFBQSxlQUFBLFNBQUEsV0FDQSxHQUFBLEdBQUEsV0FBQSxpQkFBQSxLQUFBLFNBQ0EsRUFBQSxXQUFBLGlCQUFBLEtBQUEsS0FFQSxPQUFBLElBQUEsWUFBQSxXQUNBLFVBQUEsRUFBQSxJQUFBLEVBQUEsVUFJQSxJQUFBLEdBQUEsRUFBQSxFQUNBLE1BQUEsSUFBQSxLQUFBLGVBQUEsT0FBQSxFQUFBLElBQ0EsS0FBQSxnQkFDQSxLQUFBLGNBdUJBLE1BcEJBLEdBQUEsVUFBQSxjQUFBLFdBQUEsUUFBQSxJQUFBLGlDQUNBLEtBQUEsSUFBQSxLQUFBLG1CQUFBLFlBQUEsV0FHQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsOEJBQ0EsSUFBQSxJQUNBLElBQUEsRUFDQSxLQUFBLEVBRUEsTUFBQSxJQUFBLEtBQUEsbUJBQUEsSUFBQSxJQUdBLEVBQUEsVUFBQSxZQUFBLFdBQUEsUUFBQSxJQUFBLCtCQUNBLEtBQUEsSUFBQSxLQUFBLDZCQUFBLEdBQUEsUUFBQSxLQUFBLGFBQUEsS0FBQSxRQUdBLEVBQUEsVUFBQSxhQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsZ0NBQ0EsS0FBQSxLQUFBLEtBQUEseUJBQUEsRUFBQSxPQUFBLEtBR0EsMkJDakRBLEVBQUEsUUFBQSxXQU1BLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSwwQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLGFBQ0EsS0FBQSxnQkFBQSxHQUFBLEdBQ0EsS0FBQSxnQkFBQSxlQUVBLEtBQUEsR0FBQSxLQUFBLGdCQUFBLGVBQUEsS0FBQSxlQUFBLEtBQUEsT0FDQSxFQUFBLEtBQUEsZUFBQSxHQUFBLFFBQUEsS0FBQSxzQkFBQSxLQUFBLE9BWEEsR0FDQSxJQURBLEVBQUEsU0FDQSxFQUFBLHNCQUNBLEVBQUEsRUFBQSxvQkErQkEsT0FsQkEsR0FBQSxVQUFBLGVBQUEsU0FBQSxHQUdBLElBSEEsUUFBQSxJQUFBLHdCQUNBLEtBQUEsVUFBQSxLQUFBLEdBQ0EsUUFBQSxJQUFBLEtBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxLQUFBLFVBQUEsR0FBQSxPQUFBLElBQ0EsS0FBQSxnQkFBQSxHQUFBLEdBQUEsS0FBQSxVQUFBLEdBQUEsS0FJQSxFQUFBLFVBQUEsc0JBQUEsV0FBQSxRQUFBLElBQUEsb0NBQ0EsRUFBQSxjQUFBLEtBQUEsSUFHQSxLQUFBLE1BTUEsZ0ZDbkNBLEVBQUEsUUFBQSxXQUVBLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSwwQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLGFBQ0EsS0FBQSxvQkFBQSxHQWdDQSxNQTdCQSxHQUFBLFVBQUEsb0JBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSxpQ0FFQSxJQUFBLEdBQUEsRUFBQSwyQkFBQSxPQUNBLEVBQUEsV0FBQSxRQUFBLEdBQ0EsSUFDQSxHQUFBLE1BQUEsRUFBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxjQUFBLEVBQUEsYUFDQSxJQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsY0FBQSxPQUFBLEVBQUEsSUFFQSxLQUFBLFlBQUEsRUFBQSxHQUFBLEtBR0EsRUFBQSxVQUFBLFlBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSwwQkFDQSxFQUFBLGNBQUEsV0FBQSxpQkFBQSxRQUFBLEtBQUEsY0FBQSxLQUFBLFFBSUEsRUFBQSxVQUFBLGNBQUEsV0FBQSxRQUFBLElBQUEsNkJBSUEsRUFBQSxVQUFBLFlBQUEsV0FBQSxRQUFBLElBQUEsMkJBTUEsMkJDckNBLEVBQUEsUUFBQSxXQUNBLFFBQUEsS0FBQSxRQUFBLElBQUEsaUNBQ0EsS0FBQSxJQUFBLCtDQWVBLE1BWEEsR0FBQSxVQUFBLGFBQUEsV0FDQSxNQURBLFNBQUEsSUFBQSxrQ0FDQSxFQUFBLE1BQ0EsS0FBQSxNQUNBLElBQUEsS0FBQSxJQUFBLFdBQ0EsTUFBQSxRQUFBLFdBQ0EsUUFBQSxTQUFBLEdBQ0EsS0FBQSxLQUFBLEtBQUEsZ0JBQUEsS0FDQSxLQUFBLFNBSUEsNEJDakJBLEVBQUEsUUFBQSxXQUVBLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSw2QkFDQSxLQUFBLElBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxLQUFBLHFCQUNBLElBQUEsRUFBQSxNQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEseUJBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLEdBQUEsa0JBQ0EsWUFBQSxlQUFBLGNBQUEsV0FDQSxNQUFBLElBQUEsWUFBQSxXQUNBLGFBQUEsRUFBQSxNQUFBLCtDQUdBLElBQUEsR0FBQSxFQUFBLEVBQ0EsTUFBQSxJQUFBLEtBQUEscUJBQUEsT0FBQSxFQUFBLElBQ0EsS0FBQSxtQkFDQSxFQUFBLHNCQUFBLElBQUEsS0FhQSxNQVRBLEdBQUEsVUFBQSxpQkFBQSxXQUFBLFFBQUEsSUFBQSxrQ0FDQSxLQUFBLFlBQUEsU0FBQSxpQkFBQSxlQUNBLEtBQUEsWUFBQSxLQUFBLFlBQUEsT0FBQSxHQUFBLGlCQUFBLFFBQUEsS0FBQSxtQkFBQSxLQUFBLFFBR0EsRUFBQSxVQUFBLG1CQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsb0NBQ0EsS0FBQSxLQUFBLEtBQUEsU0FBQSxFQUFBLEtBQUEsS0FHQSw0QkM5QkEsRUFBQSxRQUFBLFdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSx5QkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLFFBQ0EsS0FBQSxZQUFBLEdBQUEsR0FHQSxLQUFBLFNBQUEsRUFDQSxLQUFBLE1BQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxtQkFBQSxPQUNBLEVBQUEsV0FBQSxRQUFBLEdBQ0EsS0FHQSxFQUFBLEVBQUEsRUFDQSxHQUFBLGNBQUEsT0FBQSxFQUFBLEdBR0EsSUFBQSxHQUFBLEVBQUEsc0JBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLEtBR0EsRUFBQSxFQUFBLEVBQ0EsR0FBQSxjQUFBLE9BQUEsRUFBQSxJQUVBLEtBQUEsSUFBQSxLQUFBLG9CQUFBLEdBQUEsUUFBQSxLQUFBLFNBQUEsS0FBQSxPQUNBLEVBQUEsYUFBQSxHQUFBLFFBQUEsS0FBQSxRQUFBLEtBQUEsT0FDQSxLQUFBLElBQUEsS0FBQSxVQUFBLEdBQUEsUUFBQSxLQUFBLE1BQUEsS0FBQSxPQUNBLEtBQUEsSUFBQSxLQUFBLFdBQUEsR0FBQSxRQUFBLEtBQUEsT0FBQSxLQUFBLE9BQ0EsS0FBQSxHQUFBLEtBQUEsWUFBQSxhQUFBLEtBQUEsU0FBQSxLQUFBLE9BL0JBLEdBQUEsR0FBQSxFQUFBLGdCQTZFQSxPQTNDQSxHQUFBLFVBQUEsU0FBQSxXQUFBLFFBQUEsSUFBQSxzQkFDQSxFQUFBLGFBQUEsWUFBQSxXQUdBLEVBQUEsVUFBQSxRQUFBLFdBQUEsUUFBQSxJQUFBLHFCQUNBLEtBQUEsU0FBQSxLQUFBLElBQUEsS0FBQSxrQkFBQSxNQUNBLEtBQUEsTUFBQSxLQUFBLElBQUEsS0FBQSxtQkFBQSxNQUNBLEtBQUEsU0FBQSxLQUFBLElBQUEsS0FBQSxzQkFBQSxNQUNBLEtBQUEsV0FBQSxLQUFBLElBQUEsS0FBQSx3QkFBQSxNQUVBLEtBQUEsVUFBQSxLQUFBLFlBQ0EsS0FBQSxZQUFBLFNBQUEsS0FBQSxTQUFBLEtBQUEsTUFBQSxLQUFBLFdBSUEsRUFBQSxVQUFBLE1BQUEsV0FBQSxRQUFBLElBQUEsbUJBQ0EsS0FBQSxNQUFBLEtBQUEsSUFBQSxLQUFBLGdCQUFBLE1BQ0EsS0FBQSxTQUFBLEtBQUEsSUFBQSxLQUFBLG1CQUFBLE1BQ0EsS0FBQSxZQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsV0FHQSxFQUFBLFVBQUEsT0FBQSxXQUFBLFFBQUEsSUFBQSxvQkFDQSxLQUFBLFFBQ0EsS0FBQSxnQkFDQSxFQUFBLG9CQUFBLFlBQUEsV0FHQSxFQUFBLFVBQUEsU0FBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLHNCQUNBLEtBQUEsTUFBQSxHQUVBLEtBQUEsS0FBQSxLQUNBLEVBQUEsU0FBQSxJQUFBLElBQ0EsRUFBQSxvQkFBQSxTQUFBLFVBQ0EsRUFBQSxhQUFBLFNBQUEsVUFDQSxLQUFBLGtCQUlBLEVBQUEsVUFBQSxjQUFBLFdBQUEsUUFBQSxJQUFBLDJCQUNBLEVBQUEsVUFBQSxZQUFBLFVBQ0EsRUFBQSxXQUFBLFlBQUEsV0FHQSw4Q0M5RUEsRUFBQSxRQUFBLFdBQ0EsUUFBQSxLQUFBLFFBQUEsSUFBQSxpQ0FDQSxLQUFBLElBQUEsK0NBNEJBLE1BekJBLEdBQUEsVUFBQSxNQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSx1QkFDQSxFQUFBLE1BQ0EsS0FBQSxPQUNBLE1BQUEsUUFBQSxXQUNBLElBQUEsS0FBQSxJQUFBLGVBQUEsRUFBQSxJQUFBLEVBQ0EsUUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLGNBQUEsSUFDQSxLQUFBLEtBQUEsS0FBQSxjQUFBLEtBQ0EsS0FBQSxTQU1BLEVBQUEsVUFBQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLDBCQUNBLEVBQUEsTUFDQSxLQUFBLE9BQ0EsTUFBQSxRQUFBLFdBQ0EsSUFBQSxLQUFBLElBQUEsa0JBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxvQkFBQSxJQUNBLEtBQUEsS0FBQSxLQUFBLGNBQUEsS0FDQSxLQUFBLFNBR0EsNEJDOUJBLEVBQUEsUUFBQSxXQUlBLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSw0QkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLG1CQUNBLEtBQUEsd0JBTEEsR0FBQSxHQUFBLEVBQUEsdUJBaUNBLE9BeEJBLEdBQUEsVUFBQSxpQkFBQSxXQUFBLFFBQUEsSUFBQSxpQ0FDQSxLQUFBLE1BQUEsS0FBQSxJQUFBLE9BQUEsK0JBQ0EsS0FBQSxlQUdBLEVBQUEsVUFBQSxZQUFBLFdBQUEsUUFBQSxJQUFBLDRCQUNBLEtBQUEsTUFBQSxHQUFBLFFBQUEsS0FBQSxhQUFBLEtBQUEsUUFHQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLDRCQUNBLElBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxJQUFBLFNBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLElBQUEsU0FBQSxJQUNBLElBQ0EsR0FBQSxLQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQ0EsZUFBQSxFQUFBLE9BQUEsSUFDQSxLQUFBLEtBQUEsS0FBQSxxQkFBQSxJQUlBLEVBQUEsVUFBQSxzQkFBQSxXQUFBLFFBQUEsSUFBQSxzQ0FDQSxLQUFBLG1CQUFBLEdBQUEsR0FBQSxLQUFBLE1BR0EscURDbkNBLEVBQUEsUUFBQSxXQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsb0NBQ0EsS0FBQSxJQUFBLEVBQ0EsS0FBQSxjQUFBLEVBQ0EsS0FBQSxPQUFBLENBRUEsSUFBQSxHQUFBLEVBQUEsc0JBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLElBRUEsR0FBQSxNQURBLEtBQUEsT0FDQSxFQUVBLFVBR0EsSUFBQSxHQUFBLEVBQUEsRUFDQSxTQUFBLElBQUEsR0FDQSxFQUFBLGNBQUEsT0FBQSxFQUFBLElBRUEsS0FBQSxjQXJCQSxHQUFBLEdBQUEsRUFBQSxnQkFrREEsT0ExQkEsR0FBQSxVQUFBLGNBQUEsV0FBQSxRQUFBLElBQUEsc0NBQ0EsS0FBQSxJQUFBLEtBQUEsU0FBQSxZQUFBLFVBQ0EsS0FBQSxJQUFBLEtBQUEsU0FBQSxZQUFBLFdBR0EsRUFBQSxVQUFBLFlBQUEsV0FBQSxRQUFBLElBQUEsb0NBQ0EsS0FBQSxJQUFBLEtBQUEsZ0JBQUEsR0FBQSxRQUFBLEtBQUEsb0JBQUEsS0FBQSxPQUNBLEtBQUEsSUFBQSxLQUFBLGdCQUFBLEdBQUEsUUFBQSxLQUFBLG9CQUFBLEtBQUEsT0FDQSxLQUFBLElBQUEsS0FBQSxlQUFBLEdBQUEsUUFBQSxLQUFBLGtCQUFBLEtBQUEsUUFFQSxFQUFBLFVBQUEsa0JBQUEsV0FBQSxRQUFBLElBQUEsMENBQ0EsS0FBQSxZQUFBLEdBQUEsR0FBQSxLQUFBLEtBQ0EsS0FBQSxHQUFBLEtBQUEsWUFBQSxTQUFBLEtBQUEsa0JBQUEsS0FBQSxRQUdBLEVBQUEsVUFBQSxvQkFBQSxXQUFBLFFBQUEsSUFBQSw0Q0FDQSxLQUFBLElBQUEsS0FBQSxpQkFBQSxZQUFBLFVBQ0EsS0FBQSxJQUFBLEtBQUEsZ0JBQUEsWUFBQSxXQUdBLEVBQUEsVUFBQSxrQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLHlDQUNBLElBQUEsR0FBQSxTQUFBLGNBQUEsb0JBQ0EsR0FBQSxZQUFBLElBSUEsOENDbkRBLEVBQUEsUUFBQSxXQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSx3QkFDQSxLQUFBLElBQUEsRUFDQSxJQUNBLEtBQUEsT0FBQSxHQU5BLEdBQUEsR0FBQSxFQUFBLGVBNENBLE9BbENBLEdBQUEsVUFBQSxhQUFBLFdBQUEsUUFBQSxJQUFBLHVCQUNBLElBQUEsR0FBQSxFQUFBLG9CQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUdBLEdBQUEsT0FEQSxLQUFBLE9BQ0EsS0FBQSxPQUVBLEVBR0EsSUFBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLG9CQUFBLE9BQUEsRUFBQSxLQUlBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxpQkFFQSxLQUFBLElBQUEsRUFDQSxLQUFBLFVBQUEsRUFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEdBQUEsT0FBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEtBSUEsRUFBQSxVQUFBLFFBQUEsV0FBQSxRQUFBLElBQUEsb0JBQ0EsS0FBQSxPQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGlCQUFBLE1BQ0EsS0FBQSxXQUdBLEVBQUEsVUFBQSxRQUFBLFdBQUEsUUFBQSxJQUFBLG9CQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLG1CQUFBLFVBSUEsNkNDN0NBLEVBQUEsUUFBQSxXQUVBLFFBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLDJCQUNBLElBQUEsR0FBQSxFQUFBLHlCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUNBLEdBQUEsT0FBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEVBR0EsT0FGQSxZQUFBLFdBQUEsRUFBQSxJQUNBLEtBQ0EsRUFBQSxHQUdBLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSwyQkFDQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsdUJBQUEsRUFDQSxHQUFBLGlCQUFBLFNBQUEsR0FHQSxRQUFBLEdBQUEsR0FBQSxRQUFBLElBQUEsNEJBQ0EsSUFBQSxHQUFBLEVBQUEsT0FBQSxXQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxzQkFBQSxHQUNBLEVBQUEsS0FBQSxNQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLFlBQUEsRUFJQSxJQUhBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFHQSxJQUFBLENBQ0EsR0FBQSxHQUFBLElBQUEsZ0JBQUEsRUFDQSxHQUFBLElBQUEsRUFDQSxFQUFBLFVBQUEsR0FJQSxNQUFBLDZCQ25DQSxFQUFBLFFBQUEsV0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEseUJBQ0EsS0FBQSxJQUFBLEVBQ0EsUUFBQSxJQUFBLEdBQ0EsSUFDQSxLQUFBLE9BQUEsR0FOQSxHQUFBLEdBQUEsRUFBQSxnQkEyQ0EsT0FqQ0EsR0FBQSxVQUFBLGNBQUEsV0FBQSxRQUFBLElBQUEseUJBQ0EsSUFBQSxHQUFBLEVBQUEscUJBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLElBR0EsR0FBQSxPQURBLEtBQUEsSUFDQSxLQUFBLE9BRUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsR0FBQSxJQUlBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxrQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLFVBQUEsRUFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEdBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLE9BQUEsS0FHQSxFQUFBLFVBQUEsUUFBQSxXQUFBLFFBQUEsSUFBQSxxQkFDQSxLQUFBLE9BQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEsbUJBQUEsTUFDQSxLQUFBLFdBR0EsRUFBQSxVQUFBLFFBQUEsV0FBQSxRQUFBLElBQUEscUJBRUEsUUFBQSxJQUFBLEtBQUEsV0FDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsVUFBQSxxQkFBQSxVQUlBLDhDQzVDQSxFQUFBLFFBQUEsV0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLDZCQUVBLE9BQUEsTUFDQSxPQUFBLFlBQ0EsT0FBQSxVQUNBLE9BQUEsTUFFQSxRQUFBLElBQUEscUJBR0EsS0FBQSxJQUFBLENBQ0EsSUFBQSxHQUFBLEVBQUEsMEJBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLElBQ0EsR0FBQSxJQUFBLENBRUEsSUFBQSxHQUFBLEVBQUEsRUFFQSxPQURBLFlBQUEsV0FBQSxFQUFBLElBQUEsS0FDQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLCtCQUNBLElBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxxQkFBQSxFQUNBLEdBQUEsaUJBQUEsU0FBQSxHQUdBLFFBQUEsS0FBQSxRQUFBLElBQUEsNEJBQ0EsSUFBQSxHQUFBLE1BQUEsT0FBQSxXQUFBLEVBQ0EsSUFDQSxLQUFBLE9BQ0EsS0FBQSxNQUFBLElBQ0EsS0FBQSxNQUFBLEdBQUEsS0FBQSxNQUFBLFdBQ0EsQ0FDQSxHQUFBLEdBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsK0JBQUEsRUFFQSxHQUFBLE9BQUEsU0FBQSxHQUNBLEVBQUEsYUFBQSxNQUFBLEVBQUEsT0FBQSxRQUNBLEVBQUEsYUFBQSxRQUFBLEVBQUEsT0FDQSxFQUFBLGFBQUEsU0FBQSxFQUFBLFFBQ0EsRUFBQSxPQUFBLFdBQ0EsSUFBQSxFQUFBLFFBQ0EsRUFBQSxNQUFBLGdCQUFBLFFBQUEsRUFBQSxPQUFBLE9BQUEsS0FDQSxFQUFBLE1BQUEsT0FBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLE1BQUEsTUFBQSxFQUFBLE9BQUEsTUFFQSxPQUlBLEVBQUEsY0FBQSxLQUFBLE1BQUEsUUFHQSxHQUFBLEtBQUEsNkJBdkRBLEdBQUEsS0EyREEsT0FBQSw2QkM1REEsRUFBQSxRQUFBLFdBSUEsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLHdCQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsTUFDQSxLQUFBLElBQUEsaUJBTEEsR0FBQSxHQUFBLEVBQUEsZUFvQ0EsT0EzQkEsR0FBQSxVQUFBLGFBQUEsV0FBQSxRQUFBLElBQUEsd0JBQ0EsSUFBQSxHQUFBLEVBQUEsb0JBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLElBQ0EsR0FBQSxJQUFBLEtBQUEsR0FDQSxJQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsR0FBQSxJQUdBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxpQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLFVBQUEsRUFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsa0JBQUEsWUFBQSxVQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxLQUFBLE9BR0EsRUFBQSxVQUFBLFFBQUEsV0FBQSxRQUFBLElBQUEsb0JBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGlCQUFBLE1BQ0EsS0FBQSxXQUdBLEVBQUEsVUFBQSxRQUFBLFdBQUEsUUFBQSxJQUFBLG9CQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGtCQUFBLFNBQUEsVUFBQSxLQUFBLEtBQUEsS0FDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsVUFBQSxtQkFBQSxTQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGtCQUFBLFlBQUEsV0FHQSw2Q0N0Q0EsRUFBQSxRQUFBLFdBRUEsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLDJCQUNBLElBQUEsR0FBQSxFQUFBLHlCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUNBLEdBQUEsSUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQUFBLEdBSUEsTUFBQSIsImZpbGUiOiJzY3JpcHQuZGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uKCl7XG5cdHZhciBQcm9maWxlID0gcmVxdWlyZSgnLi9jbGFzc2VzL1Byb2ZpbGUnKTtcblx0dmFyIEFwcCA9IHJlcXVpcmUoJy4vY2xhc3Nlcy9BcHAnKTtcblx0dmFyIE92ZXJ2aWV3ID0gcmVxdWlyZSgnLi9jbGFzc2VzL092ZXJ2aWV3Jyk7XG5cblxuXHRmdW5jdGlvbiBpbml0KCnCoHtcblx0XHQvL25ldyBBcHAoJCgnI2NvbnRhaW5lcicpKTtcblx0XHRuZXcgUHJvZmlsZSgkKCcjY29udGFpbmVyJykpO1x0XHRcblx0XHRuZXcgT3ZlcnZpZXcoJCgnI2NvbnRhaW5lcicpKTtcblxuXHR9XG5cblx0aW5pdCgpO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdHZhciBXaGl0ZWJvYXJkID0gcmVxdWlyZSgnLi9XaGl0ZWJvYXJkJyk7XG5cdHZhciBFbGVtZW50UGlja2VyID0gcmVxdWlyZSgnLi9FbGVtZW50UGlja2VyJyk7XG5cdHZhciBFbGVtZW50ID0gcmVxdWlyZSgnLi9FbGVtZW50Jyk7XG5cdHZhciBEYXRhSGFuZGxlciA9IHJlcXVpcmUoJy4vRGF0YUhhbmRsZXInKTtcblxuXG5cdGZ1bmN0aW9uIEFwcCgkZWwpIHsgY29uc29sZS5sb2coJ1tBcHBdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy53aGl0ZWJvYXJkSWQgPSAxO1xuXHRcdHRoaXMudHlwZXMgPSBbJ3Bvc3RpdHMnXTtcblx0XHR0aGlzLmkgPSAwO1xuXHRcdHRoaXMuZWxlbWVudExpc3QgPSBbXTtcblx0XHR0aGlzLnBvc2l0aW9uID0ge307XG5cdFx0dGhpcy5kYXRhSGFuZGxlciA9IG5ldyBEYXRhSGFuZGxlcigpO1xuXHRcdHRoaXMud2hpdGVib2FyZCA9IG5ldyBXaGl0ZWJvYXJkKHRoaXMuJGVsKTtcblx0XHR0aGlzLmVsZW1lbnRQaWNrZXIgPSBuZXcgRWxlbWVudFBpY2tlcih0aGlzLiRlbCk7XG5cdFx0Ly9MVUlTVEVSRU5cblx0XHRiZWFuLm9uKHRoaXMuZGF0YUhhbmRsZXIsIFwiZGF0YS1zdWNjZXNzXCIsIHRoaXMuYWRkVG9FbGVtZW50TGlzdC5iaW5kKHRoaXMpKTtcblx0XHRiZWFuLm9uKHRoaXMud2hpdGVib2FyZCwgXCJ3aGl0ZWJvYXJkLWNsaWNrZWRcIiwgdGhpcy53aGl0ZWJvYXJkQ2xpY2tlZEhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdFx0YmVhbi5vbih0aGlzLmVsZW1lbnRQaWNrZXIsIFwiZWxlbWVudC1waWNrZXItY2xpY2tlZFwiLCB0aGlzLmVsZW1lbnRQaWNrZXJDbGlja2VkSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHQvL1VJVFZPRVJFTlxuXHRcdHRoaXMuYnVpbGRCb2FyZCgpO1xuXHR9XG5cblx0QXBwLnByb3RvdHlwZS53aGl0ZWJvYXJkQ2xpY2tlZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbQXBwXSB3aGl0ZWJvYXJkQ2xpY2tlZEhhbmRsZXInKTtcblx0XHR0aGlzLmVsZW1lbnRQaWNrZXIudG9nZ2xlVmlzaWJsZSgpO1xuXHRcdHRoaXMuZWxlbWVudFBpY2tlci5zZXRMb2NhdGlvbihldmVudC54UG9zLCBldmVudC55UG9zKTtcblx0XHR0aGlzLnBvc2l0aW9uID0gZXZlbnQ7XG5cdH07XG5cblx0QXBwLnByb3RvdHlwZS5lbGVtZW50UGlja2VyQ2xpY2tlZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbQXBwXSBlbGVtZW50UGlja2VyQ2xpY2tlZEhhbmRsZXInKTsgXG5cdFx0dGhpcy5lbGVtZW50UGlja2VyLnRvZ2dsZVZpc2libGUoKTtcblx0XHR2YXIgZWxlbWVudCA9IG5ldyBFbGVtZW50KHRoaXMuJGVsLGV2ZW50LHRoaXMucG9zaXRpb24pO1xuXHRcdHRoaXMubmV3RWxlbWVudChldmVudCwgZWxlbWVudC5lbGVtZW50SWQpO1xuXHR9O1xuXG5cdEFwcC5wcm90b3R5cGUuYnVpbGRCb2FyZCA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbQXBwXSBidWlsZEJvYXJkJyk7XG5cdFx0Zm9yKHZhciB0eXBlIGluIHRoaXMudHlwZXMpIHtcbiAgXHRcdFx0dGhpcy5kYXRhSGFuZGxlci5sb2FkQm9hcmRFbGVtZW50cyh0aGlzLnR5cGVzW3R5cGVdKTtcblx0XHR9XG5cdH07XG5cblx0QXBwLnByb3RvdHlwZS5hZGRUb0VsZW1lbnRMaXN0ID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0FwcF0gYWRkVG9FbGVtZW50TGlzdCcpO1xuXHRcdHRoaXMuZWxlbWVudExpc3QucHVzaCh0aGlzLmRhdGFIYW5kbGVyLmdldEJvYXJkRWxlbWVudHMoKSk7XG5cdFx0dGhpcy5pKys7XG5cdFx0aWYodGhpcy5pID09IHRoaXMudHlwZXMubGVuZ3RoKXtcblx0XHRcdHRoaXMuYWRkVG9Cb2FyZCgpO1xuXHRcdH1cblx0fTtcblxuXHRBcHAucHJvdG90eXBlLmFkZFRvQm9hcmQgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0FwcF0gYWRkVG9Cb2FyZCcpOyBcblx0XHR2YXIgbGlzdCA9IHRoaXMuZWxlbWVudExpc3RbMF1bMF07XG5cdFx0Zm9yKHZhciBlbGVtZW50IGluIGxpc3QpIHtcbiAgXHRcdFx0dmFyIHR5cGUgPSBsaXN0W2VsZW1lbnRdLmVsX3R5cGU7XG4gIFx0XHRcdHZhciBwb3NpdGlvbiA9IHt9O1xuICBcdFx0XHRwb3NpdGlvbi55UG9zID0gTnVtYmVyKGxpc3RbZWxlbWVudF0ucG9zeSk7XG4gIFx0XHRcdHBvc2l0aW9uLnhQb3MgPSBOdW1iZXIobGlzdFtlbGVtZW50XS5wb3N4KTtcbiAgXHRcdFx0dmFyIGVsZW1lbnRJZCA9IGxpc3RbZWxlbWVudF0uaWRfb25fYm9hcmQ7XG4gIFx0XHRcdHZhciBpZCA9IGxpc3RbZWxlbWVudF0uaWQ7XG4gIFx0XHRcdHZhciBjb250ZW50ID0gbGlzdFtlbGVtZW50XS5jb250ZW50O1xuICBcdFx0XHR2YXIgZWxlbWVudCA9IG5ldyBFbGVtZW50KHRoaXMuJGVsLHR5cGUscG9zaXRpb24sZWxlbWVudElkLGNvbnRlbnQsaWQpO1xuICBcdFx0XHRiZWFuLm9uKGVsZW1lbnQsIFwicmVtb3ZlLWNsaWNrZWRcIiwgdGhpcy5yZW1vdmVIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdH1cblx0fTtcblxuXHRBcHAucHJvdG90eXBlLnJlbW92ZUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbQXBwXSByZW1vdmVIYW5kbGVyJyk7IFxuXHRcdHRoaXMuZGF0YUhhbmRsZXIucmVtb3ZlQm9hcmRFbGVtZW50KGV2ZW50LmVsZW1lbnRUeXBlLCBldmVudC5pZCk7XG5cdH07XG5cblx0QXBwLnByb3RvdHlwZS5uZXdFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwgaWRPbkJvYXJkKXsgY29uc29sZS5sb2coJ1tBcHBdIG5ld0VsZW1lbnRIYW5kbGVyJyk7IFxuXHRcdHRoaXMuZGF0YUhhbmRsZXIubmV3Qm9hcmRFbGVtZW50KHR5cGUsaWRPbkJvYXJkLHRoaXMucG9zaXRpb24sdGhpcy53aGl0ZWJvYXJkSWQpO1xuXG5cdH07XG5cblx0cmV0dXJuIEFwcDtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHR2YXIgdGhhdDtcblx0ZnVuY3Rpb24gRGF0YUhhbmRsZXIoKSB7IGNvbnNvbGUubG9nKCdbRGF0YUhhbmRsZXJdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy51cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Qvd2hpdGVib2FyZF8yL2FwaS9pbmRleC5waHAvXCI7XG5cdFx0dGhhdCA9IHRoaXM7XG5cdFx0dGhpcy5ib2FyZEVsZW1lbnRzID0gW107XG5cdFx0dGhpcy5ib2FyZExpc3QgPSBbXTtcblx0fVxuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5sb2FkQm9hcmRFbGVtZW50cyA9IGZ1bmN0aW9uKHR5cGUpeyBjb25zb2xlLmxvZygnW0RhdGFIYW5kbGVyXSBsb2FkQm9hcmRFbGVtZW50cycpO1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHQgIFx0XHRcdFx0dHlwZTogXCJHRVRcIixcblx0ICBcdFx0XHRcdHVybDogdGhpcy51cmwrdHlwZSsnLzEnLFxuXHQgIFx0XHRcdFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdCAgXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0ICBcdFx0XHRcdFx0dGhhdC5ib2FyZEVsZW1lbnRzLnB1c2goZGF0YSk7XG5cdCAgXHRcdFx0XHRcdGJlYW4uZmlyZSh0aGF0LCBcImRhdGEtc3VjY2Vzc1wiLCBbZGF0YV0pO1xuXHQgIFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0fTtcblxuXHREYXRhSGFuZGxlci5wcm90b3R5cGUuZ2V0Qm9hcmRFbGVtZW50cyA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbRGF0YUhhbmRsZXJdIGdldEJvYXJkRWxlbWVudHMnKTtcblx0XHRyZXR1cm4gdGhpcy5ib2FyZEVsZW1lbnRzO1xuXHR9O1xuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVCb2FyZEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSxpZCl7IGNvbnNvbGUubG9nKCdbRGF0YUhhbmRsZXJdIHJlbW92ZUJvYXJkRWxlbWVudCcpO1xuXHRcdHN3aXRjaChlbGVtZW50VHlwZSkge1xuXHRcdCAgICBjYXNlIFwicG9zdC1pdFwiOlxuXHRcdCAgICBcdHRoaXMucmVtb3ZlRWxlbWVudEJ5SWQoJ3Bvc3RpdHMnLGlkKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwic3RhdGljXCI6XG5cdFx0ICAgIFx0dGhpcy5yZW1vdmVFbGVtZW50QnlJZCgnc3RhdGljJyxpZCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHQgICAgY2FzZSBcIm1vdGlvblwiOlxuXHRcdCAgICBcdHRoaXMucmVtb3ZlRWxlbWVudEJ5SWQoJ21vdGlvbicsaWQpO1xuXHRcdCAgICAgICAgYnJlYWs7XG5cdFx0fVxuXHR9O1xuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVFbGVtZW50QnlJZCA9IGZ1bmN0aW9uKGVsZW1lbnRUeXBlLGlkKXsgXG5cdFx0JC5hamF4KHtcblx0ICBcdFx0dHlwZTogXCJHRVRcIixcblx0ICBcdFx0dXJsOiB0aGlzLnVybCtlbGVtZW50VHlwZSsnL2RlbGV0ZS8nK2lkLFxuXHQgIFx0XHRkYXRhOiB7Y29udGVudDogJ2NvbnRlbnQnfSxcblx0ICBcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG5cdCAgXHRcdFx0Y29uc29sZS5sb2coXCJkZWxldGVkID0gXCIrZGF0YSk7XG5cdCAgXHRcdH1cblx0XHR9KTtcblx0fTtcblxuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5uZXdCb2FyZEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSxpZF9vbl9ib2FyZCxwb3NpdGlvbix3aGl0ZWJvYXJkSWQpe1xuXHRcdCQuYWpheCh7XG5cdCAgXHRcdHR5cGU6IFwiUE9TVFwiLFxuXHQgIFx0XHR1cmw6IHRoaXMudXJsK1wicG9zdGl0c1wiKycvYWRkLycrd2hpdGVib2FyZElkK1wiL1wiK2lkX29uX2JvYXJkK1wiL1wiK3Bvc2l0aW9uLnhQb3MrXCIvXCIrcG9zaXRpb24ueVBvcyxcblx0ICBcdFx0c3VjY2VzczogZnVuY3Rpb24oKXtcblx0ICBcdFx0XHRjb25zb2xlLmxvZyhcIm5ldyBlbGVtZW50IHBvc3RlZFwiKTtcblxuXHQgIFx0XHR9XG5cdFx0fSk7XG5cdH07XG5cblx0RGF0YUhhbmRsZXIucHJvdG90eXBlLmdldEFsbEJvYXJkcyA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbRGF0YUhhbmRsZXJdIGdldEFsbEJvYXJkcycpO1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHRcdCAgXHR0eXBlOiBcIkdFVFwiLFxuXHRcdCAgXHR1cmw6IHRoaXMudXJsKycvYm9hcmRzLycsXG5cdFx0ICBcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHRcdCAgXHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0XHQgIFx0XHR0aGlzLmJvYXJkRWxlbWVudHMucHVzaChkYXRhKTtcblx0XHQgIFx0fS5iaW5kKHRoaXMpXG5cdFx0fSk7XG5cdH07XG5cblx0cmV0dXJuIERhdGFIYW5kbGVyO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cblx0ZnVuY3Rpb24gRWRpdE1lbnUoJGVsLGVsZW1lbnRJZCkgeyBjb25zb2xlLmxvZygnW0VkaXRNZW51XSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMuJGVsID0gJGVsO1xuXHRcdHRoaXMuZWxlbWVudElkID0gZWxlbWVudElkO1xuXHRcdHZhciBlbnRyeVRleHQgPSAkKCcjZWRpdC1tZW51LXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge1xuXHRcdCAgYWN0aW9uczogW1x0XG5cdFx0ICBcdFx0XHR7YWN0aW9uSWQ6IFwiY2FuY2VsXCIsIG5hbWU6IFwiYW5udWxlZXJcIn0sXG5cdFx0ICBcdFx0XHR7YWN0aW9uSWQ6IFwiZWRpdFwiLCBuYW1lOiBcIndpanppZ2VuXCJ9LFxuXHRcdCAgXHRcdFx0e2FjdGlvbklkOiBcInJlbW92ZVwiLCBuYW1lOiBcInZlcndpamRlcmVuXCJ9XG4gIFx0XHRcdFx0XVxuICBcdFx0XHR9O1xuXHRcdFx0SGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZWRpdG1lbnUnLCBmdW5jdGlvbigpIHtcblx0XHRcdCAgdmFyIGFjdGlvbklkID0gSGFuZGxlYmFycy5lc2NhcGVFeHByZXNzaW9uKHRoaXMuYWN0aW9uSWQpLFxuXHRcdFx0ICAgICAgbmFtZSA9IEhhbmRsZWJhcnMuZXNjYXBlRXhwcmVzc2lvbih0aGlzLm5hbWUpO1xuXG5cdFx0XHQgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKFxuXHRcdFx0ICAgIFwiPGxpIGlkPVwiK2FjdGlvbklkK1wiPlwiK25hbWUrXCI8L2xpPlwiXG5cdFx0XHQgICk7XG5cdFx0XHR9KTtcblx0XHRcblx0XHR2YXIgaHRtbCA9IHRlbXBsYXRlKGNvbnRleHQpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJyMnK3RoaXMuZWxlbWVudElkKS5hcHBlbmQoaHRtbCk7XG5cdFx0dGhpcy4kZWwuZmluZCgnIycrdGhpcy5lbGVtZW50SWQrJyA+IHAnKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdFx0dGhpcy5iaW5kSGFuZGxlcnMoKTtcblx0XHR0aGlzLnRvZ2dsZVZpc2libGUoKTtcblx0fVxuXG5cdEVkaXRNZW51LnByb3RvdHlwZS50b2dnbGVWaXNpYmxlID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tFZGl0TWVudV0gdG9nZ2xlVmlzaWJsZScpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJyMnK3RoaXMuZWxlbWVudElkKycgPiBwJykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJyMnK3RoaXMuZWxlbWVudElkKycgLmVkaXQtbWVudScpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblx0fTtcblxuXHRFZGl0TWVudS5wcm90b3R5cGUuYmluZEhhbmRsZXJzID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tFZGl0TWVudV0gYmluZEhhbmRsZXJzJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnIycrdGhpcy5lbGVtZW50SWQrJyA+IHAnKS5vbignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHR0aGlzLiRlbC5maW5kKCcjJyt0aGlzLmVsZW1lbnRJZCsnIGxpJykub24oJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIuYmluZCh0aGlzKSk7XG5cdH07XG5cblx0RWRpdE1lbnUucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tFZGl0TWVudV0gY2xpY2tIYW5kbGVyJyk7XG5cdFx0aWYoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9PT0gXCJlZGl0QnV0dG9uXCIpe1xuXHRcdFx0YmVhbi5maXJlKHRoaXMsIFwiZWRpdC1jbGlja2VkXCIsIGFjdGlvbkV2ZW50KTtcblx0XHRcdHRoaXMudG9nZ2xlVmlzaWJsZSgpO1xuXHRcdH1lbHNle1xuXHRcdFx0dmFyIGFjdGlvbkV2ZW50ID0ge307XG4gICBcdFx0XHRhY3Rpb25FdmVudC50YXJnZXRJZCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgIFx0XHRcdGFjdGlvbkV2ZW50LmVsZW1lbnRJZCA9IHRoaXMuZWxlbWVudElkO1xuXHRcdFx0YmVhbi5maXJlKHRoaXMsIFwiYWN0aW9uLWNsaWNrZWRcIiwgYWN0aW9uRXZlbnQpO1xuXHRcdH1cblxuXHR9O1xuXG5cdHJldHVybiBFZGl0TWVudTtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXG5cdHZhciBFZGl0TWVudSA9IHJlcXVpcmUoJy4vRWRpdE1lbnUnKTtcbiAgICB2YXIgekluZGV4Q291bnRlciA9IDE7XG5cdHZhciBQb3N0aXQgPSByZXF1aXJlKCcuL2VsZW1lbnRzL1Bvc3RpdCcpO1xuXHR2YXIgUGljdHVyZSA9IHJlcXVpcmUoJy4vZWxlbWVudHMvUGljdHVyZScpO1xuXHR2YXIgTW90aW9uID0gcmVxdWlyZSgnLi9lbGVtZW50cy9Nb3Rpb24nKTtcblxuXHRmdW5jdGlvbiBFbGVtZW50KCRlbCxlbGVtZW50VHlwZSxwb3NpdGlvbixlbGVtZW50SWQsY29udGVudCxpZCkgeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0XHR0aGlzLmVsZW1lbnRUeXBlID0gZWxlbWVudFR5cGU7XG5cdFx0dGhpcy5lbGVtZW50SWQgPSBlbGVtZW50SWQ7XG5cdFx0aWYodGhpcy5lbGVtZW50SWQpe1xuXHRcdFx0dGhpcy5lbGVtZW50SWQgPSBlbGVtZW50SWQ7XG5cdFx0fWVsc2Uge1xuXHRcdFx0dGhpcy5lbGVtZW50SWQgPSB0aGlzLnNldEVsZW1lbnRJZCgpO1xuXHRcdH1cblx0XHR0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG5cdFx0aWYoaWQpe1xuXHRcdFx0dGhpcy5pZCA9IGlkO1xuXHRcdH1cblx0XHR0aGlzLmNyZWF0ZUVsZW1lbnRIb2xkZXIoKTtcblx0fVxuXG5cdEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRIb2xkZXIgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIGNyZWF0ZUVsZW1lbnRIb2xkZXInKTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI3doaXRlYm9hcmRcIikuYXBwZW5kKFwiPHNlY3Rpb24gY2xhc3M9J2VsZW1lbnQtaG9sZGVyJz48L3NlY3Rpb24+XCIpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIuZWxlbWVudC1ob2xkZXI6bGFzdC1vZi10eXBlXCIpLmF0dHIoJ2lkJywgdGhpcy5lbGVtZW50SWQpO1xuXHRcdHZhciBwb3NpdGlvbiA9IHt9O1xuXHRcdHBvc2l0aW9uLnRvcCA9IHRoaXMucG9zaXRpb24ueVBvcztcblx0XHRwb3NpdGlvbi5sZWZ0ID0gdGhpcy5wb3NpdGlvbi54UG9zO1xuXHRcdHBvc2l0aW9uLnpJbmRleCA9IDA7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkuY3NzKHBvc2l0aW9uKTtcblx0XHR0aGlzLmNyZWF0ZUVkaXRNZW51KCk7XG5cdFx0dGhpcy5jcmVhdGVFbGVtZW50KCk7XG5cdH07XG5cblx0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gY3JlYXRlRWxlbWVudCcpO1xuXHRcdHN3aXRjaCh0aGlzLmVsZW1lbnRUeXBlKSB7XG5cdFx0ICAgIGNhc2UgXCJwb3N0LWl0XCI6XG5cdFx0ICAgIFx0dGhpcy5lbGVtZW50ID0gbmV3IFBvc3RpdCh0aGlzLmNvbnRlbnQpO1xuXHRcdCAgICBcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmFwcGVuZCh0aGlzLmVsZW1lbnQuY3JlYXRlUG9zdGl0KTtcblx0XHQgICAgXHR0aGlzLmJpbmRIYW5kbGVyKHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwic3RhdGljXCI6XG5cdFx0ICAgIFx0dGhpcy5lbGVtZW50ID0gbmV3IFBpY3R1cmUodGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkpO1xuXHRcdCAgICBcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmFwcGVuZCh0aGlzLmVsZW1lbnQuY3JlYXRlUGljdHVyZSk7XG5cdFx0ICAgIFx0dGhpcy5iaW5kSGFuZGxlcih0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKSk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHQgICAgY2FzZSBcIm1vdGlvblwiOlxuXHRcdCAgICBcdHRoaXMuZWxlbWVudCA9IG5ldyBNb3Rpb24odGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkpO1xuXHRcdCAgICBcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmFwcGVuZCh0aGlzLmVsZW1lbnQuY3JlYXRlTW90aW9uKTtcblx0XHQgICAgXHR0aGlzLmJpbmRIYW5kbGVyKHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdH1cblx0fTtcblxuXHRFbGVtZW50LnByb3RvdHlwZS5iaW5kSGFuZGxlciA9IGZ1bmN0aW9uKCRlbCl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gYmluZEhhbmRsZXInKTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKS5vbignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdGNvbnNvbGUubG9nKFwiZGRkZGRcIik7XG5cdFx0Y29uc29sZS5sb2codGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkpO1xuXHRcdHRoaXMubW91c2VEb3duID0gZmFsc2U7XG5cdH07XG5cblx0RWxlbWVudC5wcm90b3R5cGUubW91c2Vkb3duSGFuZGxlciA9IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIG1vdXNlZG93bkhhbmRsZXInKTtcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fbW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW91c2VNb3ZlSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9tb3VzZVVwSGFuZGxlciA9IHRoaXMubW91c2VVcEhhbmRsZXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLm9mZnNldFggPSBlLm9mZnNldFg7XG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IGUub2Zmc2V0WTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgKyt6SW5kZXhDb3VudGVyO1xuICAgICAgICB0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKS5jc3MoJ3pJbmRleCcsIHpJbmRleENvdW50ZXIpO1xuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fbW91c2VVcEhhbmRsZXIpO1xuXHR9O1xuXG5cdEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVkaXRNZW51ID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tFbGVtZW50XSBjcmVhdGVFZGl0TWVudScpO1xuXHRcdHRoaXMuZWRpdE1lbnUgPSBuZXcgRWRpdE1lbnUodGhpcy4kZWwsIHRoaXMuZWxlbWVudElkKTtcblx0XHRiZWFuLm9uKHRoaXMuZWRpdE1lbnUsIFwiZWRpdC1jbGlja2VkXCIsIHRoaXMuZWRpdENsaWNrZWRIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdGJlYW4ub24odGhpcy5lZGl0TWVudSwgXCJhY3Rpb24tY2xpY2tlZFwiLCB0aGlzLmFjdGlvbkNsaWNrZWRIYW5kbGVyLmJpbmQodGhpcykpO1xuXHR9O1xuXG5cdEVsZW1lbnQucHJvdG90eXBlLmVkaXRDbGlja2VkSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tFbGVtZW50XSBlZGl0Q2xpY2tlZEhhbmRsZXInKTtcblx0XHR0aGlzLmVsZW1lbnQuZWRpdCh0aGlzLiRlbCwgdGhpcy5lbGVtZW50SWQpO1xuXHR9O1xuXG5cdEVsZW1lbnQucHJvdG90eXBlLmFjdGlvbkNsaWNrZWRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIGFjdGlvbkNsaWNrZWRIYW5kbGVyJyk7XG5cdFx0c3dpdGNoKGV2ZW50LnRhcmdldElkKSB7XG5cdFx0ICAgIGNhc2UgXCJyZW1vdmVcIjpcblx0XHQgICAgXHR0aGlzLmVkaXRNZW51LnRvZ2dsZVZpc2libGUoKTtcblx0XHQgICAgXHR0aGlzLiRlbC5maW5kKCcjJytldmVudC5lbGVtZW50SWQpLnJlbW92ZSgpO1xuXHRcdCAgICBcdHZhciBhY3Rpb25FdmVudCA9IHt9O1xuXHRcdCAgICBcdGFjdGlvbkV2ZW50LmlkID0gdGhpcy5pZDtcblx0XHQgICAgXHRhY3Rpb25FdmVudC5lbGVtZW50VHlwZSA9IHRoaXMuZWxlbWVudFR5cGU7XG5cdFx0ICAgIFx0YmVhbi5maXJlKHRoaXMsIFwicmVtb3ZlLWNsaWNrZWRcIiwgYWN0aW9uRXZlbnQpO1xuXHRcdCAgICAgICAgYnJlYWs7XG5cdFx0ICAgIGNhc2UgXCJlZGl0XCI6IGNvbnNvbGUubG9nKFwiRURJVEVcIik7XG5cdFx0ICAgIFx0dGhpcy5lbGVtZW50LmNvbmZpcm0oKTtcblx0XHQgICAgXHR0aGlzLmVkaXRNZW51LnRvZ2dsZVZpc2libGUoKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwiY2FuY2VsXCI6XG5cdFx0ICAgIFx0dGhpcy5lbGVtZW50LmVuZEVkaXQoKTtcblx0XHQgICAgXHR0aGlzLmVkaXRNZW51LnRvZ2dsZVZpc2libGUoKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdH1cblx0fTtcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tb3VzZU1vdmVIYW5kbGVyID0gZnVuY3Rpb24oZSl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gbW91c2Vtb3ZlSGFuZGxlcicpO1xuICAgICAgICBpZih0aGlzLm1vdXNlRG93biA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICB2YXIgbW91c2VYID0gcGFyc2VJbnQoZS5jbGllbnRYKTtcbiAgICAgICAgICAgIHZhciBtb3VzZVkgPSBwYXJzZUludChlLmNsaWVudFkpO1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkuY3NzKCdsZWZ0JywgbW91c2VYIC0gdGhpcy5vZmZzZXRYKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmNzcygndG9wJywgbW91c2VZIC0gdGhpcy5vZmZzZXRZKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBFbGVtZW50LnByb3RvdHlwZS5tb3VzZVVwSGFuZGxlciA9IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIG1vdXNldXBIYW5kbGVyJyk7XG5cbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW91c2VNb3ZlSGFuZGxlcik7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBIYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgRWxlbWVudC5wcm90b3R5cGUuc2V0RWxlbWVudElkID0gZnVuY3Rpb24oZSl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gc2V0RWxlbWVudElkJyk7XG4gICAgdmFyIGhvbGRlcnMgPSB0aGlzLiRlbC5maW5kKFwiLmVsZW1lbnQtaG9sZGVyXCIpO1xuXHRcdFx0dmFyIGlkSG9sZGVyID1bXCIwXCJdO1xuXHRcdFx0Zm9yKGkgPSAwO2kgPCBob2xkZXJzLmxlbmd0aDsgaSsrICl7XG5cdFx0XHRcdGlkSG9sZGVyLnB1c2goaG9sZGVyc1tpXS5pZCk7XG5cdFx0XHR9XG5cdFx0XHRpZEhvbGRlci5zb3J0KGZ1bmN0aW9uKGEsIGIpe3JldHVybiBiLWF9KTtcblx0XHRcdHJldHVybiBOdW1iZXIoaWRIb2xkZXJbMF0pKzE7XG5cdFx0fTtcblxuXHRyZXR1cm4gRWxlbWVudDtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXG5cblx0ZnVuY3Rpb24gRWxlbWVudFBpY2tlcigkZWwpIHsgY29uc29sZS5sb2coJ1tFbGVtZW50UGlja2VyXSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMuJGVsID0gJGVsO1xuXHRcdHZhciBlbnRyeVRleHQgPSAkKCcjZWxlbWVudC1waWNrZXItdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0dmFyIGNvbnRleHQgPSB7XG5cdFx0ICBlbGVtZW50czogW1x0XG5cdFx0ICBcdFx0XHR7ZWxlbWVudDogXCJwb3N0LWl0XCIsIG5hbWU6IFwicG9zdC1pdFwifSxcblx0XHQgIFx0XHRcdHtlbGVtZW50OiBcInN0YXRpY1wiLCBuYW1lOiBcImltYWdlXCJ9LFxuXHRcdCAgXHRcdFx0e2VsZW1lbnQ6IFwibW90aW9uXCIsIG5hbWU6IFwidmlkZW9cIn1cbiAgXHRcdFx0XHRdXG4gIFx0XHRcdH07XG5cdFx0XHRIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdwaWNrZXInLCBmdW5jdGlvbigpIHtcblx0XHRcdCAgdmFyIGVsZW1lbnQgPSBIYW5kbGViYXJzLmVzY2FwZUV4cHJlc3Npb24odGhpcy5lbGVtZW50KSxcblx0XHRcdCAgICAgIG5hbWUgPSBIYW5kbGViYXJzLmVzY2FwZUV4cHJlc3Npb24odGhpcy5uYW1lKTtcblxuXHRcdFx0ICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhcblx0XHRcdCAgICBcIjxsaSBpZD1cIitlbGVtZW50K1wiPlwiK25hbWUrXCI8L2xpPlwiXG5cdFx0XHQgICk7XG5cdFx0XHR9KTtcblx0XHRcblx0XHR2YXIgaHRtbCA9IHRlbXBsYXRlKGNvbnRleHQpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIjd2hpdGVib2FyZFwiKS5hcHBlbmQoICQoaHRtbCkgKTtcblx0XHR0aGlzLnRvZ2dsZVZpc2libGUoKTtcblx0XHR0aGlzLmJpbmRIYW5kbGVyKCk7XG5cdH1cblxuXHRFbGVtZW50UGlja2VyLnByb3RvdHlwZS50b2dnbGVWaXNpYmxlID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tFbGVtZW50UGlja2VyXSB0b2dnbGVWaXNpYmxlJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnI2VsZW1lbnQtcGlja2VyJykudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdH07XG5cblx0RWxlbWVudFBpY2tlci5wcm90b3R5cGUuc2V0TG9jYXRpb24gPSBmdW5jdGlvbih4UG9zLCB5UG9zKXsgY29uc29sZS5sb2coJ1tFbGVtZW50UGlja2VyXSBzZXRMb2NhdGlvbicpO1xuXHRcdHZhciBwb3NpdGlvbiA9IHtcblx0XHRcdHRvcCA6IHlQb3MsXG5cdFx0XHRsZWZ0IDogeFBvc1xuXHRcdH07XG5cdFx0dGhpcy4kZWwuZmluZChcIiNlbGVtZW50LXBpY2tlclwiKS5jc3MocG9zaXRpb24pO1xuXHR9O1xuXG5cdEVsZW1lbnRQaWNrZXIucHJvdG90eXBlLmJpbmRIYW5kbGVyID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tFbGVtZW50UGlja2VyXSBiaW5kSGFuZGxlcicpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJyNlbGVtZW50LXBpY2tlciA+IHVsID4gbGknKS5vbignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRFbGVtZW50UGlja2VyLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbRWxlbWVudFBpY2tlcl0gY2xpY2tIYW5kbGVyJyk7XG5cdFx0YmVhbi5maXJlKHRoaXMsIFwiZWxlbWVudC1waWNrZXItY2xpY2tlZFwiLCBldmVudC50YXJnZXQuaWQpO1xuXHR9O1xuXG5cdHJldHVybiBFbGVtZW50UGlja2VyO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cblx0dmFyIEFwcCA9IHJlcXVpcmUoJy4vQXBwJyk7XG5cdHZhciBPdmVydmlld0VsZW1lbnQgPSByZXF1aXJlKCcuL092ZXJ2aWV3RWxlbWVudCcpO1xuXHR2YXIgT3ZlcnZpZXdIYW5kbGVyID0gcmVxdWlyZSgnLi9PdmVydmlld0hhbmRsZXInKTtcblxuXHRmdW5jdGlvbiBPdmVydmlldygkZWwpIHsgY29uc29sZS5sb2coJ1tPdmVydmlld10gY29uc3RydWN0b3InKTtcblx0dGhpcy4kZWwgPSAkZWw7XG5cdHRoaXMuYm9hcmRMaXN0ID0gW107XG5cdHRoaXMub3ZlcnZpZXdIYW5kbGVyID0gbmV3IE92ZXJ2aWV3SGFuZGxlcigpO1xuXHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5nZXRBbGxCb2FyZHMoKTtcblxuXHRiZWFuLm9uKHRoaXMub3ZlcnZpZXdIYW5kbGVyLCBcImRhdGEtc3VjY2Vzc1wiLCB0aGlzLmFkZFRvQm9hcmRMaXN0LmJpbmQodGhpcykpO1xuXHQkZWwuZmluZChcIiNhZGRQcm9qZWN0XCIpLm9uKCdjbGljaycsIHRoaXMubWFrZU5ld1Byb2plY3RIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcblx0fVxuXG5cdE92ZXJ2aWV3LnByb3RvdHlwZS5hZGRUb0JvYXJkTGlzdCA9IGZ1bmN0aW9uKGV2ZW50KSB7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXddIGdldEJvYXJkcycpO1xuXHRcdHRoaXMuYm9hcmRMaXN0LnB1c2goZXZlbnQpO1xuXHRcdGNvbnNvbGUubG9nKHRoaXMuYm9hcmRMaXN0KTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgIHRoaXMuYm9hcmRMaXN0WzBdLmxlbmd0aDsgaSsrKSB7IFxuXHRcdFx0dGhpcy5vdmVydmlld0VsZW1lbnQgPSBuZXcgT3ZlcnZpZXdFbGVtZW50KHRoaXMuYm9hcmRMaXN0WzBdW2ldKTtcblx0XHR9XG5cdH07XG5cblx0T3ZlcnZpZXcucHJvdG90eXBlLm1ha2VOZXdQcm9qZWN0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXddIG1ha2VOZXdQcm9qZWN0SGFuZGxlcicpO1xuXHRcdCQoXCIjY29udGFpbmVyXCIpLmh0bWwoXCJcIik7XG5cdFx0Ly9uZXcgQXBwKCQoJyNjb250YWluZXInKSk7XG5cblx0XHRpZih0aGlzLnVzZXIpe1xuXG5cdFx0fVxuXHR9O1xuXG5cblx0cmV0dXJuIE92ZXJ2aWV3O1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cblx0ZnVuY3Rpb24gT3ZlcnZpZXdFbGVtZW50KCRlbCkgeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3XSBjb25zdHJ1Y3RvcicpO1xuXHR0aGlzLiRlbCA9ICRlbDtcblx0dGhpcy5ib2FyZExpc3QgPSBbXTtcblx0dGhpcy5jcmVhdGVPdmVydmlld1RodW1iKCRlbCk7XG5cdH1cblxuXHRPdmVydmlld0VsZW1lbnQucHJvdG90eXBlLmNyZWF0ZU92ZXJ2aWV3VGh1bWIgPSBmdW5jdGlvbihib2FyZCkgeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3XSBjcmVhdGVPdmVydmlld1RodW1iJyk7XG5cdFx0Ly9jb25zb2xlLmxvZyhib2FyZCk7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNvdmVydmlld1RodW1iLXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0XHR2YXIgY29udGV4dCA9IHt9O1xuXHRcdFx0Y29udGV4dC50aXRsZSA9IGJvYXJkLnRpdGxlO1xuXHRcdFx0Y29udGV4dC5pZCA9IGJvYXJkLmlkO1xuXHRcdFx0Y29udGV4dC5jcmVhdGlvbl9kYXRlID0gYm9hcmQuY3JlYXRpb25fZGF0ZTtcdFx0XHRcblx0XHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0XHQkKCcjY29udGFpbmVyJykuYXBwZW5kKCQoaHRtbCkpO1xuXG5cdFx0XHR0aGlzLmJpbmRIYW5kbGVyKCQoaHRtbClbMF0pO1xuXHR9O1xuXG5cdE92ZXJ2aWV3RWxlbWVudC5wcm90b3R5cGUuYmluZEhhbmRsZXIgPSBmdW5jdGlvbihlbCl7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXddIGJpbmRIYW5kbGVyJyk7XG5cdFx0ZWwucXVlcnlTZWxlY3RvcihcIi5yZW1vdmVcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlbW92ZUhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdFx0Ly9lbC5maW5kKFwiLnZpZXdcIikub24oJ2NsaWNrJywgdGhpcy52aWV3SGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRPdmVydmlld0VsZW1lbnQucHJvdG90eXBlLnJlbW92ZUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXddIHJlbW92ZUhhbmRsZXInKTtcblxuXHR9O1xuXG5cdE92ZXJ2aWV3RWxlbWVudC5wcm90b3R5cGUudmlld0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXddIHZpZXdIYW5kbGVyJyk7XG5cblx0fTtcblxuXHRcblxuXHRyZXR1cm4gT3ZlcnZpZXdFbGVtZW50O1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdGZ1bmN0aW9uIE92ZXJ2aWV3SGFuZGxlcigpIHsgY29uc29sZS5sb2coJ1tPdmVydmlld0hhbmRsZXJdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy51cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Qvd2hpdGVib2FyZF8yL2FwaS9pbmRleC5waHAvXCI7XG5cdH1cblxuXG5cdE92ZXJ2aWV3SGFuZGxlci5wcm90b3R5cGUuZ2V0QWxsQm9hcmRzID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tPdmVydmlld0hhbmRsZXJdIGdldEFsbEJvYXJkcycpO1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHRcdCAgXHR0eXBlOiBcIkdFVFwiLFxuXHRcdCAgXHR1cmw6IHRoaXMudXJsKycvYm9hcmRzLycsXG5cdFx0ICBcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHRcdCAgXHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0ICBcdFx0XHRiZWFuLmZpcmUodGhpcywgXCJkYXRhLXN1Y2Nlc3NcIiwgW2RhdGFdKTtcblx0XHQgIFx0fS5iaW5kKHRoaXMpXG5cdFx0fSk7XG5cdH07XG5cblx0cmV0dXJuIE92ZXJ2aWV3SGFuZGxlcjtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXG5cdGZ1bmN0aW9uIFBhcnRpY2lwYW50KCRlbCl7IGNvbnNvbGUubG9nKCdbUGFydGljaXBhbnRdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dmFyIGlucHV0ID0gJGVsLmZpbmQoJy5wYXJ0aWNpcGFudC1pbnB1dCcpO1xuXHRcdGlmKGlucHV0LnZhbCgpKXtcblx0XHRcdHZhciBlbnRyeVRleHQgPSAkKCcjcGFydGljaXBhbnQtdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0IFx0XHR2YXIgY29udGV4dCA9IHsgcGFydGljaXBhbnRzOiBbe31dfTtcblx0XHRcdFx0SGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigncGFydGljaXBhbnQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhcblx0XHRcdFx0ICAgIFwiPGxpIGlkPScnPlwiK2lucHV0LnZhbCgpK1wiPGJ1dHRvbiBjbGFzcz0nYnRuIGRlbGV0ZSc+WDwvYnV0dG9uPjwvbGk+XCJcblx0XHRcdFx0ICApO1xuXHRcdFx0XHR9KTtcblx0XHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0XHR0aGlzLiRlbC5maW5kKFwiI3BhcnRpY2lwYW50LWxpc3RcIikuYXBwZW5kKCQoaHRtbCkpO1xuXHRcdFx0dGhpcy5iaW5kRGVsZXRlYnV0dG9uKCk7XG5cdFx0XHQkKCcucGFydGljaXBhbnQtaW5wdXQnKS52YWwoXCJcIik7XG5cdFx0fVxuXHR9XG5cblx0UGFydGljaXBhbnQucHJvdG90eXBlLmJpbmREZWxldGVidXR0b24gPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1BhcnRpY2lwYW50XSBiaW5kRGVsZXRlYnV0dG9uJyk7XG5cdFx0dGhpcy5kZWxldGVidXRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4tZGVsZXRlJyk7XG5cdFx0dGhpcy5kZWxldGVidXRvblt0aGlzLmRlbGV0ZWJ1dG9uLmxlbmd0aC0xXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZGVsZXRlQ2xpY2tIYW5kbGVyLmJpbmQodGhpcykpO1xuXHR9O1xuXG5cdFBhcnRpY2lwYW50LnByb3RvdHlwZS5kZWxldGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKFwiW1BhcnRpY2lwYW50XSBkZWxldGVDbGlja0hhbmRsZXJcIik7XG5cdFx0YmVhbi5maXJlKHRoaXMsIFwiZGVsZXRlXCIsIGV2ZW50LnBhdGhbMV0pO1xuXHR9O1xuXG5cdHJldHVybiBQYXJ0aWNpcGFudDtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHR2YXIgVXNlckhhbmRsZXIgPSByZXF1aXJlKCcuL1VzZXJIYW5kbGVyJyk7XG5cblx0ZnVuY3Rpb24gUHJvZmlsZSgkZWwsIHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQpIHsgY29uc29sZS5sb2coJ1tQcm9maWxlXSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMuJGVsID0gJGVsO1xuXHRcdHRoaXMudXNlciA9ICBbXTtcblx0XHR0aGlzLnVzZXJIYW5kbGVyID0gbmV3IFVzZXJIYW5kbGVyKCk7XG5cdFx0XHRcblx0XHQvL0xPR0lOLVRFTVBMQVRFXG5cdFx0dGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuXHRcdHRoaXMuZW1haWwgPSBlbWFpbDtcblx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI2xvZ2luLXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge307XG5cdFx0Ly9jb250ZXh0LnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTtcblx0XHQvL2NvbnRleHQuZW1haWwgPSB0aGlzLmVtYWlsO1xuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0JCgnI2NvbnRhaW5lcicpLmFwcGVuZCgkKGh0bWwpKTtcblxuXHRcdC8vUkVHSVNURVItVEVNUExBVEVcblx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI3JlZ2lzdGVyLXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge307XG5cdFx0Ly9jb250ZXh0LnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTtcblx0XHQvL2NvbnRleHQuZW1haWwgPSB0aGlzLmVtYWlsO1xuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0JCgnI2NvbnRhaW5lcicpLmFwcGVuZCgkKGh0bWwpKTtcblxuXHRcdHRoaXMuJGVsLmZpbmQoXCIjcmVnaXN0ZXItYnV0dG9uXCIpLm9uKCdjbGljaycsIHRoaXMucmVnaXN0ZXIuYmluZCh0aGlzKSk7XG5cdFx0JCgnLnJlZ2lzdGVyJykub24oXCJjbGlja1wiLCB0aGlzLmFkZFVzZXIuYmluZCh0aGlzKSk7XG5cdFx0dGhpcy4kZWwuZmluZChcIi5sb2dpblwiKS5vbignY2xpY2snLCB0aGlzLmxvZ2luLmJpbmQodGhpcykpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIubG9nb3V0XCIpLm9uKCdjbGljaycsIHRoaXMubG9nb3V0LmJpbmQodGhpcykpO1xuXHRcdGJlYW4ub24odGhpcy51c2VySGFuZGxlciwgXCJ1c2VyLWZvdW5kXCIsIHRoaXMuYmluZFVzZXIuYmluZCh0aGlzKSk7XG5cdH1cblxuXHRQcm9maWxlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnW1Byb2ZpbGVdIHJlZ2lzdGVyJyk7XG5cdFx0JChcIiNyZWdpc3RlclwiKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdH07XG5cblx0UHJvZmlsZS5wcm90b3R5cGUuYWRkVXNlciA9IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnW1Byb2ZpbGVdIGFkZFVzZXInKTtcblx0XHR0aGlzLnVzZXJuYW1lID0gdGhpcy4kZWwuZmluZCgnLnJlZ2lzdGVyX25hbWUnKS52YWwoKTtcblx0XHR0aGlzLmVtYWlsID0gdGhpcy4kZWwuZmluZCgnLnJlZ2lzdGVyX2VtYWlsJykudmFsKCk7XG5cdFx0dGhpcy5wYXNzd29yZCA9IHRoaXMuJGVsLmZpbmQoJy5yZWdpc3Rlcl9wYXNzd29yZCcpLnZhbCgpO1xuXHRcdHRoaXMucGFzc3dvcmRfMiA9IHRoaXMuJGVsLmZpbmQoJy5yZWdpc3Rlcl9wYXNzd29yZF8yJykudmFsKCk7XG5cblx0XHRpZih0aGlzLnBhc3N3b3JkPT10aGlzLnBhc3N3b3JkXzIpe1xuXHRcdFx0dGhpcy51c2VySGFuZGxlci5yZWdpc3Rlcih0aGlzLnVzZXJuYW1lLCB0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKTtcblx0XHR9XG5cdH07XG5cblx0UHJvZmlsZS5wcm90b3R5cGUubG9naW4gPSBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1tQcm9maWxlXSBsb2dpbicpO1xuXHRcdHRoaXMuZW1haWwgPSB0aGlzLiRlbC5maW5kKCcubG9naW5fZW1haWwnKS52YWwoKTtcblx0XHR0aGlzLnBhc3N3b3JkID0gdGhpcy4kZWwuZmluZCgnLmxvZ2luX3Bhc3N3b3JkJykudmFsKCk7XG5cdFx0dGhpcy51c2VySGFuZGxlci5sb2dpbih0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKTtcblx0fTtcblxuXHRQcm9maWxlLnByb3RvdHlwZS5sb2dvdXQgPSBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1tQcm9maWxlXSBsb2dvdXQnKTtcblx0XHR0aGlzLnVzZXIgPSBbXTtcblx0XHR0aGlzLnRvZ2dsZVZpc2libGUoKTtcblx0XHQkKFwiI3JlZ2lzdGVyLWJ1dHRvblwiKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdH07XG5cblx0UHJvZmlsZS5wcm90b3R5cGUuYmluZFVzZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbUHJvZmlsZV0gYmluZFVzZXInKTtcblx0XHR0aGlzLnVzZXI9IFtldmVudF07XG5cdFx0Ly9iZWFuLmZpcmUodGhpcy51c2VyLCAnbG9nZ2VkLWluJyk7XG5cdFx0aWYodGhpcy51c2VyWzBdKXtcblx0XHRcdCQoJ2lucHV0JykudmFsKFwiXCIpO1xuXHRcdFx0JChcIiNyZWdpc3Rlci1idXR0b25cIikuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0JChcIiNyZWdpc3RlclwiKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHR0aGlzLnRvZ2dsZVZpc2libGUoKTtcblx0XHR9XG5cdH1cblxuXHRQcm9maWxlLnByb3RvdHlwZS50b2dnbGVWaXNpYmxlID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tQcm9maWxlXSB0b2dnbGVWaXNpYmxlJyk7XG5cdFx0JChcIiNsb2dpblwiKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdFx0JChcIiNsb2dvdXRcIikudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHR9O1xuXG5cdHJldHVybiBQcm9maWxlO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdGZ1bmN0aW9uIFVzZXJIYW5kbGVyKCkgeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3SGFuZGxlcl0gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLnVybCA9IFwiaHR0cDovL2xvY2FsaG9zdC93aGl0ZWJvYXJkXzIvYXBpL2luZGV4LnBocC9cIjtcblx0fVxuXG5cdFVzZXJIYW5kbGVyLnByb3RvdHlwZS5sb2dpbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7IGNvbnNvbGUubG9nKCdbVXNlckhhbmRsZXJdIGxvZ2luJyk7XG5cdFx0JC5hamF4KHtcblx0ICBcdFx0dHlwZTogXCJQT1NUXCIsXG5cdCAgXHRcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHQgIFx0XHR1cmw6IHRoaXMudXJsK1widXNlcnNcIisnL2xvZ2luLycrZW1haWwrXCIvXCIrcGFzc3dvcmQsXG5cdCAgXHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHQgIFx0XHRcdGNvbnNvbGUubG9nKFwidXNlciBmb3VuZFwiLCBbZGF0YV0pO1xuXHQgIFx0XHRcdGJlYW4uZmlyZSh0aGlzLCBcInVzZXItZm91bmRcIiwgW2RhdGFdKTtcblx0ICBcdFx0fS5iaW5kKHRoaXMpXG5cdFx0fSk7XG5cdH07XG5cblxuXG5cdFVzZXJIYW5kbGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQpeyBjb25zb2xlLmxvZygnW1VzZXJIYW5kbGVyXSByZWdpc3RlcicpO1xuXHRcdFx0JC5hamF4KHtcblx0XHQgIFx0XHR0eXBlOiBcIlBPU1RcIixcblx0XHQgIFx0XHRkYXRhOiB7Y29udGVudDogJ2NvbnRlbnQnfSxcblx0XHQgIFx0XHR1cmw6IHRoaXMudXJsK1widXNlcnNcIitcIi9yZWdpc3Rlci9cIit1c2VybmFtZStcIi9cIitlbWFpbCtcIi9cIitwYXNzd29yZCxcblx0XHQgIFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0XHQgIFx0XHRcdGNvbnNvbGUubG9nKFwibmV3IHVzZXIgY3JlYXRlZFwiLCBbZGF0YV0pO1xuXHRcdCAgXHRcdFx0YmVhbi5maXJlKHRoaXMsIFwidXNlci1mb3VuZFwiLCBbZGF0YV0pO1xuXHRcdCAgXHRcdH0uYmluZCh0aGlzKVxuXHRcdFx0fSk7XG5cdFx0fTtcblx0cmV0dXJuIFVzZXJIYW5kbGVyO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cblx0dmFyIFdoaXRlYm9hcmRTZXR0aW5ncyA9IHJlcXVpcmUgKCcuL1doaXRlYm9hcmRTZXR0aW5ncycpO1xuXG5cdGZ1bmN0aW9uIFdoaXRlYm9hcmQoJGVsLCBib2FyZE5hbWUpIHsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkXSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMuJGVsID0gJGVsO1xuXHRcdHRoaXMuY3JlYXRlV2hpdGVib2FyZCgpO1xuXHRcdHRoaXMuYWRkV2hpdGVib2FyZFNldHRpbmdzKCk7XG5cblx0fVxuXG5cdFdoaXRlYm9hcmQucHJvdG90eXBlLmNyZWF0ZVdoaXRlYm9hcmQgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRdIGNyZWF0ZVdoaXRlYm9hcmQnKTtcblx0XHR0aGlzLmJvYXJkID0gdGhpcy4kZWwuYXBwZW5kKFwiPGRpdiBpZD0nd2hpdGVib2FyZCc+PC9kaXY+XCIpO1xuXHRcdHRoaXMuYmluZEhhbmRsZXIoKTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkLnByb3RvdHlwZS5iaW5kSGFuZGxlciA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZF0gYmluZEhhbmRsZXInKTtcblx0XHR0aGlzLmJvYXJkLm9uKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcykpO1xuXHR9O1xuXG5cdFdoaXRlYm9hcmQucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkXSBjbGlja0hhbmRsZXInKTtcblx0XHR2YXIgeFBvcyA9IGV2ZW50LnBhZ2VYIC0gdGhpcy4kZWwub2Zmc2V0KCkubGVmdDtcbiAgIFx0XHR2YXIgeVBvcyA9IGV2ZW50LnBhZ2VZIC0gdGhpcy4kZWwub2Zmc2V0KCkudG9wO1xuICAgXHRcdHZhciBwb3NpdGlvbiA9IHt9O1xuICAgXHRcdHBvc2l0aW9uLnhQb3MgPSB4UG9zO1xuICAgXHRcdHBvc2l0aW9uLnlQb3MgPSB5UG9zO1xuXHRcdGlmKGV2ZW50LnRhcmdldC5pZCA9PT0gXCJ3aGl0ZWJvYXJkXCIpeyAvL2FuZGVycyBrbGlrdCBoaWogXCJkb29yXCIgZWxlbWVudGVuXG5cdFx0XHRiZWFuLmZpcmUodGhpcywgXCJ3aGl0ZWJvYXJkLWNsaWNrZWRcIiwgcG9zaXRpb24pO1xuXHRcdH1cblx0fTtcblxuXHRXaGl0ZWJvYXJkLnByb3RvdHlwZS5hZGRXaGl0ZWJvYXJkU2V0dGluZ3MgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRdIGFkZFdoaXRlYm9hcmRTZXR0aW5ncycpO1xuXHRcdHRoaXMud2hpdGVib2FyZFNldHRpbmdzID0gbmV3IFdoaXRlYm9hcmRTZXR0aW5ncyh0aGlzLiRlbCk7XG5cdH07XG5cblx0cmV0dXJuIFdoaXRlYm9hcmQ7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblx0dmFyIFBhcnRpY2lwYW50ID0gcmVxdWlyZSAoJy4vUGFydGljaXBhbnQnKTtcblxuXG5cdGZ1bmN0aW9uIFdoaXRlYm9hcmRTZXR0aW5ncygkZWwsICRwYXJ0aWNpcGFudHMsICR0aXRsZSkgeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRTZXR0aW5nc10gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR0aGlzLiRwYXJ0aWNpcGFudHMgPSAkcGFydGljaXBhbnRzO1xuXHRcdHRoaXMuJHRpdGxlID0gJHRpdGxlO1xuXG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNzZXR0aW5ncy10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0IFx0dmFyIGNvbnRleHQgPSB7fTtcblx0IFx0aWYodGhpcy4kdGl0bGUpe1xuXHQgXHRcdGNvbnRleHQudGl0bGUgPSAkdGl0bGU7XG5cdCBcdH1lbHNle1xuXHQgXHRcdGNvbnRleHQudGl0bGUgPSBcIlVudGl0bGVkXCI7XG5cdCBcdH1cblx0XHRcdFxuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0Y29uc29sZS5sb2coaHRtbCk7XG5cdFx0JChcIiNjb250YWluZXJcIikuYXBwZW5kKCQoaHRtbCkpO1xuXG5cdFx0dGhpcy5iaW5kSGFuZGxlcigpO1xuXHR9XG5cblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS50b2dnbGVWaXNpYmxlID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NdIHRvZ2dsZVZpc2libGUnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcjaGlkZScpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblx0XHR0aGlzLiRlbC5maW5kKCcjc2hvdycpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3MucHJvdG90eXBlLmJpbmRIYW5kbGVyID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NdIGJpbmRIYW5kbGVyJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmhpZGUtYnV0dG9uJykub24oJ2NsaWNrJywgdGhpcy5oaWRlU2V0dGluZ3NIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJy5zaG93LWJ1dHRvbicpLm9uKCdjbGljaycsIHRoaXMuaGlkZVNldHRpbmdzSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuYWRkLWJ1dHRvbicpLm9uKCdjbGljaycsIHRoaXMuY3JlYXRlUGFydGljaXBhbnQuYmluZCh0aGlzKSk7XG5cdH07XG5cdFdoaXRlYm9hcmRTZXR0aW5ncy5wcm90b3R5cGUuY3JlYXRlUGFydGljaXBhbnQgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSBhZGRDbGlja2VkSGFuZGxlcicpO1xuXHRcdHRoaXMucGFydGljaXBhbnQgPSBuZXcgUGFydGljaXBhbnQodGhpcy4kZWwpO1xuXHRcdGJlYW4ub24odGhpcy5wYXJ0aWNpcGFudCwgXCJkZWxldGVcIiwgdGhpcy5kZWxldGVQYXJ0aWNpcGFudC5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3MucHJvdG90eXBlLmhpZGVTZXR0aW5nc0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSBoaWRlU2V0dGluZ3NIYW5kbGVyJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmhpZGVfc2VjdGlvbicpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuc2hvdy1idXR0b24nKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdH07XG5cdFxuXHRXaGl0ZWJvYXJkU2V0dGluZ3MucHJvdG90eXBlLmRlbGV0ZVBhcnRpY2lwYW50ID0gZnVuY3Rpb24ocGFydGljaXBhbnQpIHsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NdIGRlbGV0ZVBhcnRpY2lwYW50Jyk7XG5cdFx0dmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhcnRpY2lwYW50LWxpc3QnKTtcblx0XHRlbC5yZW1vdmVDaGlsZChwYXJ0aWNpcGFudCk7XG5cdFx0cmV0dXJuO1xuXHR9O1xuXG5cdHJldHVybiBXaGl0ZWJvYXJkU2V0dGluZ3M7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblx0dmFyIE1vdGlvbkVkaXQgPSByZXF1aXJlKCcuL01vdGlvbkVkaXQnKTtcblxuXG5cdGZ1bmN0aW9uIE1vdGlvbigkZWwseFBvcyx5UG9zLHZpZFNyYykgeyBjb25zb2xlLmxvZygnW01vdGlvbl0gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHRpZih2aWRTcmMpe1xuXHRcdHRoaXMudmlkU3JjID0gdmlkU3JjO1xuXHRcdH1cblx0fVxuXG5cdE1vdGlvbi5wcm90b3R5cGUuY3JlYXRlTW90aW9uID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tNb3Rpb25dIGNyZWF0TW90aW9uJyk7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNtb3Rpb24tdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0dmFyIGNvbnRleHQgPSB7fTtcblxuXHRcdGlmKHRoaXMudmlkU3JjKXtcblx0XHRcdGNvbnRleHQudmlkU3JjID0gdGhpcy52aWRTcmM7XG5cdFx0fWVsc2V7XG5cdFx0XHRjb250ZXh0LnZpZFNyYyA9IFwiXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcblx0XHQkKCcjaWQ9XCJ3aGl0ZWJvYXJkXCInKS5hcHBlbmQoJChodG1sKSk7XG5cdFx0XG5cdH07XG5cdFxuXHRNb3Rpb24ucHJvdG90eXBlLmVkaXQgPSBmdW5jdGlvbigkZWwsZWxlbWVudElkKXsgIGNvbnNvbGUubG9nKCdbTW90aW9uXSBlZGl0Jyk7XG5cblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR0aGlzLmVsZW1lbnRJZCA9IGVsZW1lbnRJZDtcdFxuXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrZWxlbWVudElkKS5hcHBlbmQobmV3IE1vdGlvbkVkaXQodGhpcy52aWRTcmMsIGVsZW1lbnRJZCkpO1xuXG5cdH07XG5cblx0TW90aW9uLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tNb3Rpb25dIGNvbmZpcm0nKTtcblx0XHR0aGlzLnZpZFNyYyA9IHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQrXCIgLm1vdGlvbi1lZGl0XCIpLnZhbCgpO1xuXHRcdHRoaXMuZW5kRWRpdCgpO1xuXHR9O1xuXG5cdE1vdGlvbi5wcm90b3R5cGUuZW5kRWRpdCA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbTW90aW9uXSBlbmRFZGl0Jyk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCtcIiA+IC5tb3Rpb24tZWRpdFwiKS5yZW1vdmUoKTtcblx0fTtcblxuXG5cdHJldHVybiBNb3Rpb247XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHRmdW5jdGlvbiBNb3Rpb25FZGl0KHZpZFNyYywgZWxlbWVudElkKSB7IGNvbnNvbGUubG9nKCdbTW90aW9uRWRpdF0gY29uc3RydWN0b3InKTtcblx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI21vdGlvbi1lZGl0LXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge307XG5cdFx0Y29udGV4dC52aWRTcmMgPSB2aWRTcmM7XG5cblx0XHR2YXIgaHRtbCA9IHRlbXBsYXRlKGNvbnRleHQpO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbml0TW90aW9uSW5wdXQoZWxlbWVudElkKTtcbiBcdFx0fSwgMTAwKTtcblx0XHRyZXR1cm4gKCQoaHRtbCkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdE1vdGlvbklucHV0KGVsZW1lbnRJZCl7IGNvbnNvbGUubG9nKCdbTW90aW9uXSBpbml0TW90aW9uSW5wdXQnKTtcblx0XHR2YXIgZmlsZUlucHV0ID0gJCgnIycrZWxlbWVudElkKycgPiBpbnB1dFt0eXBlPWZpbGVdJylbMF07XG5cdCAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcGxheVNlbGVjdGVkRmlsZSk7XG5cdH1cblxuIFx0ZnVuY3Rpb24gcGxheVNlbGVjdGVkRmlsZShldmVudCkgeyBjb25zb2xlLmxvZygnW01vdGlvbl0gcGxheVNlbGVjdGVkRmlsZScpO1xuXHRcdHZhciBlbGVtZW50SWQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZS5pZDtcblx0XHR2YXIgdmlkID0gJCgnIycrZWxlbWVudElkKycgPiAubW90aW9uID4gdmlkZW8nKVswXTtcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xuICAgICAgICB2YXIgdHlwZSA9IGZpbGUudHlwZTtcbiAgICAgICAgdmFyIGNhblBsYXkgPSB2aWQuY2FuUGxheVR5cGUodHlwZSk7XG4gICAgICAgIGNhblBsYXkgPSAoY2FuUGxheSA9PT0gJycgPyAnbm8nIDogY2FuUGxheSk7XG4gICAgICAgIC8vdmFyIG1lc3NhZ2UgPSAnQ2FuIHBsYXkgdHlwZSBcIicgKyB0eXBlICsgJ1wiOiAnICsgY2FuUGxheTtcbiAgICAgICAgLy92YXIgaXNFcnJvciA9IGNhblBsYXkgPT09ICdubyc7XG4gICAgICAgIGlmKFVSTCl7XG5cdCAgICAgICAgdmFyIGZpbGVVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuXHQgICAgICAgIHZpZC5zcmMgPSBmaWxlVVJMO1xuXHQgICAgICAgIHZpZC5hdXRvUGxheSA9IHRydWU7XG4gICAgICAgXHR9XG5cdH1cblx0XG5cdHJldHVybiBNb3Rpb25FZGl0O1xuXG59KSgpO1xuXG5cbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdHZhciBQaWN0dXJlRWRpdCA9IHJlcXVpcmUoJy4vUGljdHVyZUVkaXQnKTtcblxuXHRmdW5jdGlvbiBQaWN0dXJlKCRlbCx4UG9zLHlQb3MsIGltZ1NyYykgeyBjb25zb2xlLmxvZygnW1BpY3R1cmVdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0Y29uc29sZS5sb2coJGVsKTtcblx0XHRpZihpbWdTcmMpe1xuXHRcdHRoaXMuaW1nU3JjID0gaW1nU3JjO1xuXHRcdH1cblx0fVxuXG5cdFBpY3R1cmUucHJvdG90eXBlLmNyZWF0ZVBpY3R1cmUgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1BpY3R1cmVdIGNyZWF0UGljdHVyZScpO1xuXHRcdHZhciBlbnRyeVRleHQgPSAkKCcjcGljdHVyZS10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0XHR2YXIgY29udGV4dCA9IHt9O1xuXG5cdFx0aWYodGhpcy50eHQpe1xuXHRcdFx0Y29udGV4dC5pbWdTcmMgPSB0aGlzLmltZ1NyYztcblx0XHR9ZWxzZXtcblx0XHRcdGNvbnRleHQuaW1nU3JjID0gXCJcIjtcblx0XHR9XG5cdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcblx0XHRyZXR1cm4oJChodG1sKSk7XG5cdH07XG5cdFxuXG5cdFBpY3R1cmUucHJvdG90eXBlLmVkaXQgPSBmdW5jdGlvbigkZWwsZWxlbWVudElkKXsgY29uc29sZS5sb2coJ1tQaWN0dXJlXSBlZGl0Jyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy5lbGVtZW50SWQgPSBlbGVtZW50SWQ7XHRcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK2VsZW1lbnRJZCkuYXBwZW5kKG5ldyBQaWN0dXJlRWRpdCgkZWwsIHRoaXMuaW1nU3JjLGVsZW1lbnRJZCkpO1xuXHR9O1xuXG5cdFBpY3R1cmUucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1BpY3R1cmVdIGNvbmZpcm0nKTtcblx0XHR0aGlzLmltZ1NyYyA9IHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQrXCIgLmlucHV0LXBpY3R1cmVcIikudmFsKCk7XG5cdFx0dGhpcy5lbmRFZGl0KCk7XG5cdH07XG5cblx0UGljdHVyZS5wcm90b3R5cGUuZW5kRWRpdCA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbUGljdHVyZV0gZW5kRWRpdCcpO1xuXG5cdGNvbnNvbGUubG9nKHRoaXMuZWxlbWVudElkKTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkK1wiID4gLmlucHV0LXBpY3R1cmVcIikucmVtb3ZlKCk7XG5cblx0fTtcblxuXHRyZXR1cm4gUGljdHVyZTtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHR2YXIgZXJyb3JzID0gW107XG5cblx0ZnVuY3Rpb24gUGljdHVyZUVkaXQoJGVsLHR4dCxlbGVtZW50SWQpIHsgY29uc29sZS5sb2coJ1tQaWN0dXJlRWRpdF0gY29uc3RydWN0b3InKTtcblx0XHRpZiAoXG5cdFx0XHR3aW5kb3cuRmlsZSAmJiBcblx0XHRcdHdpbmRvdy5GaWxlUmVhZGVyICYmIFxuXHRcdFx0d2luZG93LkZpbGVMaXN0ICYmIFxuXHRcdFx0d2luZG93LkJsb2Jcblx0XHQpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiRnVsbCBmaWxlIHN1cHBvcnRcIik7XG5cdFx0fVxuXG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNwaWN0dXJlLWVkaXQtdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0dmFyIGNvbnRleHQgPSB7fTtcblx0XHRjb250ZXh0LnR4dCA9IHR4dDtcblxuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpeyBpbml0SW1hZ2VJbnB1dChlbGVtZW50SWQpO30sIDEwMCk7XG5cdFx0cmV0dXJuICgkKGh0bWwpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5pdEltYWdlSW5wdXQoZWxlbWVudElkKXsgY29uc29sZS5sb2coJ1tQaWN0dXJlRWRpdF0gaW5pdEltYWdlSW5wdXQnKTtcblx0XHR2YXIgaW1nSW5wdXRzID0gJCgnIycrZWxlbWVudElkKycgPiAuaW5wdXQtcGljdHVyZScpWzBdO1xuXHRcdGltZ0lucHV0cy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjcmVhdGVUaHVtYik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVRodW1iKGUpe2NvbnNvbGUubG9nKCdbUGljdHVyZUVkaXRdIGNyZWF0ZVRodW1iJyk7XG5cdFx0dmFyIGVsZW1lbnRJZCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmlkO1xuXHRcdGlmIChcblx0XHRcdHRoaXMuZmlsZXMgJiYgXG5cdFx0XHR0aGlzLmZpbGVzWzBdICYmIFxuXHRcdFx0dGhpcy5maWxlc1swXS50eXBlLm1hdGNoKCdpbWFnZS4qJylcblx0XHQpIHtcblx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0dmFyIGltZyA9ICQoJyMnK2VsZW1lbnRJZCsnPiAucGljdHVyZSA+ICNpbWFnZS1wcmV2aWV3JylbMF07XG5cblx0XHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKXtcblx0XHRcdFx0aW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgZS50YXJnZXQucmVzdWx0KTtcblx0XHRcdFx0aW1nLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBpbWcud2lkdGgpO1xuXHRcdFx0XHRpbWcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBpbWcuaGVpZ2h0KTtcblx0XHRcdFx0aW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0aWYoZXJyb3JzLmxlbmd0aCA9PT0gMCl7XG5cdFx0XHRcdFx0XHRpbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiKyBlLnRhcmdldC5yZXN1bHQgK1wiJylcIjtcblx0XHRcdFx0XHRcdGltZy5zdHlsZS5oZWlnaHQgPSBpbWcud2lkdGgrXCJweFwiO1xuXHRcdFx0XHRcdFx0aW1nLnN0eWxlLndpZHRoID0gaW1nLmhlaWdodCtcInB4XCI7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRlcnJvcnMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwodGhpcy5maWxlc1swXSk7XG5cblx0XHR9ZWxzZXtcblx0XHRcdGVycm9ycy5wdXNoKFwiRmlsZSBpcyBub3QgYSB2YWxpZCBpbWFnZVwiKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gUGljdHVyZUVkaXQ7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHR2YXIgUG9zdGl0RWRpdCA9IHJlcXVpcmUoJy4vUG9zdGl0RWRpdCcpO1xuXG5cdGZ1bmN0aW9uIFBvc3RpdCh0eHQpIHsgY29uc29sZS5sb2coJ1tQb3N0aXRdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy50eHQgPSB0eHQ7XG5cdFx0aWYoIXRoaXMudHh0KXtcblx0XHRcdHRoaXMudHh0ID0gXCJOaWV1d2UgUG9zdGl0XCI7XG5cdFx0fVxuXHR9XG5cblx0UG9zdGl0LnByb3RvdHlwZS5jcmVhdGVQb3N0aXQgPSBmdW5jdGlvbih0eHQpeyBjb25zb2xlLmxvZygnW1Bvc3RpdF0gY3JlYXRlUG9zdGl0Jyk7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNwb3N0aXQtdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0dmFyIGNvbnRleHQgPSB7fTtcblx0XHRjb250ZXh0LnR4dCA9IHRoaXMudHh0O1xuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0cmV0dXJuICgkKGh0bWwpKTtcblx0fTtcblxuXHRQb3N0aXQucHJvdG90eXBlLmVkaXQgPSBmdW5jdGlvbigkZWwsZWxlbWVudElkKXsgY29uc29sZS5sb2coJ1tQb3N0aXRdIGVkaXQnKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR0aGlzLmVsZW1lbnRJZCA9IGVsZW1lbnRJZDtcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK2VsZW1lbnRJZCtcIiA+IC5wb3N0aXQgPiBwXCIpLnRvZ2dsZUNsYXNzKFwiaGlkZGVuXCIpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrZWxlbWVudElkKS5hcHBlbmQobmV3IFBvc3RpdEVkaXQodGhpcy50eHQpKTtcblx0fTtcblxuXHRQb3N0aXQucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1Bvc3RpdF0gY29uZmlybScpO1xuXHRcdHRoaXMudHh0ID0gdGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCtcIiAucG9zdGl0LWVkaXRcIikudmFsKCk7XG5cdFx0dGhpcy5lbmRFZGl0KCk7XG5cdH07XG5cblx0UG9zdGl0LnByb3RvdHlwZS5lbmRFZGl0ID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tQb3N0aXRdIGVuZEVkaXQnKTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkK1wiID4gLnBvc3RpdCA+IHBcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIikudGV4dCh0aGlzLnR4dCk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCtcIiA+IC5wb3N0aXQtZWRpdFwiKS5yZW1vdmUoKTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkK1wiID4gLnBvc3RpdCA+IHBcIikudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdH07XG5cblx0cmV0dXJuIFBvc3RpdDtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXG5cdGZ1bmN0aW9uIFBvc3RpdEVkaXQodHh0KSB7IGNvbnNvbGUubG9nKCdbUG9zdGl0RWRpdF0gY29uc3RydWN0b3InKTtcblx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI3Bvc3RpdC1lZGl0LXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge307XG5cdFx0Y29udGV4dC50eHQgPSB0eHQ7XG5cblx0XHR2YXIgaHRtbCA9IHRlbXBsYXRlKGNvbnRleHQpO1xuXG5cdFx0cmV0dXJuICgkKGh0bWwpKTtcblxuXHR9XG5cdFxuXHRyZXR1cm4gUG9zdGl0RWRpdDtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=