!function e(t,i,n){function o(r,a){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[r]={exports:{}};t[r][0].call(c.exports,function(e){var i=t[r][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e){!function(){function t(){this.overview=new r($("#container"),this.user),this.profile=new o($("#profile")),bean.on(this.profile,"refresh",n.bind(this)),bean.on(this.overview,"leak-boardData",i.bind(this))}function i(e){console.log("[Script] storeBoardInfo"),this.boardInfo=e}function n(e){console.log("[Script] windowRefresh"),$("#container").html(""),"undefined"!=typeof this.boardInfo&&(this.app=new s($("#container"),this.boardInfo,e)),this.overview="undefined"!=typeof e?new r($("#container"),e.id):new r($("#container"))}var o=e("./classes/Profile"),s=e("./classes/App"),r=e("./classes/Overview");this.user=[],t()}()},{"./classes/App":2,"./classes/Overview":7,"./classes/Profile":11}],2:[function(e,t){t.exports=function(){function t(e,t,o){console.log("[App] constructor"),this.$el=e,this.whiteboardId=t.id,this.userId=o,this.admin=Boolean(t.creator===this.userId),this.boardInfo=t,this.types=["postits","statics","motion"],this.i=0,this.elementList=[],this.position={},this.dataHandler=new s,this.whiteboard=new i(this.$el,this.boardInfo,this.admin,o),this.elementPicker=new n(this.$el),bean.on(this.dataHandler,"data-success",this.addToElementList.bind(this)),bean.on(this.whiteboard,"whiteboard-clicked",this.whiteboardClickedHandler.bind(this)),bean.on(this.elementPicker,"element-picker-clicked",this.elementPickerClickedHandler.bind(this)),this.$el.find(".close-button").on("click",this.closeProject.bind(this)),this.buildBoard()}var i=e("./Whiteboard"),n=e("./ElementPicker"),o=e("./Element"),s=e("./DataHandler");return t.prototype.closeProject=function(){console.log("[WhiteboardSettings] closeProject"),$("#container").html("");var t=e("./Overview");new t($("#container"),this.userId)},t.prototype.whiteboardClickedHandler=function(e){console.log("[App] whiteboardClickedHandler"),this.elementPicker.toggleVisible(),this.elementPicker.setLocation(e.xPos,e.yPos),this.position=e},t.prototype.elementPickerClickedHandler=function(e){console.log("[App] elementPickerClickedHandler"),this.elementPicker.toggleVisible();var t=new o(this.$el,e,this.position);this.newElement(e,t.elementId),bean.on(t,"position-changed",this.positionChangedHandler.bind(this)),bean.on(t,"image-changed",this.imageChangedHandler.bind(this)),bean.on(t,"video-changed",this.videoChangedHandler.bind(this)),bean.on(t,"remove-clicked",this.removeHandler.bind(this)),bean.on(t,"edit-clicked",this.editHandler.bind(this))},t.prototype.buildBoard=function(){console.log("[App] buildBoard");for(var e in this.types)this.dataHandler.loadBoardElements(this.types[e],this.whiteboardId)},t.prototype.addToElementList=function(e){console.log("[App] addToElementList"),this.addToBoard(e)},t.prototype.addToBoard=function(e){console.log("[App] addToBoard");var t=e;for(var i in t){var n=t[i].el_type,s={};s.yPos=Number(t[i].posy),s.xPos=Number(t[i].posx);var r=t[i].id_on_board,a=t[i].id,l=t[i].content,d=new o(this.$el,n,s,r,l,a);this.admin===!0&&(bean.on(d,"remove-clicked",this.removeHandler.bind(this)),bean.on(d,"edit-clicked",this.editHandler.bind(this)),bean.on(d,"position-changed",this.positionChangedHandler.bind(this)),bean.on(d,"image-changed",this.imageChangedHandler.bind(this)),bean.on(d,"video-changed",this.videoChangedHandler.bind(this)))}},t.prototype.videoChangedHandler=function(e){console.log("[App] videoChangedHandler"),this.dataHandler.editContent(e.elementType,e.elementId,e.content,this.whiteboardId)},t.prototype.imageChangedHandler=function(e){console.log("[App] imageChangedHandler"),this.dataHandler.editContent(e.elementType,e.elementId,e.content,this.whiteboardId)},t.prototype.editHandler=function(e){console.log("[App] editHandler"),this.dataHandler.editContent(e.elementType,e.elementId,e.content,this.whiteboardId)},t.prototype.removeHandler=function(e){console.log("[App] removeHandler"),this.dataHandler.removeBoardElement(e.elementType,e.elementId,this.whiteboardId)},t.prototype.newElement=function(e,t){console.log("[App] newElementHandler"),this.dataHandler.newBoardElement(e,t,this.position,this.whiteboardId)},t.prototype.positionChangedHandler=function(e){console.log("[App] positionChangedHandler"),this.dataHandler.positionChange(e.elementType,e.elementId,e.eTarget.css("left"),e.eTarget.css("top"),this.whiteboardId)},t}()},{"./DataHandler":3,"./Element":5,"./ElementPicker":6,"./Overview":7,"./Whiteboard":14}],3:[function(e,t){t.exports=function(){function e(){console.log("[DataHandler] constructor"),this.url="http://localhost/whiteboard_2/api/index.php/",t=this,this.boardList=[]}var t;return e.prototype.getBoardInfo=function(e){return console.log("[DataHandler] getBoardInfo"),$.ajax({type:"GET",url:this.url+"boards/"+e,data:{content:"content"},success:function(e){bean.fire(t,"board-info",[e])}})},e.prototype.loadBoardElements=function(e,i){return console.log("[DataHandler] loadBoardElements"),$.ajax({type:"GET",url:this.url+e+"/"+String(i),data:{content:"content"},success:function(e){bean.fire(t,"data-success",[e])}})},e.prototype.removeBoardElement=function(e,t,i){switch(console.log("[DataHandler] removeBoardElement"),e){case"post-it":this.removeElementById("postits",t,i);break;case"static":this.removeElementById("statics",t,i);break;case"motion":this.removeElementById("motion",t,i)}},e.prototype.removeElementById=function(e,t,i){$.ajax({type:"POST",url:this.url+e+"/delete/",data:{id_on_board:t,whiteboard_id:i},success:function(e){console.log("deleted = "+e)}})},e.prototype.newBoardElement=function(e,t,i,n){switch(console.log("[DataHandler] newBoardElement"),e){case"post-it":this.newElement("postits",t,i,n);break;case"static":this.newElement("statics",t,i,n);break;case"motion":console.log("type : "+e),this.newElement("motion",t,i,n)}},e.prototype.newElement=function(e,t,i,n){console.log("NEWELEMENT"),$.ajax({type:"POST",url:this.url+e+"/add",data:{id_on_board:t,xpos:i.xPos,ypos:i.yPos,whiteboardId:n},success:function(e){console.log("success:",e)},error:function(e){console.log("error"),console.log(e)}})},e.prototype.positionChange=function(e,t,i,n,o){switch(console.log("[DataHandler] newBoardElement"),e){case"post-it":this.newPosition("postits",t,i,n,o);break;case"static":this.newPosition("statics",t,i,n,o);break;case"motion":this.newPosition("motion",t,i,n,o)}},e.prototype.newPosition=function(e,t,i,n,o){$.ajax({type:"POST",url:this.url+e+"/change/position",data:{whiteboard_id:o,id_on_board:t,xpos:i,ypos:n},success:function(e){console.log("success:",e)},error:function(e){console.log("error"),console.log(e)}})},e.prototype.editContent=function(e,t,i,n){switch(console.log("[DataHandler] editContent"),e){case"post-it":this.newContent("postits",t,i,n);break;case"static":this.newContent("statics",t,i,n);break;case"motion":this.newContent("motion",t,i,n)}},e.prototype.newContent=function(e,t,i,n){$.ajax({type:"POST",url:this.url+e+"/change/content",data:{whiteboard_id:n,id_on_board:t,content:i},success:function(e){console.log("success:",e)},error:function(e){console.log("error"),console.log(e)}})},e.prototype.getAllBoards=function(){console.log("[DataHandler] getAllBoards"),$.ajax({type:"GET",url:this.url+"boards/",data:{content:"content"},success:function(e){this.boardElements.push(e)}.bind(this)})},e}()},{}],4:[function(e,t){t.exports=function(){function e(e,t){console.log("[EditMenu] constructor"),this.$el=e,this.elementId=t;var i=$("#edit-menu-template").text(),n=Handlebars.compile(i),o={actions:[{actionId:"cancel",name:"annuleer"},{actionId:"edit",name:"wijzigen"},{actionId:"remove",name:"verwijderen"}]};Handlebars.registerHelper("editmenu",function(){var e=Handlebars.escapeExpression(this.actionId),t=Handlebars.escapeExpression(this.name);return new Handlebars.SafeString("<li id="+e+">"+t+"</li>")});var s=n(o);this.$el.find("#"+this.elementId).append(s),this.$el.find("#"+this.elementId+" > p").toggleClass("hidden"),this.bindHandlers(),this.toggleVisible()}return e.prototype.toggleVisible=function(){console.log("[EditMenu] toggleVisible"),this.$el.find("#"+this.elementId+" > p").toggleClass("hidden"),this.$el.find("#"+this.elementId+" .edit-menu").toggleClass("hidden")},e.prototype.bindHandlers=function(){console.log("[EditMenu] bindHandlers"),this.$el.find("#"+this.elementId+" > p").on("click",this.clickHandler.bind(this)),this.$el.find("#"+this.elementId+" li").on("click",this.clickHandler.bind(this))},e.prototype.clickHandler=function(e){if(console.log("[EditMenu] clickHandler"),"editButton"===e.target.className)bean.fire(this,"edit-clicked"),this.toggleVisible();else{var t={};t.targetId=e.target.id,t.elementId=this.elementId,bean.fire(this,"action-clicked",t)}},e}()},{}],5:[function(e,t){t.exports=function(){function t(e,t,i,n,o){console.log("[Element] constructor"),this.$el=e,this.content=o,this.elementType=t,this.elementId=n,this.elementId=this.elementId?n:this.setElementId(),this.position=i,this.createElementHolder()}var i=e("./EditMenu"),n=1,o=e("./elements/Postit"),s=e("./elements/Picture"),r=e("./elements/Motion");return t.prototype.createElementHolder=function(){console.log("[Element] createElementHolder"),this.$el.find("#whiteboard").append("<section class='element-holder'></section>"),this.$el.find(".element-holder:last-of-type").attr("id",this.elementId);var e={};e.top=this.position.yPos,e.left=this.position.xPos,e.zIndex=0,this.$el.find("#"+this.elementId).css(e),this.createEditMenu(),this.bindHandler(this.$el.find("#"+this.elementId)),this.createElement()},t.prototype.createElement=function(){switch(console.log("[Element] createElement"),this.elementType){case"post-it":this.element=new o(this.content),this.content?this.$el.find("#"+this.elementId).append(this.element.createPostit()):(this.$el.find("#"+this.elementId).append(this.element.createPostit()),this.element.edit(this.$el,this.elementId),this.editMenu.toggleVisible()),this.$el.find("#"+this.elementId).append(this.element.createPostit);break;case"static":this.element=new s(this.content,this.elementId),this.content?(this.$el.find("#"+this.elementId).append(this.element.createPicture()),bean.on(this.element,"image-changed",this.imageChangedHandler.bind(this))):(this.$el.find("#"+this.elementId).append(this.element.createPicture()),this.element.edit(this.$el,this.elementId),bean.on(this.element,"image-changed",this.imageChangedHandler.bind(this)),this.editMenu.toggleVisible());break;case"motion":this.element=new r(this.$el,this.content,this.elementId),this.content?(this.$el.find("#"+this.elementId).append(this.element.createMotion()),bean.on(this.element,"video-changed",this.videoChangedHandler.bind(this))):(this.$el.find("#"+this.elementId).append(this.element.createMotion()),this.element.edit(this.$el,this.elementId),bean.on(this.element,"video-changed",this.videoChangedHandler.bind(this)),this.editMenu.toggleVisible()),this.bindHandler(this.$el.find("#"+this.elementId))}},t.prototype.bindHandler=function(){console.log("[Element] bindHandler"),this.$el.find("#"+this.elementId).on("mousedown",this.mousedownHandler.bind(this)),this.mouseDown=!1},t.prototype.videoChangedHandler=function(e){console.log("[Element] videoChangedHandler");var t={};t.content=e,t.elementId=this.elementId,t.elementType=this.elementType,bean.fire(this,"video-changed",t),this.editMenu.toggleVisible()},t.prototype.imageChangedHandler=function(e){console.log("[Element] imageChangedHandler");var t={};t.content=e,t.elementId=this.elementId,t.elementType=this.elementType,bean.fire(this,"image-changed",t),this.editMenu.toggleVisible()},t.prototype.mousedownHandler=function(e){console.log("[Element] mousedownHandler"),e.target.id===this.elementId&&(this.mouseDown=!0,this.currentLeft=$(e.target).css("left"),this.currentTop=$(e.target).css("top"),this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),this.offsetX=e.offsetX,this.offsetY=e.offsetY,++n,this.$el.find("#"+this.elementId).css("zIndex",n),document.body.addEventListener("mousemove",this._mouseMoveHandler),document.body.addEventListener("mouseup",this._mouseUpHandler))},t.prototype.createEditMenu=function(){console.log("[Element] createEditMenu"),this.editMenu=new i(this.$el,this.elementId),bean.on(this.editMenu,"edit-clicked",this.editClickedHandler.bind(this)),bean.on(this.editMenu,"action-clicked",this.actionClickedHandler.bind(this))},t.prototype.editClickedHandler=function(){console.log("[Element] editClickedHandler"),this.element.edit(this.$el,this.elementId)},t.prototype.actionClickedHandler=function(e){switch(console.log("[Element] actionClickedHandler"),e.targetId){case"remove":console.log("remove"),this.editMenu.toggleVisible(),this.$el.find("#"+e.elementId).remove();var t={};t.elementId=this.elementId,t.elementType=this.elementType,bean.fire(this,"remove-clicked",t),console.log(t);break;case"edit":this.element.confirm(),this.editMenu.toggleVisible(),this.element.changed===!0&&(t={},t.elementType=this.elementType,t.elementId=this.elementId,t.content=this.element.txt,bean.fire(this,"edit-clicked",t));break;case"cancel":this.element.endEdit(),this.editMenu.toggleVisible()}},t.prototype.mouseMoveHandler=function(e){if(console.log("[Element] mousemoveHandler"),this.mouseDown===!0){var t=parseInt(e.clientX),i=parseInt(e.clientY);this.$el.find("#"+this.elementId).css("left",t-this.offsetX),this.$el.find("#"+this.elementId).css("top",i-this.offsetY)}},t.prototype.mouseUpHandler=function(e){if(console.log("[Element] mouseupHandler"),this.mouseDown=!1,document.body.removeEventListener("mousemove",this._mouseMoveHandler),document.body.removeEventListener("mouseup",this._mouseUpHandler),this.currentTop!==$(e.target).css("top")||this.currentLeft!==$(e.target).css("left")){var t={};t.eTarget=$(e.target),t.elementType=this.elementType,t.elementId=this.elementId,bean.fire(this,"position-changed",t)}},t.prototype.setElementId=function(){console.log("[Element] setElementId");var e=this.$el.find(".element-holder");if(e.length>0){var t=[],i=0;for(i=0;i<e.length;i++)t.push(e[i].id);return t.sort(function(e,t){return t-e}),String(Number(t[0])+1)}return"0"},t}()},{"./EditMenu":4,"./elements/Motion":17,"./elements/Picture":19,"./elements/Postit":21}],6:[function(e,t){t.exports=function(){function e(e){console.log("[ElementPicker] constructor"),this.$el=e;var t=$("#element-picker-template").text(),i=Handlebars.compile(t),n={elements:[{element:"post-it",name:"post-it"},{element:"static",name:"image"},{element:"motion",name:"video"}]};Handlebars.registerHelper("picker",function(){var e=Handlebars.escapeExpression(this.element),t=Handlebars.escapeExpression(this.name);return new Handlebars.SafeString("<li id="+e+">"+t+"</li>")});var o=i(n);this.$el.find("#whiteboard").append($(o)),this.toggleVisible(),this.bindHandler()}return e.prototype.toggleVisible=function(){console.log("[ElementPicker] toggleVisible"),this.$el.find("#element-picker").toggleClass("hidden")},e.prototype.setLocation=function(e,t){console.log("[ElementPicker] setLocation");var i={top:t,left:e};this.$el.find("#element-picker").css(i)},e.prototype.bindHandler=function(){console.log("[ElementPicker] bindHandler"),this.$el.find("#element-picker > ul > li").on("click",this.clickHandler.bind(this))},e.prototype.clickHandler=function(e){console.log("[ElementPicker] clickHandler"),bean.fire(this,"element-picker-clicked",e.target.id)},e}()},{}],7:[function(e,t){t.exports=function(){function t(e,t){if(console.log("[Overview] constructor"),this.$el=e,this.user=t,this.overviewHandler=new s,t>0){var i=$("#overviewBtns-template").text();$("#container").append(i),e.find(".addBoard").on("click",this.addBoard.bind(this)),e.find(".myBoards").on("click",this.myBoards.bind(this)),e.find(".allBoards").on("click",this.allBoards.bind(this))}this.$el.find("#search").on("keyup",this.searchWhiteboards.bind(this)),this.$el.find("#mySearch").on("keyup",this.searchMyWhiteboards.bind(this)),bean.on(this.overviewHandler,"data-success",this.addToBoardList.bind(this)),bean.on(this.overviewHandler,"view-whiteboard",this.viewWhiteboard.bind(this)),this.overviewHandler.getAllBoards()}var n=e("./App"),o=e("./OverviewElement"),s=e("./OverviewHandler");return t.prototype.searchMyWhiteboards=function(e){console.log("[Overview] searchMyWhiteboards"),e.target.value?this.overviewHandler.searchMyWhiteboards(e.target.value,this.user):this.overviewHandler.getMyBoards()},t.prototype.searchWhiteboards=function(e){console.log("[Overview] searchWhiteboard"),e.target.value?this.overviewHandler.searchBoard(e.target.value):this.overviewHandler.getAllBoards()},t.prototype.addToBoardList=function(e){for(console.log("[Overview] addToBoardList"),this.boardList=[],$(".overviewThumb").remove(),this.boardList.push(e),i=0;i<this.boardList[0].length;i++)this.overviewElement=new o(this.boardList[0][i],this.user),bean.on(this.overviewElement,"remove-whiteboard",this.removeWhiteboard.bind(this)),bean.on(this.overviewElement,"view-whiteboard",this.viewWhiteboard.bind(this))},t.prototype.viewWhiteboard=function(e){console.log("[Overview] viewWhiteboard"),bean.fire(this,"leak-boardData",e),console.log(e),$("#container").html(""),new n($("#container"),e,this.user),bean.fire(this,"leak-boardData",e)},t.prototype.addBoard=function(){console.log("[Overview] addBoard"),this.user&&this.overviewHandler.addWhiteboard("Untitled",this.user)},t.prototype.removeWhiteboard=function(e){console.log("[Overview] removeWhiteboard"),this.overviewHandler.removeBoard(e),this.$el.find("#"+e).remove()},t.prototype.myBoards=function(e){console.log("[Overview] myBoards"),this.overviewHandler.getMyBoards(this.user),console.log(this.user),this.toggleVisible(e),this.$el.find(".allBoards").removeClass("selected"),this.$el.find("#mySearch").removeClass("hidden"),this.$el.find("#search").addClass("hidden")},t.prototype.allBoards=function(e){console.log("[Overview] allBoards"),this.overviewHandler.getAllBoards(),this.toggleVisible(e),this.$el.find(".myBoards").removeClass("selected"),this.$el.find("#search").removeClass("hidden"),this.$el.find("#mySearch").addClass("hidden")},t.prototype.toggleVisible=function(e){this.$el.find("."+e.target.classList[0]).addClass("selected")},t.prototype.searchMyWhiteboards=function(e){console.log("[Overview] searchMyWhiteboards"),e.target.value?this.overviewHandler.searchMyBoard(e.target.value,this.user):this.overviewHandler.getMyBoards(this.user)},t.prototype.searchWhiteboards=function(e){console.log("[Overview] searchWhiteboard"),e.target.value?this.overviewHandler.searchBoard(e.target.value):this.overviewHandler.getAllBoards()},t}()},{"./App":2,"./OverviewElement":8,"./OverviewHandler":9}],8:[function(e,t){t.exports=function(){function t(e,t){console.log("[OverviewElement] constructor"),this.board=e,this.boardId=e.id,this.userId=t,this.createOverviewThumb(e)}e("./App");return t.prototype.createOverviewThumb=function(e){console.log("[OverviewElement] createOverviewThumb");var t=$("#overviewThumb-template").text(),i=Handlebars.compile(t),n={};n.title=e.title,n.id=e.id,n.creator="CREATOR",n.creation_date=e.creation_date;var o=i(n);$("#container").append($(o)),this.bindHandler(e,$(o)[0])},t.prototype.bindHandler=function(e){console.log("[OverviewElement] bindHandler"),e.creator==this.userId&&($("#"+e.id+" > .remove").removeClass("hidden"),$("#"+e.id+" > .remove").on("click",this.removeHandler.bind(this))),$("#"+e.id+" > .view").on("click",this.viewHandler.bind(this))},t.prototype.removeHandler=function(){console.log("[OverviewElement] removeHandler"),bean.fire(this,"remove-whiteboard",this.boardId)},t.prototype.viewHandler=function(){console.log("[OverviewElement] viewHandler"),bean.fire(this,"view-whiteboard",this.board)},t}()},{"./App":2}],9:[function(e,t){t.exports=function(){function e(){console.log("[OverviewHandler] constructor"),this.url="http://localhost/whiteboard_2/api/index.php/"}return e.prototype.getAllBoards=function(){return console.log("[OverviewHandler] getAllBoards"),$.ajax({type:"GET",url:this.url+"boards/",data:{content:"content"},success:function(e){console.log("view-whiteboard "+[e]),bean.fire(this,"data-success",[e])}.bind(this)})},e.prototype.getMyBoards=function(e){return console.log("[OverviewHandler] getMyBoards"),$.ajax({type:"GET",url:this.url+"boards/"+e,data:{content:"content"},success:function(e){bean.fire(this,"data-success",[e])}.bind(this)})},e.prototype.removeBoard=function(e){console.log("[OverviewHandler] removeBoard"),$.ajax({type:"GET",url:this.url+"boards/delete/"+e,data:{content:"content"},success:function(e){console.log("deleted = "+e)}})},e.prototype.addWhiteboard=function(e,t){return $.ajax({type:"POST",url:this.url+"boards/add/"+e+"/"+t,data:{content:"content"},success:function(e){console.log("view-whiteboard "+[e]),bean.fire(this,"view-whiteboard",[e])}.bind(this)})},e.prototype.searchBoard=function(e){return $.ajax({type:"GET",url:this.url+"search/"+e,data:{content:"content"},success:function(e){console.log("search-whiteboard "+[e]),bean.fire(this,"data-success",[e])}.bind(this)})},e.prototype.searchMyBoard=function(e,t){return $.ajax({type:"GET",url:this.url+"mySearch/"+e+"/"+t,data:{content:"content"},success:function(e){console.log("search-whiteboard "+[e]),bean.fire(this,"data-success",[e])}.bind(this)})},e}()},{}],10:[function(e,t){t.exports=function(){function t(e,t,n,o){console.log("[Participant] constructor"),this.$el=e,this.boardId=t,this.admin=o,this.whiteboardSettingsHandler=new i,this.whiteboardSettingsHandler.getParticipantById(n.user_id),bean.on(this.whiteboardSettingsHandler,"participant",this.createParticipant.bind(this))}var i=e("./WhiteboardSettingsHandler");return t.prototype.createParticipant=function(e){console.log("[Participant] createParticipant");var t=$("#participant-template").text(),i=Handlebars.compile(t),n={participants:[{}]};if(this.admin){Handlebars.registerHelper("participant",function(){return new Handlebars.SafeString("<li>"+e.wb_username+"<button id='"+e.id+"'' class='btn deletePart'>X</button></li>")});var o=i(n);this.$el.find("#participant-list").append($(o)),this.bindDeletebutton()}else{Handlebars.registerHelper("participant",function(){return new Handlebars.SafeString("<li>"+e.wb_username+"</li>")});var o=i(n);this.$el.find("#participant-list").append($(o))}},t.prototype.bindDeletebutton=function(){console.log("[Participant] bindDeletebutton"),this.deletebuton=document.querySelectorAll(".deletePart"),this.deletebuton[this.deletebuton.length-1].addEventListener("click",this.deleteClickHandler.bind(this))},t.prototype.deleteClickHandler=function(e){console.log("[Participant] deleteClickHandler"),bean.fire(this,"delete",e.path[1]),console.log(this.boardId+" "+e.target.id),this.whiteboardSettingsHandler.deletePartById(this.boardId,e.target.id)},t}()},{"./WhiteboardSettingsHandler":16}],11:[function(e,t){t.exports=function(){function t(e,t,n){console.log("[Profile] constructor"),this.$el=e,this.user=[],this.userHandler=new i,this.username=t,this.email=n;var o=$("#login-template").text(),s=Handlebars.compile(o),r={},a=s(r);$("#profile").append($(a));var o=$("#register-template").text(),s=Handlebars.compile(o),r={},a=s(r);$("#profile").append($(a)),this.$el.find("#register-button").on("click",this.register.bind(this)),$(".register").on("click",this.addUser.bind(this)),this.$el.find(".login").on("click",this.login.bind(this)),bean.on(this.userHandler,"user-found",this.bindUser.bind(this))}var i=e("./UserHandler");return t.prototype.register=function(){console.log("[Profile] register"),$("#register").toggleClass("hidden")},t.prototype.addUser=function(){console.log("[Profile] addUser"),this.username=this.$el.find(".register_name").val(),this.email=this.$el.find(".register_email").val(),this.password=this.$el.find(".register_password").val(),this.password_2=this.$el.find(".register_password_2").val(),this.password==this.password_2&&this.userHandler.register(this.username,this.email,this.password)},t.prototype.login=function(){console.log("[Profile] login"),this.email=this.$el.find(".login_email").val(),this.password=this.$el.find(".login_password").val(),this.userHandler.login(this.email,this.password)},t.prototype.logout=function(){console.log("[Profile] logout"),this.user=[],this.toggleVisible(),$("#register-button").removeClass("hidden"),$("#logout").remove(),bean.fire(this,"refresh",this.user)},t.prototype.bindUser=function(e){if(console.log("[Profile] bindUser"),this.user=[e],this.user[0]){$("input").val(""),$("#register-button").addClass("hidden"),$("#register").addClass("hidden"),this.toggleVisible(),bean.fire(this,"refresh",this.user);var t=$("#logged-in-template").text(),i=Handlebars.compile(t),n={};n.username=this.user[0].wb_username;var o=i(n);$("#profile").append($(o)),$(".logout").on("click",this.logout.bind(this))}},t.prototype.toggleVisible=function(){console.log("[Profile] toggleVisible"),$("#login").toggleClass("hidden")},t}()},{"./UserHandler":13}],12:[function(e,t){t.exports=function(){function t(e,t){console.log("[Tags] constructor"),this.$el=e;var n=e.find(".tag-input");if(n.val()){var o=$("#tags-template").text(),s=Handlebars.compile(o),r={tags:[{}]};Handlebars.registerHelper("tag",function(){return new Handlebars.SafeString("<li>"+n.val()+"<button class='btn deleteTag'>X</button></li>")});var a=s(r);this.$el.find("#tag-list").append($(a)),this.bindHandler(n.val()),this.whiteboardSettingsHandler=new i,this.whiteboardSettingsHandler.addTag(n.val(),t),n.val("")}}var i=e("./WhiteboardSettingsHandler");return t.prototype.bindHandler=function(){console.log("[Tags] bindHandler"),this.deletebuton=document.querySelectorAll(".deleteTag"),this.deletebuton[this.deletebuton.length-1].addEventListener("click",this.deleteClickHandler.bind(this))},t.prototype.deleteClickHandler=function(e){console.log("[Participant] deleteClickHandler"),bean.fire(this,"delete",e.path[1])},t}()},{"./WhiteboardSettingsHandler":16}],13:[function(e,t){t.exports=function(){function e(){console.log("[OverviewHandler] constructor"),this.url="http://localhost/whiteboard_2/api/index.php/"}return e.prototype.login=function(e,t){console.log("[UserHandler] login"),$.ajax({type:"POST",data:{content:"content"},url:this.url+"users/login/"+e+"/"+t,success:function(e){console.log("user found",[e]),bean.fire(this,"user-found",[e])}.bind(this)})},e.prototype.register=function(e,t,i){console.log("[UserHandler] register"),$.ajax({type:"POST",data:{content:"content"},url:this.url+"users/register/"+e+"/"+t+"/"+i,success:function(e){console.log("new user created",[e]),bean.fire(this,"user-found",[e])}.bind(this)})},e}()},{}],14:[function(e,t){t.exports=function(){function t(e,t,i){console.log("[Whiteboard] constructor"),this.$el=e,this.admin=i,this.boardInfo=t,this.createWhiteboard(),this.addWhiteboardSettings()}var i=e("./WhiteboardSettings");return t.prototype.createWhiteboard=function(){console.log("[Whiteboard] createWhiteboard"),this.board=this.$el.append("<div id='whiteboard'></div>"),this.bindHandler()},t.prototype.bindHandler=function(){console.log("[Whiteboard] bindHandler"),this.board.on("click",this.clickHandler.bind(this))},t.prototype.clickHandler=function(e){console.log("[Whiteboard] clickHandler");var t=e.pageX-this.$el.offset().left,i=e.pageY-this.$el.offset().top,n={};n.xPos=t,n.yPos=i,"whiteboard"===e.target.id&&bean.fire(this,"whiteboard-clicked",n)},t.prototype.addWhiteboardSettings=function(){console.log("[Whiteboard] addWhiteboardSettings"),this.whiteboardSettings=new i(this.$el,this.admin,this.boardInfo)},t}()},{"./WhiteboardSettings":15}],15:[function(e,t){t.exports=function(){function t(e,t,i){if(console.log("[WhiteboardSettings] constructor"),this.$el=e,this.admin=t,this.boardInfo=i,this.whiteboardSettingsHandler=new s,this.admin)var n=$("#settings-template").text();else var n=$("#info-template").text();var o=Handlebars.compile(n),r={};r.title=i.title,r.creation_date=i.creation_date,r.creator="CREATOR";var a=o(r);$("#container").append($(a)),this.bindHandler(),this.$el.find(".participant-input").on("keyup",this.searchParticipant.bind(this)),bean.on(this.whiteboardSettingsHandler,"participant-found",this.addToPartList.bind(this)),this.$el.find(".title-input").on("keyup",this.addTitle.bind(this)),this.whiteboardSettingsHandler.getParticipants(i.id),bean.on(this.whiteboardSettingsHandler,"participants",this.createParticipant.bind(this))}var n=e("./Participant"),o=e("./Tags"),s=e("./WhiteboardSettingsHandler");return t.prototype.addToPartList=function(e){console.log("[WhiteboardSettings] addToPartList"),this.$el.find("#result-list").empty();var t={};for(t.names=[],i=0;i<e.length;i++)t.names.push({name:e[i].wb_username,id:e[i].id});var n=$("#result-template").text(),o=Handlebars.compile(n);console.log("----------------------"),Handlebars.registerHelper("users",function(){var e=Handlebars.escapeExpression(this.name),t=Handlebars.escapeExpression(this.id);return new Handlebars.SafeString("<li class='partList'>"+e+"<button id="+t+" class='btn addParticipant'>X</button></li>")});var s=o(t);this.$el.find("#result-list").append($(s)),this.bindParticipant($(s))},t.prototype.bindParticipant=function(){for(this.addPartBtn=document.querySelectorAll(".addParticipant"),console.log(this.addPartBtn),i=0;i<this.addPartBtn.length;i++)this.addPartBtn[i].addEventListener("click",this.addInvitation.bind(this))},t.prototype.addInvitation=function(e){console.log("[Participant] deleteClickHandler");var t={user_id:e.target.id},i={0:{user_id:e.target.id}};this.whiteboardSettingsHandler.addParticipant(this.boardInfo.id,t.user_id),this.createParticipant(i),this.$el.find("#participant-list").append("<li>"+e.path[1].firstChild.data+"<button id='"+e.path[0].id+"'' class='btn deletePart'>X</button></li>"),this.bindDeletebutton()},t.prototype.bindDeletebutton=function(){console.log("[Participant] bindDeletebutton"),this.deletebuton=document.querySelectorAll(".deletePart"),console.log(this.deletebuton),console.log(this.deletebuton.length-1),this.deletebuton[this.deletebuton.length-1].addEventListener("click",this.deleteClickHandler.bind(this))},t.prototype.deleteClickHandler=function(e){console.log("[Participant] deleteClickHandler"),this.whiteboardSettingsHandler.deletePartById(this.boardId,e.target.id),console.log(e.target.id),e.path[1].remove()},t.prototype.createParticipant=function(e){for(console.log("[WhiteboardSettings] addClickedHandler"),this.$el.find(".participant-input").val(""),$(".partList").remove(),i=0;i<e.length;i++)this.participant=new n(this.$el,this.boardInfo.id,e[i],this.admin),bean.on(this.participant,"delete",this.deleteParticipant.bind(this))},t.prototype.searchParticipant=function(e){console.log("[WhiteboardSettings] addTitle"),this.whiteboardSettingsHandler.searchParticipant(e.target.value)},t.prototype.addTitle=function(e){console.log("[WhiteboardSettings] addTitle"),this.whiteboardSettingsHandler.addTitle(this.boardInfo.id,e.target.value)},t.prototype.bindHandler=function(){console.log("[WhiteboardSettings] bindHandler"),this.$el.find(".hide-button").on("click",this.hideSettingsHandler.bind(this)),this.$el.find(".show-button").on("click",this.hideSettingsHandler.bind(this)),this.$el.find(".addTag").on("click",this.createTag.bind(this))},t.prototype.toggleVisible=function(){console.log("[WhiteboardSettings] toggleVisible"),this.$el.find("#hide").toggleClass("hidden"),this.$el.find("#show").toggleClass("hidden")},t.prototype.createTag=function(){console.log("[WhiteboardSettings] createTag"),this.tag=new o(this.$el,this.boardInfo.id),bean.on(this.tag,"delete",this.deleteTag.bind(this))},t.prototype.hideSettingsHandler=function(){console.log("[WhiteboardSettings] hideSettingsHandler"),this.$el.find(".hide_section").toggleClass("hidden"),this.$el.find(".show-button").toggleClass("hidden")
},t.prototype.deleteParticipant=function(e){console.log("[WhiteboardSettings] deleteParticipant");var t=document.querySelector("#participant-list");t.removeChild(e)},t.prototype.deleteTag=function(e){console.log("[WhiteboardSettings] deleteParticipant");var t=document.querySelector("#tag-list");t.removeChild(e)},t}()},{"./Participant":10,"./Tags":12,"./WhiteboardSettingsHandler":16}],16:[function(e,t){t.exports=function(){function e(){console.log("[WhiteboardSettingsHandler] constructor"),this.url="http://localhost/whiteboard_2/api/index.php/"}return e.prototype.addTitle=function(e,t){return console.log("[WhiteboardSettingsHandler] addTitle"),$.ajax({type:"POST",url:this.url+"settings/"+e+"/"+t,data:{content:"content"},success:function(e){console.log("title-added "+[e])}.bind(this)})},e.prototype.getParticipants=function(e){return console.log("[WhiteboardSettingsHandler] getParticipants"),$.ajax({type:"GET",url:this.url+"getParticipants/"+e,data:{content:"content"},success:function(e){console.log("participants-found"+[e]),bean.fire(this,"participants",[e])}.bind(this)})},e.prototype.searchParticipant=function(e){return console.log("[WhiteboardSettingsHandler] searchParticipant"),$.ajax({type:"POST",url:this.url+"participant/"+e,data:{content:"content"},success:function(e){console.log("found"+[e]),bean.fire(this,"participant-found",[e])}.bind(this)})},e.prototype.addParticipant=function(e,t){return console.log("[ParticipantHandler] addParticipant"),$.ajax({type:"POST",url:this.url+"addParticipant/"+e+"/"+t,data:{content:"content"},success:function(e){console.log([e]),bean.fire(this,"participant",[e])}.bind(this)})},e.prototype.getParticipantById=function(e){return console.log("[ParticipantHandler] getParticipantById"),$.ajax({type:"GET",url:this.url+"getParticipantById/"+e,data:{content:"content"},success:function(e){console.log("participant "+[e]),bean.fire(this,"participant",[e])}.bind(this)})},e.prototype.deletePartById=function(e,t){return console.log("[ParticipantHandler] deleteParticipant"),$.ajax({type:"GET",url:this.url+"deletePartById/"+e+"/"+t,data:{content:"content"},success:function(e){console.log("deleted "+[e])}.bind(this)})},e.prototype.addTag=function(e,t){return console.log("[WhiteboardSettingsHandler] searchParticipant"),$.ajax({type:"POST",url:this.url+"tag/"+e+"/"+t,data:{content:"content"},success:function(e){console.log("tag-added"+[e])}.bind(this)})},e}()},{}],17:[function(e,t){t.exports=function(){function t(e,t){console.log("[Motion] constructor"),this.$el=e,this.changed=!1,i=this,t&&(this.vidSrc=t)}var i,n=e("./MotionEdit");return t.prototype.createMotion=function(){console.log("[Motion] creatMotion");var e=$("#motion-template").text(),t=Handlebars.compile(e),i={};i.vidSrc=this.vidSrc?"motion/"+this.vidSrc+".mp4":"";var n=t(i);return $(n)},t.prototype.playSelectedFile=function(e){console.log("[Motion] playSelectedFile");var t=this.$el.find("#"+this.elementId+" > .motion > video");if(URL){console.log("URL BESTAAD");var n=URL.createObjectURL(e);t.attr("src",n),t.autoPlay=!0}var o=new FileReader;o.onload=function(e){console.log("loaded"),i.confirm(e.target.result)},o.readAsDataURL(e)},t.prototype.edit=function(e,t){console.log("[Motion] edit"),this.$el=e,this.elementId=t,this.$el.find("#"+t).append(new n(this.vidSrc,t)),this.videoInput=this.$el.find("#"+t+" >.motion-edit"),this.videoInput.change(function(){var e=this.files[0];i.playSelectedFile(e),i.changed=!0})},t.prototype.confirm=function(e){console.log("[Motion] confirm"),this.changed===!0&&(console.log(this.changed),this.vidSrc=this.$el.find("#"+this.elementId+" .motion-edit").val(),bean.fire(this,"video-changed",e),this.changed=!1),this.endEdit()},t.prototype.endEdit=function(){console.log("[Motion] endEdit"),this.$el.find("#"+this.elementId+" > .motion-edit").remove()},t}()},{"./MotionEdit":18}],18:[function(e,t){t.exports=function(){function e(e){console.log("[MotionEdit] constructor");var t=$("#motion-edit-template").text(),i=Handlebars.compile(t),n={};n.vidSrc=e;var o=i(n);return $(o)}return e}()},{}],19:[function(e,t){t.exports=function(){function t(e){console.log("[Picture] constructor"),i=this,this.changed=!1,this.imgSrc=e,this.imgSrc||(this.imgSrc=""),window.File&&window.FileReader&&window.FileList&&window.Blob&&console.log("Full file support")}var i,n=e("./PictureEdit");return t.prototype.createPicture=function(){console.log("[Picture] creatPicture");var e=$("#picture-template").text(),t=Handlebars.compile(e),i={};if(this.imgSrc){i.imgSrc="statics/"+this.imgSrc+".png";var n=t(i);return $(n)}},t.prototype.edit=function(e,t){console.log("[Picture] edit"),this.$el=e,this.elementId=t;var o=new n(this.$el,this.imgSrc,t);this.$el.find("#"+t).append(o),this.imgInputs=this.$el.find("#"+t+" >.input-picture"),this.imgInputs.change(function(){var e=this.files[0];i.createThumb(e),i.changed=!0})},t.prototype.createThumb=function(e){console.log("[Picture] createThumb");var t=new FileReader;t.onload=function(e){console.log("loaded");var t=i.$el.find("#"+i.elementId+" >.picture .image-preview");t.attr("src",e.target.result),i.confirm(e.target.result)},t.readAsDataURL(e)},t.prototype.confirm=function(e){console.log("[Picture] confirm"),this.imgSrc=this.$el.find("#"+this.elementId+" .input-picture").val(),this.changed===!0&&(bean.fire(this,"image-changed",e),i.changed=!1),this.endEdit()},t.prototype.endEdit=function(){console.log("[Picture] endEdit"),this.$el.find("#"+this.elementId+" > .input-picture").remove()},t}()},{"./PictureEdit":20}],20:[function(e,t){t.exports=function(){function e(e,t){console.log("[PictureEdit] constructor"),this.$el=e;var i=$("#picture-edit-template").text(),n=Handlebars.compile(i),o={};o.txt=t;var s=n(o);return $(s)}return e}()},{}],21:[function(e,t){t.exports=function(){function t(e){console.log("[Postit] constructor"),this.txt=e,this.changed=!0,this.txt||(this.txt="Nieuwe Postit")}var i=e("./PostitEdit");return t.prototype.createPostit=function(){console.log("[Postit] createPostit");var e=$("#postit-template").text(),t=Handlebars.compile(e),i={};i.txt=this.txt;var n=t(i);return $(n)},t.prototype.edit=function(e,t){console.log("[Postit] edit"),this.$el=e,this.elementId=t,this.$el.find("#"+t+" > .postit > p").toggleClass("hidden"),this.$el.find("#"+t).append(new i(this.txt))},t.prototype.confirm=function(){console.log("[Postit] confirm"),this.txt=this.$el.find("#"+this.elementId+" .postit-edit").val(),this.endEdit()},t.prototype.endEdit=function(){console.log("[Postit] endEdit"),this.$el.find("#"+this.elementId+" > .postit > p").addClass("hidden").text(this.txt),this.$el.find("#"+this.elementId+" > .postit-edit").remove(),this.$el.find("#"+this.elementId+" > .postit > p").toggleClass("hidden")},t}()},{"./PostitEdit":22}],22:[function(e,t){t.exports=function(){function e(e){console.log("[PostitEdit] constructor");var t=$("#postit-edit-template").text(),i=Handlebars.compile(t),n={};n.txt=e;var o=i(n);return $(o)}return e}()},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9zcmMvc2NyaXB0LmpzIiwianMvc3JjL2NsYXNzZXMvQXBwLmpzIiwianMvc3JjL2NsYXNzZXMvRGF0YUhhbmRsZXIuanMiLCJqcy9zcmMvY2xhc3Nlcy9FZGl0TWVudS5qcyIsImpzL3NyYy9jbGFzc2VzL0VsZW1lbnQuanMiLCJqcy9zcmMvY2xhc3Nlcy9FbGVtZW50UGlja2VyLmpzIiwianMvc3JjL2NsYXNzZXMvT3ZlcnZpZXcuanMiLCJqcy9zcmMvY2xhc3Nlcy9PdmVydmlld0VsZW1lbnQuanMiLCJqcy9zcmMvY2xhc3Nlcy9PdmVydmlld0hhbmRsZXIuanMiLCJqcy9zcmMvY2xhc3Nlcy9QYXJ0aWNpcGFudC5qcyIsImpzL3NyYy9jbGFzc2VzL1Byb2ZpbGUuanMiLCJqcy9zcmMvY2xhc3Nlcy9UYWdzLmpzIiwianMvc3JjL2NsYXNzZXMvVXNlckhhbmRsZXIuanMiLCJqcy9zcmMvY2xhc3Nlcy9XaGl0ZWJvYXJkLmpzIiwianMvc3JjL2NsYXNzZXMvV2hpdGVib2FyZFNldHRpbmdzLmpzIiwianMvc3JjL2NsYXNzZXMvV2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5qcyIsImpzL3NyYy9jbGFzc2VzL2VsZW1lbnRzL01vdGlvbi5qcyIsImpzL3NyYy9jbGFzc2VzL2VsZW1lbnRzL01vdGlvbkVkaXQuanMiLCJqcy9zcmMvY2xhc3Nlcy9lbGVtZW50cy9QaWN0dXJlLmpzIiwianMvc3JjL2NsYXNzZXMvZWxlbWVudHMvUGljdHVyZUVkaXQuanMiLCJqcy9zcmMvY2xhc3Nlcy9lbGVtZW50cy9Qb3N0aXQuanMiLCJqcy9zcmMvY2xhc3Nlcy9lbGVtZW50cy9Qb3N0aXRFZGl0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLENBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsa0JBQUEsVUFBQSxPQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsT0FBQSx1QkFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEtBQUEsbUJBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLFdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLFFBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsa0JBQUEsVUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsS0FBQSxHQUFBLFNBQUEsSUNBQSxXQU1BLFFBQUEsS0FDQSxLQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsY0FBQSxLQUFBLE1BQ0EsS0FBQSxRQUFBLEdBQUEsR0FBQSxFQUFBLGFBQ0EsS0FBQSxHQUFBLEtBQUEsUUFBQSxVQUFBLEVBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxLQUFBLFNBQUEsaUJBQUEsRUFBQSxLQUFBLE9BR0EsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLDJCQUNBLEtBQUEsVUFBQSxFQUdBLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSwwQkFDQSxFQUFBLGNBQUEsS0FBQSxJQUNBLG1CQUFBLE1BQUEsWUFDQSxLQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsY0FBQSxLQUFBLFVBQUEsSUFHQSxLQUFBLFNBREEsbUJBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsSUFFQSxHQUFBLEdBQUEsRUFBQSxlQXhCQSxHQUFBLEdBQUEsRUFBQSxxQkFDQSxFQUFBLEVBQUEsaUJBQ0EsRUFBQSxFQUFBLHFCQUNBLE1BQUEsUUF5QkEsNEZDN0JBLEVBQUEsUUFBQSxXQVFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEscUJBQ0EsS0FBQSxJQUFBLEVBQ0EsS0FBQSxhQUFBLEVBQUEsR0FDQSxLQUFBLE9BQUEsRUFDQSxLQUFBLE1BQUEsUUFBQSxFQUFBLFVBQUEsS0FBQSxRQUNBLEtBQUEsVUFBQSxFQUNBLEtBQUEsT0FBQSxVQUFBLFVBQUEsVUFDQSxLQUFBLEVBQUEsRUFDQSxLQUFBLGVBRUEsS0FBQSxZQUNBLEtBQUEsWUFBQSxHQUFBLEdBQ0EsS0FBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxVQUFBLEtBQUEsTUFBQSxHQUNBLEtBQUEsY0FBQSxHQUFBLEdBQUEsS0FBQSxLQUVBLEtBQUEsR0FBQSxLQUFBLFlBQUEsZUFBQSxLQUFBLGlCQUFBLEtBQUEsT0FDQSxLQUFBLEdBQUEsS0FBQSxXQUFBLHFCQUFBLEtBQUEseUJBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxLQUFBLGNBQUEseUJBQUEsS0FBQSw0QkFBQSxLQUFBLE9BQ0EsS0FBQSxJQUFBLEtBQUEsaUJBQUEsR0FBQSxRQUFBLEtBQUEsYUFBQSxLQUFBLE9BRUEsS0FBQSxhQTFCQSxHQUFBLEdBQUEsRUFBQSxnQkFDQSxFQUFBLEVBQUEsbUJBQ0EsRUFBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLGdCQXlHQSxPQTlFQSxHQUFBLFVBQUEsYUFBQSxXQUFBLFFBQUEsSUFBQSxxQ0FDQSxFQUFBLGNBQUEsS0FBQSxHQUNBLElBQUEsR0FBQSxFQUFBLGFBQ0EsSUFBQSxHQUFBLEVBQUEsY0FBQSxLQUFBLFNBSUEsRUFBQSxVQUFBLHlCQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsa0NBQ0EsS0FBQSxjQUFBLGdCQUNBLEtBQUEsY0FBQSxZQUFBLEVBQUEsS0FBQSxFQUFBLE1BQ0EsS0FBQSxTQUFBLEdBR0EsRUFBQSxVQUFBLDRCQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEscUNBQ0EsS0FBQSxjQUFBLGVBQ0EsSUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLFNBQ0EsTUFBQSxXQUFBLEVBQUEsRUFBQSxXQUNBLEtBQUEsR0FBQSxFQUFBLG1CQUFBLEtBQUEsdUJBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxFQUFBLGdCQUFBLEtBQUEsb0JBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxFQUFBLGdCQUFBLEtBQUEsb0JBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxFQUFBLGlCQUFBLEtBQUEsY0FBQSxLQUFBLE9BQ0EsS0FBQSxHQUFBLEVBQUEsZUFBQSxLQUFBLFlBQUEsS0FBQSxRQUdBLEVBQUEsVUFBQSxXQUFBLFdBQUEsUUFBQSxJQUFBLG1CQUNBLEtBQUEsR0FBQSxLQUFBLE1BQUEsTUFDQSxLQUFBLFlBQUEsa0JBQUEsS0FBQSxNQUFBLEdBQUEsS0FBQSxlQUlBLEVBQUEsVUFBQSxpQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLDBCQUNBLEtBQUEsV0FBQSxJQUdBLEVBQUEsVUFBQSxXQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsbUJBQ0EsSUFBQSxHQUFBLENBQ0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsUUFDQSxJQUNBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxLQUNBLElBQUEsR0FBQSxFQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLFFBQ0EsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxNQUFBLFNBQUEsSUFDQSxLQUFBLEdBQUEsRUFBQSxpQkFBQSxLQUFBLGNBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxFQUFBLGVBQUEsS0FBQSxZQUFBLEtBQUEsT0FDQSxLQUFBLEdBQUEsRUFBQSxtQkFBQSxLQUFBLHVCQUFBLEtBQUEsT0FDQSxLQUFBLEdBQUEsRUFBQSxnQkFBQSxLQUFBLG9CQUFBLEtBQUEsT0FDQSxLQUFBLEdBQUEsRUFBQSxnQkFBQSxLQUFBLG9CQUFBLEtBQUEsVUFLQSxFQUFBLFVBQUEsb0JBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSw2QkFDQSxLQUFBLFlBQUEsWUFBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxLQUFBLGVBR0EsRUFBQSxVQUFBLG9CQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsNkJBQ0EsS0FBQSxZQUFBLFlBQUEsRUFBQSxZQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsS0FBQSxlQUdBLEVBQUEsVUFBQSxZQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEscUJBQ0EsS0FBQSxZQUFBLFlBQUEsRUFBQSxZQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsS0FBQSxlQUdBLEVBQUEsVUFBQSxjQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsdUJBQ0EsS0FBQSxZQUFBLG1CQUFBLEVBQUEsWUFBQSxFQUFBLFVBQUEsS0FBQSxlQUdBLEVBQUEsVUFBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSwyQkFDQSxLQUFBLFlBQUEsZ0JBQUEsRUFBQSxFQUFBLEtBQUEsU0FBQSxLQUFBLGVBR0EsRUFBQSxVQUFBLHVCQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsZ0NBQ0EsS0FBQSxZQUFBLGVBQUEsRUFBQSxZQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsSUFBQSxRQUFBLEVBQUEsUUFBQSxJQUFBLE9BQUEsS0FBQSxlQUVBLCtHQzlHQSxFQUFBLFFBQUEsV0FFQSxRQUFBLEtBQUEsUUFBQSxJQUFBLDZCQUNBLEtBQUEsSUFBQSwrQ0FDQSxFQUFBLEtBQ0EsS0FBQSxhQUpBLEdBQUEsRUF3SkEsT0FqSkEsR0FBQSxVQUFBLGFBQUEsU0FBQSxHQUNBLE1BREEsU0FBQSxJQUFBLDhCQUNBLEVBQUEsTUFDQSxLQUFBLE1BQ0EsSUFBQSxLQUFBLElBQUEsVUFBQSxFQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLEtBQUEsS0FBQSxFQUFBLGNBQUEsUUFLQSxFQUFBLFVBQUEsa0JBQUEsU0FBQSxFQUFBLEdBQ0EsTUFEQSxTQUFBLElBQUEsbUNBQ0EsRUFBQSxNQUNBLEtBQUEsTUFDQSxJQUFBLEtBQUEsSUFBQSxFQUFBLElBQUEsT0FBQSxHQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLEtBQUEsS0FBQSxFQUFBLGdCQUFBLFFBS0EsRUFBQSxVQUFBLG1CQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsT0FEQSxRQUFBLElBQUEsb0NBQ0EsR0FDQSxJQUFBLFVBQ0EsS0FBQSxrQkFBQSxVQUFBLEVBQUEsRUFDQSxNQUNBLEtBQUEsU0FDQSxLQUFBLGtCQUFBLFVBQUEsRUFBQSxFQUNBLE1BQ0EsS0FBQSxTQUNBLEtBQUEsa0JBQUEsU0FBQSxFQUFBLEtBS0EsRUFBQSxVQUFBLGtCQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLEtBQUEsSUFBQSxFQUFBLFdBQ0EsTUFBQSxZQUFBLEVBQUEsY0FBQSxHQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxhQUFBLE9BS0EsRUFBQSxVQUFBLGdCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxPQURBLFFBQUEsSUFBQSxpQ0FDQSxHQUNBLElBQUEsVUFDQSxLQUFBLFdBQUEsVUFBQSxFQUFBLEVBQUEsRUFDQSxNQUNBLEtBQUEsU0FDQSxLQUFBLFdBQUEsVUFBQSxFQUFBLEVBQUEsRUFDQSxNQUNBLEtBQUEsU0FBQSxRQUFBLElBQUEsVUFBQSxHQUNBLEtBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxLQUtBLEVBQUEsVUFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsY0FDQSxFQUFBLE1BQ0EsS0FBQSxPQUNBLElBQUEsS0FBQSxJQUFBLEVBQUEsT0FDQSxNQUFBLFlBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxhQUFBLEdBQ0EsUUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLFdBQUEsSUFFQSxNQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsU0FDQSxRQUFBLElBQUEsT0FLQSxFQUFBLFVBQUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxPQURBLFFBQUEsSUFBQSxpQ0FDQSxHQUNBLElBQUEsVUFDQSxLQUFBLFlBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLE1BQ0EsS0FBQSxTQUNBLEtBQUEsWUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLFNBQ0EsS0FBQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsS0FLQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLE1BQ0EsS0FBQSxPQUNBLElBQUEsS0FBQSxJQUFBLEVBQUEsbUJBQ0EsTUFBQSxjQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQ0EsUUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLFdBQUEsSUFFQSxNQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsU0FDQSxRQUFBLElBQUEsT0FLQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsT0FEQSxRQUFBLElBQUEsNkJBQ0EsR0FDQSxJQUFBLFVBQ0EsS0FBQSxXQUFBLFVBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLFNBQ0EsS0FBQSxXQUFBLFVBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLFNBQ0EsS0FBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEtBS0EsRUFBQSxVQUFBLFdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFDQSxLQUFBLE9BQ0EsSUFBQSxLQUFBLElBQUEsRUFBQSxrQkFDQSxNQUFBLGNBQUEsRUFBQSxZQUFBLEVBQUEsUUFBQSxHQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxXQUFBLElBRUEsTUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLFNBQ0EsUUFBQSxJQUFBLE9BS0EsRUFBQSxVQUFBLGFBQUEsV0FBQSxRQUFBLElBQUEsOEJBQ0EsRUFBQSxNQUNBLEtBQUEsTUFDQSxJQUFBLEtBQUEsSUFBQSxVQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLEtBQUEsY0FBQSxLQUFBLElBQ0EsS0FBQSxTQUlBLDJCQ3pKQSxFQUFBLFFBQUEsV0FFQSxRQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSwwQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLFVBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSx1QkFBQSxPQUNBLEVBQUEsV0FBQSxRQUFBLEdBQ0EsR0FDQSxVQUNBLFNBQUEsU0FBQSxLQUFBLGFBQ0EsU0FBQSxPQUFBLEtBQUEsYUFDQSxTQUFBLFNBQUEsS0FBQSxnQkFHQSxZQUFBLGVBQUEsV0FBQSxXQUNBLEdBQUEsR0FBQSxXQUFBLGlCQUFBLEtBQUEsVUFDQSxFQUFBLFdBQUEsaUJBQUEsS0FBQSxLQUVBLE9BQUEsSUFBQSxZQUFBLFdBQ0EsVUFBQSxFQUFBLElBQUEsRUFBQSxVQUlBLElBQUEsR0FBQSxFQUFBLEVBQ0EsTUFBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQUEsT0FBQSxHQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLFFBQUEsWUFBQSxVQUNBLEtBQUEsZUFDQSxLQUFBLGdCQTBCQSxNQXZCQSxHQUFBLFVBQUEsY0FBQSxXQUFBLFFBQUEsSUFBQSw0QkFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsVUFBQSxRQUFBLFlBQUEsVUFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsVUFBQSxlQUFBLFlBQUEsV0FHQSxFQUFBLFVBQUEsYUFBQSxXQUFBLFFBQUEsSUFBQSwyQkFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsVUFBQSxRQUFBLEdBQUEsUUFBQSxLQUFBLGFBQUEsS0FBQSxPQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLE9BQUEsR0FBQSxRQUFBLEtBQUEsYUFBQSxLQUFBLFFBR0EsRUFBQSxVQUFBLGFBQUEsU0FBQSxHQUNBLEdBREEsUUFBQSxJQUFBLDJCQUNBLGVBQUEsRUFBQSxPQUFBLFVBQ0EsS0FBQSxLQUFBLEtBQUEsZ0JBQ0EsS0FBQSxvQkFDQSxDQUNBLEdBQUEsS0FDQSxHQUFBLFNBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxVQUFBLEtBQUEsVUFDQSxLQUFBLEtBQUEsS0FBQSxpQkFBQSxLQUtBLDJCQ3JEQSxFQUFBLFFBQUEsV0FRQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSx5QkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLFFBQUEsRUFDQSxLQUFBLFlBQUEsRUFDQSxLQUFBLFVBQUEsRUFFQSxLQUFBLFVBREEsS0FBQSxVQUNBLEVBRUEsS0FBQSxlQUVBLEtBQUEsU0FBQSxFQUNBLEtBQUEsc0JBakJBLEdBQUEsR0FBQSxFQUFBLGNBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxxQkFDQSxFQUFBLEVBQUEsc0JBQ0EsRUFBQSxFQUFBLG9CQTBMQSxPQTFLQSxHQUFBLFVBQUEsb0JBQUEsV0FBQSxRQUFBLElBQUEsaUNBQ0EsS0FBQSxJQUFBLEtBQUEsZUFBQSxPQUFBLDhDQUNBLEtBQUEsSUFBQSxLQUFBLGdDQUFBLEtBQUEsS0FBQSxLQUFBLFVBQ0EsSUFBQSxLQUNBLEdBQUEsSUFBQSxLQUFBLFNBQUEsS0FDQSxFQUFBLEtBQUEsS0FBQSxTQUFBLEtBQ0EsRUFBQSxPQUFBLEVBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQUEsSUFBQSxHQUNBLEtBQUEsaUJBQ0EsS0FBQSxZQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxZQUNBLEtBQUEsaUJBR0EsRUFBQSxVQUFBLGNBQUEsV0FDQSxPQURBLFFBQUEsSUFBQSwyQkFDQSxLQUFBLGFBQ0EsSUFBQSxVQUNBLEtBQUEsUUFBQSxHQUFBLEdBQUEsS0FBQSxTQUNBLEtBQUEsUUFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxPQUFBLEtBQUEsUUFBQSxpQkFFQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxPQUFBLEtBQUEsUUFBQSxnQkFDQSxLQUFBLFFBQUEsS0FBQSxLQUFBLElBQUEsS0FBQSxXQUNBLEtBQUEsU0FBQSxpQkFFQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxPQUFBLEtBQUEsUUFBQSxhQUNBLE1BQ0EsS0FBQSxTQUNBLEtBQUEsUUFBQSxHQUFBLEdBQUEsS0FBQSxRQUFBLEtBQUEsV0FDQSxLQUFBLFNBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQUEsT0FBQSxLQUFBLFFBQUEsaUJBQ0EsS0FBQSxHQUFBLEtBQUEsUUFBQSxnQkFBQSxLQUFBLG9CQUFBLEtBQUEsU0FFQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsV0FBQSxPQUFBLEtBQUEsUUFBQSxpQkFDQSxLQUFBLFFBQUEsS0FBQSxLQUFBLElBQUEsS0FBQSxXQUNBLEtBQUEsR0FBQSxLQUFBLFFBQUEsZ0JBQUEsS0FBQSxvQkFBQSxLQUFBLE9BQ0EsS0FBQSxTQUFBLGdCQUVBLE1BQ0EsS0FBQSxTQUNBLEtBQUEsUUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsUUFBQSxLQUFBLFdBQ0EsS0FBQSxTQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUFBLE9BQUEsS0FBQSxRQUFBLGdCQUNBLEtBQUEsR0FBQSxLQUFBLFFBQUEsZ0JBQUEsS0FBQSxvQkFBQSxLQUFBLFNBRUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQUEsT0FBQSxLQUFBLFFBQUEsZ0JBQ0EsS0FBQSxRQUFBLEtBQUEsS0FBQSxJQUFBLEtBQUEsV0FDQSxLQUFBLEdBQUEsS0FBQSxRQUFBLGdCQUFBLEtBQUEsb0JBQUEsS0FBQSxPQUNBLEtBQUEsU0FBQSxpQkFFQSxLQUFBLFlBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLGNBS0EsRUFBQSxVQUFBLFlBQUEsV0FBQSxRQUFBLElBQUEseUJBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQUEsR0FBQSxZQUFBLEtBQUEsaUJBQUEsS0FBQSxPQUNBLEtBQUEsV0FBQSxHQUdBLEVBQUEsVUFBQSxvQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLGdDQUNBLElBQUEsS0FDQSxHQUFBLFFBQUEsRUFDQSxFQUFBLFVBQUEsS0FBQSxVQUNBLEVBQUEsWUFBQSxLQUFBLFlBQ0EsS0FBQSxLQUFBLEtBQUEsZ0JBQUEsR0FDQSxLQUFBLFNBQUEsaUJBR0EsRUFBQSxVQUFBLG9CQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsZ0NBQ0EsSUFBQSxLQUNBLEdBQUEsUUFBQSxFQUNBLEVBQUEsVUFBQSxLQUFBLFVBQ0EsRUFBQSxZQUFBLEtBQUEsWUFDQSxLQUFBLEtBQUEsS0FBQSxnQkFBQSxHQUNBLEtBQUEsU0FBQSxpQkFHQSxFQUFBLFVBQUEsaUJBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSw4QkFDQSxFQUFBLE9BQUEsS0FBQSxLQUFBLFlBQ0EsS0FBQSxXQUFBLEVBQ0EsS0FBQSxZQUFBLEVBQUEsRUFBQSxRQUFBLElBQUEsUUFDQSxLQUFBLFdBQUEsRUFBQSxFQUFBLFFBQUEsSUFBQSxPQUNBLEtBQUEsa0JBQUEsS0FBQSxpQkFBQSxLQUFBLE1BQ0EsS0FBQSxnQkFBQSxLQUFBLGVBQUEsS0FBQSxNQUNBLEtBQUEsUUFBQSxFQUFBLFFBQ0EsS0FBQSxRQUFBLEVBQUEsVUFDQSxFQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUFBLElBQUEsU0FBQSxHQUNBLFNBQUEsS0FBQSxpQkFBQSxZQUFBLEtBQUEsbUJBQ0EsU0FBQSxLQUFBLGlCQUFBLFVBQUEsS0FBQSxtQkFJQSxFQUFBLFVBQUEsZUFBQSxXQUFBLFFBQUEsSUFBQSw0QkFDQSxLQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLFdBQ0EsS0FBQSxHQUFBLEtBQUEsU0FBQSxlQUFBLEtBQUEsbUJBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxLQUFBLFNBQUEsaUJBQUEsS0FBQSxxQkFBQSxLQUFBLFFBR0EsRUFBQSxVQUFBLG1CQUFBLFdBQUEsUUFBQSxJQUFBLGdDQUNBLEtBQUEsUUFBQSxLQUFBLEtBQUEsSUFBQSxLQUFBLFlBR0EsRUFBQSxVQUFBLHFCQUFBLFNBQUEsR0FDQSxPQURBLFFBQUEsSUFBQSxrQ0FDQSxFQUFBLFVBQ0EsSUFBQSxTQUFBLFFBQUEsSUFBQSxVQUNBLEtBQUEsU0FBQSxnQkFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsV0FBQSxRQUNBLElBQUEsS0FDQSxHQUFBLFVBQUEsS0FBQSxVQUNBLEVBQUEsWUFBQSxLQUFBLFlBQ0EsS0FBQSxLQUFBLEtBQUEsaUJBQUEsR0FDQSxRQUFBLElBQUEsRUFDQSxNQUNBLEtBQUEsT0FDQSxLQUFBLFFBQUEsVUFDQSxLQUFBLFNBQUEsZ0JBQ0EsS0FBQSxRQUFBLFdBQUEsSUFDQSxLQUNBLEVBQUEsWUFBQSxLQUFBLFlBQ0EsRUFBQSxVQUFBLEtBQUEsVUFDQSxFQUFBLFFBQUEsS0FBQSxRQUFBLElBQ0EsS0FBQSxLQUFBLEtBQUEsZUFBQSxHQUVBLE1BQ0EsS0FBQSxTQUNBLEtBQUEsUUFBQSxVQUNBLEtBQUEsU0FBQSxrQkFLQSxFQUFBLFVBQUEsaUJBQUEsU0FBQSxHQUNBLEdBREEsUUFBQSxJQUFBLDhCQUNBLEtBQUEsYUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLFNBQUEsRUFBQSxTQUNBLEVBQUEsU0FBQSxFQUFBLFFBQ0EsTUFBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFdBQUEsSUFBQSxPQUFBLEVBQUEsS0FBQSxTQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxXQUFBLElBQUEsTUFBQSxFQUFBLEtBQUEsV0FJQSxFQUFBLFVBQUEsZUFBQSxTQUFBLEdBS0EsR0FMQSxRQUFBLElBQUEsNEJBQ0EsS0FBQSxXQUFBLEVBQ0EsU0FBQSxLQUFBLG9CQUFBLFlBQUEsS0FBQSxtQkFDQSxTQUFBLEtBQUEsb0JBQUEsVUFBQSxLQUFBLGlCQUVBLEtBQUEsYUFBQSxFQUFBLEVBQUEsUUFBQSxJQUFBLFFBQUEsS0FBQSxjQUFBLEVBQUEsRUFBQSxRQUFBLElBQUEsUUFBQSxDQUNBLEdBQUEsS0FDQSxHQUFBLFFBQUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxZQUFBLEtBQUEsWUFDQSxFQUFBLFVBQUEsS0FBQSxVQUNBLEtBQUEsS0FBQSxLQUFBLG1CQUFBLEtBSUEsRUFBQSxVQUFBLGFBQUEsV0FBQSxRQUFBLElBQUEseUJBQ0EsSUFBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLGtCQUNBLElBQUEsRUFBQSxPQUFBLEVBQUEsQ0FDQSxHQUFBLE1BQ0EsRUFBQSxDQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUdBLE9BREEsR0FBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxJQUNBLE9BQUEsT0FBQSxFQUFBLElBQUEsR0FFQSxNQUFBLEtBSUEsK0dDaE1BLEVBQUEsUUFBQSxXQUVBLFFBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSwrQkFDQSxLQUFBLElBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSw0QkFBQSxPQUNBLEVBQUEsV0FBQSxRQUFBLEdBQ0EsR0FDQSxXQUNBLFFBQUEsVUFBQSxLQUFBLFlBQ0EsUUFBQSxTQUFBLEtBQUEsVUFDQSxRQUFBLFNBQUEsS0FBQSxVQUdBLFlBQUEsZUFBQSxTQUFBLFdBQ0EsR0FBQSxHQUFBLFdBQUEsaUJBQUEsS0FBQSxTQUNBLEVBQUEsV0FBQSxpQkFBQSxLQUFBLEtBRUEsT0FBQSxJQUFBLFlBQUEsV0FDQSxVQUFBLEVBQUEsSUFBQSxFQUFBLFVBSUEsSUFBQSxHQUFBLEVBQUEsRUFDQSxNQUFBLElBQUEsS0FBQSxlQUFBLE9BQUEsRUFBQSxJQUNBLEtBQUEsZ0JBQ0EsS0FBQSxjQXVCQSxNQXBCQSxHQUFBLFVBQUEsY0FBQSxXQUFBLFFBQUEsSUFBQSxpQ0FDQSxLQUFBLElBQUEsS0FBQSxtQkFBQSxZQUFBLFdBR0EsRUFBQSxVQUFBLFlBQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLDhCQUNBLElBQUEsSUFDQSxJQUFBLEVBQ0EsS0FBQSxFQUVBLE1BQUEsSUFBQSxLQUFBLG1CQUFBLElBQUEsSUFHQSxFQUFBLFVBQUEsWUFBQSxXQUFBLFFBQUEsSUFBQSwrQkFDQSxLQUFBLElBQUEsS0FBQSw2QkFBQSxHQUFBLFFBQUEsS0FBQSxhQUFBLEtBQUEsUUFHQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLGdDQUNBLEtBQUEsS0FBQSxLQUFBLHlCQUFBLEVBQUEsT0FBQSxLQUdBLDJCQ2hEQSxFQUFBLFFBQUEsV0FLQSxRQUFBLEdBQUEsRUFBQSxHQUlBLEdBSkEsUUFBQSxJQUFBLDBCQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsZ0JBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLDBCQUFBLE1BQ0EsR0FBQSxjQUFBLE9BQUEsR0FDQSxFQUFBLEtBQUEsYUFBQSxHQUFBLFFBQUEsS0FBQSxTQUFBLEtBQUEsT0FDQSxFQUFBLEtBQUEsYUFBQSxHQUFBLFFBQUEsS0FBQSxTQUFBLEtBQUEsT0FDQSxFQUFBLEtBQUEsY0FBQSxHQUFBLFFBQUEsS0FBQSxVQUFBLEtBQUEsT0FHQSxLQUFBLElBQUEsS0FBQSxXQUFBLEdBQUEsUUFBQSxLQUFBLGtCQUFBLEtBQUEsT0FDQSxLQUFBLElBQUEsS0FBQSxhQUFBLEdBQUEsUUFBQSxLQUFBLG9CQUFBLEtBQUEsT0FFQSxLQUFBLEdBQUEsS0FBQSxnQkFBQSxlQUFBLEtBQUEsZUFBQSxLQUFBLE9BQ0EsS0FBQSxHQUFBLEtBQUEsZ0JBQUEsa0JBQUEsS0FBQSxlQUFBLEtBQUEsT0FDQSxLQUFBLGdCQUFBLGVBckJBLEdBQUEsR0FBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLHFCQUNBLEVBQUEsRUFBQSxvQkF5R0EsT0FwRkEsR0FBQSxVQUFBLG9CQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsa0NBQ0EsRUFBQSxPQUFBLE1BQ0EsS0FBQSxnQkFBQSxvQkFBQSxFQUFBLE9BQUEsTUFBQSxLQUFBLE1BRUEsS0FBQSxnQkFBQSxlQUlBLEVBQUEsVUFBQSxrQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLCtCQUNBLEVBQUEsT0FBQSxNQUNBLEtBQUEsZ0JBQUEsWUFBQSxFQUFBLE9BQUEsT0FFQSxLQUFBLGdCQUFBLGdCQUlBLEVBQUEsVUFBQSxlQUFBLFNBQUEsR0FLQSxJQUxBLFFBQUEsSUFBQSw2QkFDQSxLQUFBLGFBQ0EsRUFBQSxrQkFBQSxTQUNBLEtBQUEsVUFBQSxLQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxVQUFBLEdBQUEsT0FBQSxJQUNBLEtBQUEsZ0JBQUEsR0FBQSxHQUFBLEtBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxNQUNBLEtBQUEsR0FBQSxLQUFBLGdCQUFBLG9CQUFBLEtBQUEsaUJBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxLQUFBLGdCQUFBLGtCQUFBLEtBQUEsZUFBQSxLQUFBLFFBSUEsRUFBQSxVQUFBLGVBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSw2QkFDQSxLQUFBLEtBQUEsS0FBQSxpQkFBQSxHQUNBLFFBQUEsSUFBQSxHQUNBLEVBQUEsY0FBQSxLQUFBLElBQ0EsR0FBQSxHQUFBLEVBQUEsY0FBQSxFQUFBLEtBQUEsTUFDQSxLQUFBLEtBQUEsS0FBQSxpQkFBQSxJQUdBLEVBQUEsVUFBQSxTQUFBLFdBQUEsUUFBQSxJQUFBLHVCQUNBLEtBQUEsTUFDQSxLQUFBLGdCQUFBLGNBQUEsV0FBQSxLQUFBLE9BSUEsRUFBQSxVQUFBLGlCQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsK0JBQ0EsS0FBQSxnQkFBQSxZQUFBLEdBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxHQUFBLFVBR0EsRUFBQSxVQUFBLFNBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSx1QkFDQSxLQUFBLGdCQUFBLFlBQUEsS0FBQSxNQUNBLFFBQUEsSUFBQSxLQUFBLE1BQ0EsS0FBQSxjQUFBLEdBQ0EsS0FBQSxJQUFBLEtBQUEsY0FBQSxZQUFBLFlBQ0EsS0FBQSxJQUFBLEtBQUEsYUFBQSxZQUFBLFVBQ0EsS0FBQSxJQUFBLEtBQUEsV0FBQSxTQUFBLFdBR0EsRUFBQSxVQUFBLFVBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSx3QkFDQSxLQUFBLGdCQUFBLGVBQ0EsS0FBQSxjQUFBLEdBQ0EsS0FBQSxJQUFBLEtBQUEsYUFBQSxZQUFBLFlBQ0EsS0FBQSxJQUFBLEtBQUEsV0FBQSxZQUFBLFVBQ0EsS0FBQSxJQUFBLEtBQUEsYUFBQSxTQUFBLFdBR0EsRUFBQSxVQUFBLGNBQUEsU0FBQSxHQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsRUFBQSxPQUFBLFVBQUEsSUFBQSxTQUFBLGFBR0EsRUFBQSxVQUFBLG9CQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsa0NBQ0EsRUFBQSxPQUFBLE1BQ0EsS0FBQSxnQkFBQSxjQUFBLEVBQUEsT0FBQSxNQUFBLEtBQUEsTUFFQSxLQUFBLGdCQUFBLFlBQUEsS0FBQSxPQUlBLEVBQUEsVUFBQSxrQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLCtCQUNBLEVBQUEsT0FBQSxNQUNBLEtBQUEsZ0JBQUEsWUFBQSxFQUFBLE9BQUEsT0FFQSxLQUFBLGdCQUFBLGdCQUlBLGdGQzVHQSxFQUFBLFFBQUEsV0FHQSxRQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxpQ0FDQSxLQUFBLE1BQUEsRUFDQSxLQUFBLFFBQUEsRUFBQSxHQUNBLEtBQUEsT0FBQSxFQUNBLEtBQUEsb0JBQUEsR0FOQSxFQUFBLFFBd0NBLE9BL0JBLEdBQUEsVUFBQSxvQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLHdDQUNBLElBQUEsR0FBQSxFQUFBLDJCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUNBLEdBQUEsTUFBQSxFQUFBLE1BQ0EsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsVUFDQSxFQUFBLGNBQUEsRUFBQSxhQUNBLElBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxjQUFBLE9BQUEsRUFBQSxJQUNBLEtBQUEsWUFBQSxFQUFBLEVBQUEsR0FBQSxLQUdBLEVBQUEsVUFBQSxZQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsaUNBQ0EsRUFBQSxTQUFBLEtBQUEsU0FDQSxFQUFBLElBQUEsRUFBQSxHQUFBLGNBQUEsWUFBQSxVQUNBLEVBQUEsSUFBQSxFQUFBLEdBQUEsY0FBQSxHQUFBLFFBQUEsS0FBQSxjQUFBLEtBQUEsUUFFQSxFQUFBLElBQUEsRUFBQSxHQUFBLFlBQUEsR0FBQSxRQUFBLEtBQUEsWUFBQSxLQUFBLFFBR0EsRUFBQSxVQUFBLGNBQUEsV0FBQSxRQUFBLElBQUEsbUNBQ0EsS0FBQSxLQUFBLEtBQUEsb0JBQUEsS0FBQSxVQUdBLEVBQUEsVUFBQSxZQUFBLFdBQUEsUUFBQSxJQUFBLGlDQUNBLEtBQUEsS0FBQSxLQUFBLGtCQUFBLEtBQUEsUUFLQSxvQ0N6Q0EsRUFBQSxRQUFBLFdBQ0EsUUFBQSxLQUFBLFFBQUEsSUFBQSxpQ0FDQSxLQUFBLElBQUEsK0NBMkVBLE1BeEVBLEdBQUEsVUFBQSxhQUFBLFdBQ0EsTUFEQSxTQUFBLElBQUEsa0NBQ0EsRUFBQSxNQUNBLEtBQUEsTUFDQSxJQUFBLEtBQUEsSUFBQSxVQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxvQkFBQSxJQUNBLEtBQUEsS0FBQSxLQUFBLGdCQUFBLEtBQ0EsS0FBQSxTQUlBLEVBQUEsVUFBQSxZQUFBLFNBQUEsR0FDQSxNQURBLFNBQUEsSUFBQSxpQ0FDQSxFQUFBLE1BQ0EsS0FBQSxNQUNBLElBQUEsS0FBQSxJQUFBLFVBQUEsRUFDQSxNQUFBLFFBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxLQUFBLEtBQUEsS0FBQSxnQkFBQSxLQUNBLEtBQUEsU0FJQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLGlDQUNBLEVBQUEsTUFDQSxLQUFBLE1BQ0EsSUFBQSxLQUFBLElBQUEsaUJBQUEsRUFDQSxNQUFBLFFBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsYUFBQSxPQUtBLEVBQUEsVUFBQSxjQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLEtBQUEsSUFBQSxjQUFBLEVBQUEsSUFBQSxFQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxvQkFBQSxJQUNBLEtBQUEsS0FBQSxLQUFBLG1CQUFBLEtBQ0EsS0FBQSxTQUtBLEVBQUEsVUFBQSxZQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsTUFDQSxLQUFBLE1BQ0EsSUFBQSxLQUFBLElBQUEsVUFBQSxFQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxzQkFBQSxJQUNBLEtBQUEsS0FBQSxLQUFBLGdCQUFBLEtBQ0EsS0FBQSxTQUtBLEVBQUEsVUFBQSxjQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxNQUNBLEtBQUEsTUFDQSxJQUFBLEtBQUEsSUFBQSxZQUFBLEVBQUEsSUFBQSxFQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxzQkFBQSxJQUNBLEtBQUEsS0FBQSxLQUFBLGdCQUFBLEtBQ0EsS0FBQSxTQUlBLDRCQzdFQSxFQUFBLFFBQUEsV0FFQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsNkJBQ0EsS0FBQSxJQUFBLEVBQ0EsS0FBQSxRQUFBLEVBQ0EsS0FBQSxNQUFBLEVBRUEsS0FBQSwwQkFBQSxHQUFBLEdBQ0EsS0FBQSwwQkFBQSxtQkFBQSxFQUFBLFNBQ0EsS0FBQSxHQUFBLEtBQUEsMEJBQUEsY0FBQSxLQUFBLGtCQUFBLEtBQUEsT0FSQSxHQUFBLEdBQUEsRUFBQSw4QkE4Q0EsT0FuQ0EsR0FBQSxVQUFBLGtCQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsa0NBQ0EsSUFBQSxHQUFBLEVBQUEseUJBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLEdBQUEsa0JBQ0EsSUFBQSxLQUFBLE1BQUEsQ0FDQSxXQUFBLGVBQUEsY0FBQSxXQUNBLE1BQUEsSUFBQSxZQUFBLFdBQ0EsT0FBQSxFQUFBLFlBQUEsZUFBQSxFQUFBLEdBQUEsOENBR0EsSUFBQSxHQUFBLEVBQUEsRUFDQSxNQUFBLElBQUEsS0FBQSxxQkFBQSxPQUFBLEVBQUEsSUFDQSxLQUFBLHVCQUNBLENBQ0EsV0FBQSxlQUFBLGNBQUEsV0FDQSxNQUFBLElBQUEsWUFBQSxXQUNBLE9BQUEsRUFBQSxZQUFBLFVBR0EsSUFBQSxHQUFBLEVBQUEsRUFDQSxNQUFBLElBQUEsS0FBQSxxQkFBQSxPQUFBLEVBQUEsTUFJQSxFQUFBLFVBQUEsaUJBQUEsV0FBQSxRQUFBLElBQUEsa0NBQ0EsS0FBQSxZQUFBLFNBQUEsaUJBQUEsZUFDQSxLQUFBLFlBQUEsS0FBQSxZQUFBLE9BQUEsR0FBQSxpQkFBQSxRQUFBLEtBQUEsbUJBQUEsS0FBQSxRQUdBLEVBQUEsVUFBQSxtQkFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLG9DQUNBLEtBQUEsS0FBQSxLQUFBLFNBQUEsRUFBQSxLQUFBLElBQ0EsUUFBQSxJQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsT0FBQSxJQUNBLEtBQUEsMEJBQUEsZUFBQSxLQUFBLFFBQUEsRUFBQSxPQUFBLEtBR0EsNERDL0NBLEVBQUEsUUFBQSxXQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEseUJBQ0EsS0FBQSxJQUFBLEVBQ0EsS0FBQSxRQUNBLEtBQUEsWUFBQSxHQUFBLEdBR0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxNQUFBLENBQ0EsSUFBQSxHQUFBLEVBQUEsbUJBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLEtBR0EsRUFBQSxFQUFBLEVBQ0EsR0FBQSxZQUFBLE9BQUEsRUFBQSxHQUdBLElBQUEsR0FBQSxFQUFBLHNCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxLQUdBLEVBQUEsRUFBQSxFQUNBLEdBQUEsWUFBQSxPQUFBLEVBQUEsSUFFQSxLQUFBLElBQUEsS0FBQSxvQkFBQSxHQUFBLFFBQUEsS0FBQSxTQUFBLEtBQUEsT0FDQSxFQUFBLGFBQUEsR0FBQSxRQUFBLEtBQUEsUUFBQSxLQUFBLE9BQ0EsS0FBQSxJQUFBLEtBQUEsVUFBQSxHQUFBLFFBQUEsS0FBQSxNQUFBLEtBQUEsT0FDQSxLQUFBLEdBQUEsS0FBQSxZQUFBLGFBQUEsS0FBQSxTQUFBLEtBQUEsT0E5QkEsR0FBQSxHQUFBLEVBQUEsZ0JBd0ZBLE9BdkRBLEdBQUEsVUFBQSxTQUFBLFdBQUEsUUFBQSxJQUFBLHNCQUNBLEVBQUEsYUFBQSxZQUFBLFdBR0EsRUFBQSxVQUFBLFFBQUEsV0FBQSxRQUFBLElBQUEscUJBQ0EsS0FBQSxTQUFBLEtBQUEsSUFBQSxLQUFBLGtCQUFBLE1BQ0EsS0FBQSxNQUFBLEtBQUEsSUFBQSxLQUFBLG1CQUFBLE1BQ0EsS0FBQSxTQUFBLEtBQUEsSUFBQSxLQUFBLHNCQUFBLE1BQ0EsS0FBQSxXQUFBLEtBQUEsSUFBQSxLQUFBLHdCQUFBLE1BRUEsS0FBQSxVQUFBLEtBQUEsWUFFQSxLQUFBLFlBQUEsU0FBQSxLQUFBLFNBQUEsS0FBQSxNQUFBLEtBQUEsV0FJQSxFQUFBLFVBQUEsTUFBQSxXQUFBLFFBQUEsSUFBQSxtQkFDQSxLQUFBLE1BQUEsS0FBQSxJQUFBLEtBQUEsZ0JBQUEsTUFDQSxLQUFBLFNBQUEsS0FBQSxJQUFBLEtBQUEsbUJBQUEsTUFDQSxLQUFBLFlBQUEsTUFBQSxLQUFBLE1BQUEsS0FBQSxXQUdBLEVBQUEsVUFBQSxPQUFBLFdBQUEsUUFBQSxJQUFBLG9CQUNBLEtBQUEsUUFDQSxLQUFBLGdCQUNBLEVBQUEsb0JBQUEsWUFBQSxVQUNBLEVBQUEsV0FBQSxTQUVBLEtBQUEsS0FBQSxLQUFBLFVBQUEsS0FBQSxPQUdBLEVBQUEsVUFBQSxTQUFBLFNBQUEsR0FFQSxHQUZBLFFBQUEsSUFBQSxzQkFDQSxLQUFBLE1BQUEsR0FDQSxLQUFBLEtBQUEsR0FBQSxDQUNBLEVBQUEsU0FBQSxJQUFBLElBQ0EsRUFBQSxvQkFBQSxTQUFBLFVBQ0EsRUFBQSxhQUFBLFNBQUEsVUFDQSxLQUFBLGdCQUNBLEtBQUEsS0FBQSxLQUFBLFVBQUEsS0FBQSxLQUdBLElBQUEsR0FBQSxFQUFBLHVCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUNBLEdBQUEsU0FBQSxLQUFBLEtBQUEsR0FBQSxXQUNBLElBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxZQUFBLE9BQUEsRUFBQSxJQUNBLEVBQUEsV0FBQSxHQUFBLFFBQUEsS0FBQSxPQUFBLEtBQUEsU0FJQSxFQUFBLFVBQUEsY0FBQSxXQUFBLFFBQUEsSUFBQSwyQkFDQSxFQUFBLFVBQUEsWUFBQSxXQUdBLDhDQ3pGQSxFQUFBLFFBQUEsV0FHQSxRQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxzQkFDQSxLQUFBLElBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxLQUFBLGFBQ0EsSUFBQSxFQUFBLE1BQUEsQ0FFQSxHQUFBLEdBQUEsRUFBQSxrQkFBQSxPQUNBLEVBQUEsV0FBQSxRQUFBLEdBQ0EsR0FBQSxVQUNBLFlBQUEsZUFBQSxNQUFBLFdBQ0EsTUFBQSxJQUFBLFlBQUEsV0FDQSxPQUFBLEVBQUEsTUFBQSxrREFHQSxJQUFBLEdBQUEsRUFBQSxFQUNBLE1BQUEsSUFBQSxLQUFBLGFBQUEsT0FBQSxFQUFBLElBQ0EsS0FBQSxZQUFBLEVBQUEsT0FDQSxLQUFBLDBCQUFBLEdBQUEsR0FDQSxLQUFBLDBCQUFBLE9BQUEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxJQUFBLEtBcEJBLEdBQUEsR0FBQSxFQUFBLDhCQWlDQSxPQVRBLEdBQUEsVUFBQSxZQUFBLFdBQUEsUUFBQSxJQUFBLHNCQUNBLEtBQUEsWUFBQSxTQUFBLGlCQUFBLGNBQ0EsS0FBQSxZQUFBLEtBQUEsWUFBQSxPQUFBLEdBQUEsaUJBQUEsUUFBQSxLQUFBLG1CQUFBLEtBQUEsUUFHQSxFQUFBLFVBQUEsbUJBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSxvQ0FDQSxLQUFBLEtBQUEsS0FBQSxTQUFBLEVBQUEsS0FBQSxLQUdBLDREQ2xDQSxFQUFBLFFBQUEsV0FDQSxRQUFBLEtBQUEsUUFBQSxJQUFBLGlDQUNBLEtBQUEsSUFBQSwrQ0EwQkEsTUF2QkEsR0FBQSxVQUFBLE1BQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLHVCQUNBLEVBQUEsTUFDQSxLQUFBLE9BQ0EsTUFBQSxRQUFBLFdBQ0EsSUFBQSxLQUFBLElBQUEsZUFBQSxFQUFBLElBQUEsRUFDQSxRQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsY0FBQSxJQUNBLEtBQUEsS0FBQSxLQUFBLGNBQUEsS0FDQSxLQUFBLFNBSUEsRUFBQSxVQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsMEJBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxNQUFBLFFBQUEsV0FDQSxJQUFBLEtBQUEsSUFBQSxrQkFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQ0EsUUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLG9CQUFBLElBQ0EsS0FBQSxLQUFBLEtBQUEsY0FBQSxLQUNBLEtBQUEsU0FHQSw0QkM1QkEsRUFBQSxRQUFBLFdBSUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSw0QkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLE1BQUEsRUFDQSxLQUFBLFVBQUEsRUFDQSxLQUFBLG1CQUNBLEtBQUEsd0JBUEEsR0FBQSxHQUFBLEVBQUEsdUJBa0NBLE9BeEJBLEdBQUEsVUFBQSxpQkFBQSxXQUFBLFFBQUEsSUFBQSxpQ0FDQSxLQUFBLE1BQUEsS0FBQSxJQUFBLE9BQUEsK0JBQ0EsS0FBQSxlQUdBLEVBQUEsVUFBQSxZQUFBLFdBQUEsUUFBQSxJQUFBLDRCQUNBLEtBQUEsTUFBQSxHQUFBLFFBQUEsS0FBQSxhQUFBLEtBQUEsUUFHQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLDRCQUNBLElBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxJQUFBLFNBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLElBQUEsU0FBQSxJQUNBLElBQ0EsR0FBQSxLQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQ0EsZUFBQSxFQUFBLE9BQUEsSUFDQSxLQUFBLEtBQUEsS0FBQSxxQkFBQSxJQUlBLEVBQUEsVUFBQSxzQkFBQSxXQUFBLFFBQUEsSUFBQSxzQ0FDQSxLQUFBLG1CQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxNQUFBLEtBQUEsWUFHQSxxRENwQ0EsRUFBQSxRQUFBLFdBS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQU1BLEdBTkEsUUFBQSxJQUFBLG9DQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsTUFBQSxFQUNBLEtBQUEsVUFBQSxFQUNBLEtBQUEsMEJBQUEsR0FBQSxHQUVBLEtBQUEsTUFDQSxHQUFBLEdBQUEsRUFBQSxzQkFBQSxXQUdBLElBQUEsR0FBQSxFQUFBLGtCQUFBLE1BRUEsSUFBQSxHQUFBLFdBQUEsUUFBQSxHQUNBLElBQ0EsR0FBQSxNQUFBLEVBQUEsTUFDQSxFQUFBLGNBQUEsRUFBQSxjQUNBLEVBQUEsUUFBQSxTQUNBLElBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxjQUFBLE9BQUEsRUFBQSxJQUNBLEtBQUEsY0FFQSxLQUFBLElBQUEsS0FBQSxzQkFBQSxHQUFBLFFBQUEsS0FBQSxrQkFBQSxLQUFBLE9BQ0EsS0FBQSxHQUFBLEtBQUEsMEJBQUEsb0JBQUEsS0FBQSxjQUFBLEtBQUEsT0FDQSxLQUFBLElBQUEsS0FBQSxnQkFBQSxHQUFBLFFBQUEsS0FBQSxTQUFBLEtBQUEsT0FDQSxLQUFBLDBCQUFBLGdCQUFBLEVBQUEsSUFDQSxLQUFBLEdBQUEsS0FBQSwwQkFBQSxlQUFBLEtBQUEsa0JBQUEsS0FBQSxPQTdCQSxHQUFBLEdBQUEsRUFBQSxpQkFDQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsOEJBdUlBLE9BekdBLEdBQUEsVUFBQSxjQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsc0NBQ0EsS0FBQSxJQUFBLEtBQUEsZ0JBQUEsT0FDQSxJQUNBLEtBRUEsS0FEQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxNQUFBLE1BQUEsS0FBQSxFQUFBLEdBQUEsWUFBQSxHQUFBLEVBQUEsR0FBQSxJQUVBLElBQUEsR0FBQSxFQUFBLG9CQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsRUFDQSxTQUFBLElBQUEsMEJBQ0EsV0FBQSxlQUFBLFFBQUEsV0FDQSxHQUFBLEdBQUEsV0FBQSxpQkFBQSxLQUFBLE1BQ0EsRUFBQSxXQUFBLGlCQUFBLEtBQUEsR0FFQSxPQUFBLElBQUEsWUFBQSxXQUNBLHdCQUFBLEVBQUEsY0FBQSxFQUFBLGdEQUdBLElBQUEsR0FBQSxFQUFBLEVBQ0EsTUFBQSxJQUFBLEtBQUEsZ0JBQUEsT0FBQSxFQUFBLElBQ0EsS0FBQSxnQkFBQSxFQUFBLEtBSUEsRUFBQSxVQUFBLGdCQUFBLFdBR0EsSUFGQSxLQUFBLFdBQUEsU0FBQSxpQkFBQSxtQkFDQSxRQUFBLElBQUEsS0FBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsV0FBQSxPQUFBLElBQ0EsS0FBQSxXQUFBLEdBQUEsaUJBQUEsUUFBQSxLQUFBLGNBQUEsS0FBQSxRQUlBLEVBQUEsVUFBQSxjQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsbUNBQ0EsSUFBQSxJQUFBLFFBQUEsRUFBQSxPQUFBLElBQ0EsR0FBQSxHQUFBLFFBQUEsRUFBQSxPQUFBLElBQ0EsTUFBQSwwQkFBQSxlQUFBLEtBQUEsVUFBQSxHQUFBLEVBQUEsU0FDQSxLQUFBLGtCQUFBLEdBQ0EsS0FBQSxJQUFBLEtBQUEscUJBQUEsT0FBQSxPQUFBLEVBQUEsS0FBQSxHQUFBLFdBQUEsS0FBQSxlQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsNkNBQ0EsS0FBQSxvQkFHQSxFQUFBLFVBQUEsaUJBQUEsV0FBQSxRQUFBLElBQUEsa0NBQ0EsS0FBQSxZQUFBLFNBQUEsaUJBQUEsZUFDQSxRQUFBLElBQUEsS0FBQSxhQUNBLFFBQUEsSUFBQSxLQUFBLFlBQUEsT0FBQSxHQUVBLEtBQUEsWUFBQSxLQUFBLFlBQUEsT0FBQSxHQUFBLGlCQUFBLFFBQUEsS0FBQSxtQkFBQSxLQUFBLFFBR0EsRUFBQSxVQUFBLG1CQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsb0NBQ0EsS0FBQSwwQkFBQSxlQUFBLEtBQUEsUUFBQSxFQUFBLE9BQUEsSUFDQSxRQUFBLElBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxLQUFBLEdBQUEsVUFHQSxFQUFBLFVBQUEsa0JBQUEsU0FBQSxHQUlBLElBSkEsUUFBQSxJQUFBLDBDQUVBLEtBQUEsSUFBQSxLQUFBLHNCQUFBLElBQUEsSUFDQSxFQUFBLGFBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxLQUFBLFlBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxPQUNBLEtBQUEsR0FBQSxLQUFBLFlBQUEsU0FBQSxLQUFBLGtCQUFBLEtBQUEsUUFJQSxFQUFBLFVBQUEsa0JBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSxpQ0FDQSxLQUFBLDBCQUFBLGtCQUFBLEVBQUEsT0FBQSxRQUdBLEVBQUEsVUFBQSxTQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsaUNBQ0EsS0FBQSwwQkFBQSxTQUFBLEtBQUEsVUFBQSxHQUFBLEVBQUEsT0FBQSxRQUdBLEVBQUEsVUFBQSxZQUFBLFdBQUEsUUFBQSxJQUFBLG9DQUNBLEtBQUEsSUFBQSxLQUFBLGdCQUFBLEdBQUEsUUFBQSxLQUFBLG9CQUFBLEtBQUEsT0FDQSxLQUFBLElBQUEsS0FBQSxnQkFBQSxHQUFBLFFBQUEsS0FBQSxvQkFBQSxLQUFBLE9BQ0EsS0FBQSxJQUFBLEtBQUEsV0FBQSxHQUFBLFFBQUEsS0FBQSxVQUFBLEtBQUEsUUFHQSxFQUFBLFVBQUEsY0FBQSxXQUFBLFFBQUEsSUFBQSxzQ0FDQSxLQUFBLElBQUEsS0FBQSxTQUFBLFlBQUEsVUFDQSxLQUFBLElBQUEsS0FBQSxTQUFBLFlBQUEsV0FHQSxFQUFBLFVBQUEsVUFBQSxXQUFBLFFBQUEsSUFBQSxrQ0FDQSxLQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEsSUFDQSxLQUFBLEdBQUEsS0FBQSxJQUFBLFNBQUEsS0FBQSxVQUFBLEtBQUEsUUFHQSxFQUFBLFVBQUEsb0JBQUEsV0FBQSxRQUFBLElBQUEsNENBQ0EsS0FBQSxJQUFBLEtBQUEsaUJBQUEsWUFBQSxVQUNBLEtBQUEsSUFBQSxLQUFBLGdCQUFBLFlBQUE7RUFHQSxFQUFBLFVBQUEsa0JBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSx5Q0FDQSxJQUFBLEdBQUEsU0FBQSxjQUFBLG9CQUNBLEdBQUEsWUFBQSxJQUdBLEVBQUEsVUFBQSxVQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEseUNBQ0EsSUFBQSxHQUFBLFNBQUEsY0FBQSxZQUNBLEdBQUEsWUFBQSxJQUdBLDJGQzFJQSxFQUFBLFFBQUEsV0FDQSxRQUFBLEtBQUEsUUFBQSxJQUFBLDJDQUNBLEtBQUEsSUFBQSwrQ0FrRkEsTUFoRkEsR0FBQSxVQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsTUFEQSxTQUFBLElBQUEsd0NBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLEtBQUEsSUFBQSxZQUFBLEVBQUEsSUFBQSxFQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxnQkFBQSxLQUNBLEtBQUEsU0FLQSxFQUFBLFVBQUEsZ0JBQUEsU0FBQSxHQUNBLE1BREEsU0FBQSxJQUFBLCtDQUNBLEVBQUEsTUFDQSxLQUFBLE1BQ0EsSUFBQSxLQUFBLElBQUEsbUJBQUEsRUFDQSxNQUFBLFFBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsc0JBQUEsSUFDQSxLQUFBLEtBQUEsS0FBQSxnQkFBQSxLQUNBLEtBQUEsU0FJQSxFQUFBLFVBQUEsa0JBQUEsU0FBQSxHQUNBLE1BREEsU0FBQSxJQUFBLGlEQUNBLEVBQUEsTUFDQSxLQUFBLE9BQ0EsSUFBQSxLQUFBLElBQUEsZUFBQSxFQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxTQUFBLElBQ0EsS0FBQSxLQUFBLEtBQUEscUJBQUEsS0FDQSxLQUFBLFNBSUEsRUFBQSxVQUFBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsTUFEQSxTQUFBLElBQUEsdUNBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLEtBQUEsSUFBQSxrQkFBQSxFQUFBLElBQUEsRUFDQSxNQUFBLFFBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxRQUFBLEtBQUEsSUFDQSxLQUFBLEtBQUEsS0FBQSxlQUFBLEtBQ0EsS0FBQSxTQUlBLEVBQUEsVUFBQSxtQkFBQSxTQUFBLEdBQ0EsTUFEQSxTQUFBLElBQUEsMkNBQ0EsRUFBQSxNQUNBLEtBQUEsTUFDQSxJQUFBLEtBQUEsSUFBQSxzQkFBQSxFQUNBLE1BQUEsUUFBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxnQkFBQSxJQUNBLEtBQUEsS0FBQSxLQUFBLGVBQUEsS0FDQSxLQUFBLFNBSUEsRUFBQSxVQUFBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsTUFEQSxTQUFBLElBQUEsMENBQ0EsRUFBQSxNQUNBLEtBQUEsTUFDQSxJQUFBLEtBQUEsSUFBQSxrQkFBQSxFQUFBLElBQUEsRUFDQSxNQUFBLFFBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsWUFBQSxLQUNBLEtBQUEsU0FHQSxFQUFBLFVBQUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxNQURBLFNBQUEsSUFBQSxpREFDQSxFQUFBLE1BQ0EsS0FBQSxPQUNBLElBQUEsS0FBQSxJQUFBLE9BQUEsRUFBQSxJQUFBLEVBQ0EsTUFBQSxRQUFBLFdBQ0EsUUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLGFBQUEsS0FDQSxLQUFBLFNBR0EsNEJDcEZBLEVBQUEsUUFBQSxXQUlBLFFBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLHdCQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsU0FBQSxFQUNBLEVBQUEsS0FDQSxJQUNBLEtBQUEsT0FBQSxHQVJBLEdBQ0EsR0FEQSxFQUFBLEVBQUEsZUFpRUEsT0FyREEsR0FBQSxVQUFBLGFBQUEsV0FBQSxRQUFBLElBQUEsdUJBQ0EsSUFBQSxHQUFBLEVBQUEsb0JBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLElBRUEsR0FBQSxPQURBLEtBQUEsT0FDQSxVQUFBLEtBQUEsT0FBQSxPQUVBLEVBRUEsSUFBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLEdBQUEsSUFHQSxFQUFBLFVBQUEsaUJBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSw0QkFDQSxJQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEscUJBRUEsSUFBQSxJQUFBLENBQUEsUUFBQSxJQUFBLGNBQ0EsSUFBQSxHQUFBLElBQUEsZ0JBQUEsRUFDQSxHQUFBLEtBQUEsTUFBQSxHQUNBLEVBQUEsVUFBQSxFQUVBLEdBQUEsR0FBQSxHQUFBLFdBQ0EsR0FBQSxPQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsVUFDQSxFQUFBLFFBQUEsRUFBQSxPQUFBLFNBRUEsRUFBQSxjQUFBLElBR0EsRUFBQSxVQUFBLEtBQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLGlCQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsVUFBQSxFQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsSUFDQSxLQUFBLFdBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLGtCQUNBLEtBQUEsV0FBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsTUFBQSxFQUNBLEdBQUEsaUJBQUEsR0FDQSxFQUFBLFNBQUEsS0FJQSxFQUFBLFVBQUEsUUFBQSxTQUFBLEdBQUEsUUFBQSxJQUFBLG9CQUNBLEtBQUEsV0FBQSxJQUFBLFFBQUEsSUFBQSxLQUFBLFNBQ0EsS0FBQSxPQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGlCQUFBLE1BQ0EsS0FBQSxLQUFBLEtBQUEsZ0JBQUEsR0FDQSxLQUFBLFNBQUEsR0FFQSxLQUFBLFdBR0EsRUFBQSxVQUFBLFFBQUEsV0FBQSxRQUFBLElBQUEsb0JBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEsbUJBQUEsVUFHQSw2Q0NsRUEsRUFBQSxRQUFBLFdBRUEsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLDJCQUNBLElBQUEsR0FBQSxFQUFBLHlCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUNBLEdBQUEsT0FBQSxDQUNBLElBQUEsR0FBQSxFQUFBLEVBQ0EsT0FBQSxHQUFBLEdBR0EsTUFBQSw2QkNYQSxFQUFBLFFBQUEsV0FHQSxRQUFBLEdBQUEsR0FBQSxRQUFBLElBQUEseUJBQ0EsRUFBQSxLQUNBLEtBQUEsU0FBQSxFQUNBLEtBQUEsT0FBQSxFQUNBLEtBQUEsU0FDQSxLQUFBLE9BQUEsSUFHQSxPQUFBLE1BQ0EsT0FBQSxZQUNBLE9BQUEsVUFDQSxPQUFBLE1BRUEsUUFBQSxJQUFBLHFCQWZBLEdBQ0EsR0FEQSxFQUFBLEVBQUEsZ0JBa0VBLE9BL0NBLEdBQUEsVUFBQSxjQUFBLFdBQUEsUUFBQSxJQUFBLHlCQUNBLElBQUEsR0FBQSxFQUFBLHFCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUNBLElBQUEsS0FBQSxPQUFBLENBQ0EsRUFBQSxPQUFBLFdBQUEsS0FBQSxPQUFBLE1BQ0EsSUFBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLEdBQUEsS0FJQSxFQUFBLFVBQUEsS0FBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsa0JBQ0EsS0FBQSxJQUFBLEVBQ0EsS0FBQSxVQUFBLENBQ0EsSUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxPQUFBLEVBQ0EsTUFBQSxJQUFBLEtBQUEsSUFBQSxHQUFBLE9BQUEsR0FDQSxLQUFBLFVBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLG9CQUNBLEtBQUEsVUFBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsTUFBQSxFQUNBLEdBQUEsWUFBQSxHQUNBLEVBQUEsU0FBQSxLQUlBLEVBQUEsVUFBQSxZQUFBLFNBQUEsR0FBQSxRQUFBLElBQUEsd0JBQ0EsSUFBQSxHQUFBLEdBQUEsV0FDQSxHQUFBLE9BQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSxTQUNBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsVUFBQSw0QkFDQSxHQUFBLEtBQUEsTUFBQSxFQUFBLE9BQUEsUUFDQSxFQUFBLFFBQUEsRUFBQSxPQUFBLFNBRUEsRUFBQSxjQUFBLElBR0EsRUFBQSxVQUFBLFFBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSxxQkFDQSxLQUFBLE9BQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLFVBQUEsbUJBQUEsTUFDQSxLQUFBLFdBQUEsSUFDQSxLQUFBLEtBQUEsS0FBQSxnQkFBQSxHQUNBLEVBQUEsU0FBQSxHQUVBLEtBQUEsV0FHQSxFQUFBLFVBQUEsUUFBQSxXQUFBLFFBQUEsSUFBQSxxQkFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsVUFBQSxxQkFBQSxVQUdBLDhDQ25FQSxFQUFBLFFBQUEsV0FFQSxRQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSw2QkFDQSxLQUFBLElBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSwwQkFBQSxPQUNBLEVBQUEsV0FBQSxRQUFBLEdBQ0EsSUFDQSxHQUFBLElBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsR0FBQSxHQUdBLE1BQUEsNkJDWkEsRUFBQSxRQUFBLFdBSUEsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLHdCQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsU0FBQSxFQUNBLEtBQUEsTUFDQSxLQUFBLElBQUEsaUJBTkEsR0FBQSxHQUFBLEVBQUEsZUFxQ0EsT0EzQkEsR0FBQSxVQUFBLGFBQUEsV0FBQSxRQUFBLElBQUEsd0JBQ0EsSUFBQSxHQUFBLEVBQUEsb0JBQUEsT0FDQSxFQUFBLFdBQUEsUUFBQSxHQUNBLElBQ0EsR0FBQSxJQUFBLEtBQUEsR0FDQSxJQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsR0FBQSxJQUdBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxpQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLFVBQUEsRUFDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsa0JBQUEsWUFBQSxVQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxLQUFBLE9BR0EsRUFBQSxVQUFBLFFBQUEsV0FBQSxRQUFBLElBQUEsb0JBQ0EsS0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGlCQUFBLE1BQ0EsS0FBQSxXQUdBLEVBQUEsVUFBQSxRQUFBLFdBQUEsUUFBQSxJQUFBLG9CQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGtCQUFBLFNBQUEsVUFBQSxLQUFBLEtBQUEsS0FDQSxLQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsVUFBQSxtQkFBQSxTQUNBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxVQUFBLGtCQUFBLFlBQUEsV0FHQSw2Q0N2Q0EsRUFBQSxRQUFBLFdBRUEsUUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLDJCQUNBLElBQUEsR0FBQSxFQUFBLHlCQUFBLE9BQ0EsRUFBQSxXQUFBLFFBQUEsR0FDQSxJQUNBLEdBQUEsSUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQUFBLEdBSUEsTUFBQSIsImZpbGUiOiJzY3JpcHQuZGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uKCl7XG5cdHZhciBQcm9maWxlID0gcmVxdWlyZSgnLi9jbGFzc2VzL1Byb2ZpbGUnKTtcblx0dmFyIEFwcCA9IHJlcXVpcmUoJy4vY2xhc3Nlcy9BcHAnKTtcblx0dmFyIE92ZXJ2aWV3ID0gcmVxdWlyZSgnLi9jbGFzc2VzL092ZXJ2aWV3Jyk7XG5cdHRoaXMudXNlciA9IFtdO1xuXG5cdGZ1bmN0aW9uIGluaXQoKcKge1xuXHRcdHRoaXMub3ZlcnZpZXcgPSBuZXcgT3ZlcnZpZXcoJCgnI2NvbnRhaW5lcicpLCB0aGlzLnVzZXIpO1xuXHRcdHRoaXMucHJvZmlsZSA9IG5ldyBQcm9maWxlKCQoJyNwcm9maWxlJykpO1x0XHRcblx0XHRiZWFuLm9uKHRoaXMucHJvZmlsZSAsICdyZWZyZXNoJywgd2luZG93UmVmcmVzaC5iaW5kKHRoaXMpKTtcblx0XHRiZWFuLm9uKHRoaXMub3ZlcnZpZXcsICdsZWFrLWJvYXJkRGF0YScsIHN0b3JlQm9hcmRJbmZvLmJpbmQodGhpcykpO1xuXHR9XG5cblx0ZnVuY3Rpb24gc3RvcmVCb2FyZEluZm8oYm9hcmRJbmZvKXsgY29uc29sZS5sb2coJ1tTY3JpcHRdIHN0b3JlQm9hcmRJbmZvJyk7XG5cdFx0dGhpcy5ib2FyZEluZm8gPSBib2FyZEluZm87XG5cdH1cblxuXHRmdW5jdGlvbiB3aW5kb3dSZWZyZXNoKHVzZXIpeyBjb25zb2xlLmxvZygnW1NjcmlwdF0gd2luZG93UmVmcmVzaCcpO1xuXHRcdCQoXCIjY29udGFpbmVyXCIpLmh0bWwoXCJcIik7XG5cdFx0aWYodHlwZW9mIHRoaXMuYm9hcmRJbmZvICE9PSBcInVuZGVmaW5lZFwiKXtcblx0XHRcdHRoaXMuYXBwID0gbmV3IEFwcCgkKCcjY29udGFpbmVyJyksIHRoaXMuYm9hcmRJbmZvICwgdXNlcik7XG5cdFx0fVxuXHRcdGlmKHR5cGVvZiB1c2VyICE9PSBcInVuZGVmaW5lZFwiKXtcblx0XHRcdHRoaXMub3ZlcnZpZXcgPSBuZXcgT3ZlcnZpZXcoJCgnI2NvbnRhaW5lcicpLCB1c2VyLmlkKTtcblx0XHR9ZWxzZXtcblx0XHRcdHRoaXMub3ZlcnZpZXcgPSBuZXcgT3ZlcnZpZXcoJCgnI2NvbnRhaW5lcicpKTtcblx0XHR9XG5cdH1cblxuXHRpbml0KCk7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHR2YXIgV2hpdGVib2FyZCA9IHJlcXVpcmUoJy4vV2hpdGVib2FyZCcpO1xuXHR2YXIgRWxlbWVudFBpY2tlciA9IHJlcXVpcmUoJy4vRWxlbWVudFBpY2tlcicpO1xuXHR2YXIgRWxlbWVudCA9IHJlcXVpcmUoJy4vRWxlbWVudCcpO1xuXHR2YXIgRGF0YUhhbmRsZXIgPSByZXF1aXJlKCcuL0RhdGFIYW5kbGVyJyk7XG5cblxuXHRmdW5jdGlvbiBBcHAoJGVsLCBib2FyZEluZm8sIHVzZXJJZCkgeyBjb25zb2xlLmxvZygnW0FwcF0gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR0aGlzLndoaXRlYm9hcmRJZCA9IGJvYXJkSW5mby5pZDtcblx0XHR0aGlzLnVzZXJJZCA9IHVzZXJJZDtcblx0XHR0aGlzLmFkbWluID0gQm9vbGVhbihib2FyZEluZm8uY3JlYXRvciA9PT0gdGhpcy51c2VySWQpO1xuXHRcdHRoaXMuYm9hcmRJbmZvID0gYm9hcmRJbmZvO1xuXHRcdHRoaXMudHlwZXMgPSBbJ3Bvc3RpdHMnLCAnc3RhdGljcycsICdtb3Rpb24nXTtcblx0XHR0aGlzLmkgPSAwO1xuXHRcdHRoaXMuZWxlbWVudExpc3QgPSBbXTtcblxuXHRcdHRoaXMucG9zaXRpb24gPSB7fTtcblx0XHR0aGlzLmRhdGFIYW5kbGVyID0gbmV3IERhdGFIYW5kbGVyKCk7XG5cdFx0dGhpcy53aGl0ZWJvYXJkID0gbmV3IFdoaXRlYm9hcmQodGhpcy4kZWwsIHRoaXMuYm9hcmRJbmZvLCB0aGlzLmFkbWluLCB1c2VySWQpO1xuXHRcdHRoaXMuZWxlbWVudFBpY2tlciA9IG5ldyBFbGVtZW50UGlja2VyKHRoaXMuJGVsKTtcblx0XHQvL0xVSVNURVJFTlxuXHRcdGJlYW4ub24odGhpcy5kYXRhSGFuZGxlciwgXCJkYXRhLXN1Y2Nlc3NcIiwgdGhpcy5hZGRUb0VsZW1lbnRMaXN0LmJpbmQodGhpcykpO1xuXHRcdGJlYW4ub24odGhpcy53aGl0ZWJvYXJkLCBcIndoaXRlYm9hcmQtY2xpY2tlZFwiLCB0aGlzLndoaXRlYm9hcmRDbGlja2VkSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHRiZWFuLm9uKHRoaXMuZWxlbWVudFBpY2tlciwgXCJlbGVtZW50LXBpY2tlci1jbGlja2VkXCIsIHRoaXMuZWxlbWVudFBpY2tlckNsaWNrZWRIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJy5jbG9zZS1idXR0b24nKS5vbignY2xpY2snLCB0aGlzLmNsb3NlUHJvamVjdC5iaW5kKHRoaXMpKTtcblx0XHQvL1VJVFZPRVJFTlxuXHRcdHRoaXMuYnVpbGRCb2FyZCgpO1xuXHR9XG5cblxuXHRBcHAucHJvdG90eXBlLmNsb3NlUHJvamVjdCA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NdIGNsb3NlUHJvamVjdCcpO1xuXHRcdFx0JChcIiNjb250YWluZXJcIikuaHRtbChcIlwiKTtcblx0XHRcdHZhciBPdmVydmlldyA9IHJlcXVpcmUoJy4vT3ZlcnZpZXcnKTtcblx0XHRcdG5ldyBPdmVydmlldygkKCcjY29udGFpbmVyJyksIHRoaXMudXNlcklkKTtcblx0fTtcblxuXG5cdEFwcC5wcm90b3R5cGUud2hpdGVib2FyZENsaWNrZWRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0FwcF0gd2hpdGVib2FyZENsaWNrZWRIYW5kbGVyJyk7XG5cdFx0dGhpcy5lbGVtZW50UGlja2VyLnRvZ2dsZVZpc2libGUoKTtcblx0XHR0aGlzLmVsZW1lbnRQaWNrZXIuc2V0TG9jYXRpb24oZXZlbnQueFBvcywgZXZlbnQueVBvcyk7XG5cdFx0dGhpcy5wb3NpdGlvbiA9IGV2ZW50O1xuXHR9O1xuXG5cdEFwcC5wcm90b3R5cGUuZWxlbWVudFBpY2tlckNsaWNrZWRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0FwcF0gZWxlbWVudFBpY2tlckNsaWNrZWRIYW5kbGVyJyk7IFxuXHRcdHRoaXMuZWxlbWVudFBpY2tlci50b2dnbGVWaXNpYmxlKCk7XG5cdFx0dmFyIGVsZW1lbnQgPSBuZXcgRWxlbWVudCh0aGlzLiRlbCxldmVudCx0aGlzLnBvc2l0aW9uKTtcblx0XHR0aGlzLm5ld0VsZW1lbnQoZXZlbnQsIGVsZW1lbnQuZWxlbWVudElkKTtcblx0XHRiZWFuLm9uKGVsZW1lbnQsIFwicG9zaXRpb24tY2hhbmdlZFwiLCB0aGlzLnBvc2l0aW9uQ2hhbmdlZEhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdFx0YmVhbi5vbihlbGVtZW50LCBcImltYWdlLWNoYW5nZWRcIiwgdGhpcy5pbWFnZUNoYW5nZWRIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdGJlYW4ub24oZWxlbWVudCwgXCJ2aWRlby1jaGFuZ2VkXCIsIHRoaXMudmlkZW9DaGFuZ2VkSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHRiZWFuLm9uKGVsZW1lbnQsIFwicmVtb3ZlLWNsaWNrZWRcIiwgdGhpcy5yZW1vdmVIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdGJlYW4ub24oZWxlbWVudCwgXCJlZGl0LWNsaWNrZWRcIiwgdGhpcy5lZGl0SGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRBcHAucHJvdG90eXBlLmJ1aWxkQm9hcmQgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0FwcF0gYnVpbGRCb2FyZCcpO1xuXHRcdGZvcih2YXIgdHlwZSBpbiB0aGlzLnR5cGVzKSB7XG4gIFx0XHRcdHRoaXMuZGF0YUhhbmRsZXIubG9hZEJvYXJkRWxlbWVudHModGhpcy50eXBlc1t0eXBlXSx0aGlzLndoaXRlYm9hcmRJZCk7XG5cdFx0fVxuXHR9O1xuXG5cdEFwcC5wcm90b3R5cGUuYWRkVG9FbGVtZW50TGlzdCA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tBcHBdIGFkZFRvRWxlbWVudExpc3QnKTtcblx0XHR0aGlzLmFkZFRvQm9hcmQoZXZlbnQpO1xuXHR9O1xuXG5cdEFwcC5wcm90b3R5cGUuYWRkVG9Cb2FyZCA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tBcHBdIGFkZFRvQm9hcmQnKTsgXG5cdFx0dmFyIGxpc3QgPSBldmVudDtcblx0XHRmb3IodmFyIGVsZW1lbnRJdGVtIGluIGxpc3QpIHtcbiAgXHRcdFx0dmFyIHR5cGUgPSBsaXN0W2VsZW1lbnRJdGVtXS5lbF90eXBlO1xuICBcdFx0XHR2YXIgcG9zaXRpb24gPSB7fTtcbiAgXHRcdFx0cG9zaXRpb24ueVBvcyA9IE51bWJlcihsaXN0W2VsZW1lbnRJdGVtXS5wb3N5KTtcbiAgXHRcdFx0cG9zaXRpb24ueFBvcyA9IE51bWJlcihsaXN0W2VsZW1lbnRJdGVtXS5wb3N4KTtcbiAgXHRcdFx0dmFyIGVsZW1lbnRJZCA9IGxpc3RbZWxlbWVudEl0ZW1dLmlkX29uX2JvYXJkO1xuICBcdFx0XHR2YXIgaWQgPSBsaXN0W2VsZW1lbnRJdGVtXS5pZDtcbiAgXHRcdFx0dmFyIGNvbnRlbnQgPSBsaXN0W2VsZW1lbnRJdGVtXS5jb250ZW50O1xuICBcdFx0XHR2YXIgZWxlbWVudCA9IG5ldyBFbGVtZW50KHRoaXMuJGVsLHR5cGUscG9zaXRpb24sZWxlbWVudElkLGNvbnRlbnQsIGlkKTtcbiAgXHRcdFx0aWYodGhpcy5hZG1pbiA9PT0gdHJ1ZSl7XG4gIFx0XHRcdFx0YmVhbi5vbihlbGVtZW50LCBcInJlbW92ZS1jbGlja2VkXCIsIHRoaXMucmVtb3ZlSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgXHRcdFx0XHRiZWFuLm9uKGVsZW1lbnQsIFwiZWRpdC1jbGlja2VkXCIsIHRoaXMuZWRpdEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gIFx0XHRcdFx0YmVhbi5vbihlbGVtZW50LCBcInBvc2l0aW9uLWNoYW5nZWRcIiwgdGhpcy5wb3NpdGlvbkNoYW5nZWRIYW5kbGVyLmJpbmQodGhpcykpO1xuICBcdFx0XHRcdGJlYW4ub24oZWxlbWVudCwgXCJpbWFnZS1jaGFuZ2VkXCIsIHRoaXMuaW1hZ2VDaGFuZ2VkSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgXHRcdFx0XHRiZWFuLm9uKGVsZW1lbnQsIFwidmlkZW8tY2hhbmdlZFwiLCB0aGlzLnZpZGVvQ2hhbmdlZEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gIFx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0QXBwLnByb3RvdHlwZS52aWRlb0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0FwcF0gdmlkZW9DaGFuZ2VkSGFuZGxlcicpO1xuXHRcdHRoaXMuZGF0YUhhbmRsZXIuZWRpdENvbnRlbnQoZXZlbnQuZWxlbWVudFR5cGUsZXZlbnQuZWxlbWVudElkLGV2ZW50LmNvbnRlbnQsdGhpcy53aGl0ZWJvYXJkSWQpO1xuXHR9O1xuXG5cdEFwcC5wcm90b3R5cGUuaW1hZ2VDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tBcHBdIGltYWdlQ2hhbmdlZEhhbmRsZXInKTtcblx0XHR0aGlzLmRhdGFIYW5kbGVyLmVkaXRDb250ZW50KGV2ZW50LmVsZW1lbnRUeXBlLGV2ZW50LmVsZW1lbnRJZCxldmVudC5jb250ZW50LHRoaXMud2hpdGVib2FyZElkKTtcblx0fTtcblxuXHRBcHAucHJvdG90eXBlLmVkaXRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0FwcF0gZWRpdEhhbmRsZXInKTtcblx0XHR0aGlzLmRhdGFIYW5kbGVyLmVkaXRDb250ZW50KGV2ZW50LmVsZW1lbnRUeXBlLGV2ZW50LmVsZW1lbnRJZCxldmVudC5jb250ZW50LHRoaXMud2hpdGVib2FyZElkKTtcblx0fTtcblxuXHRBcHAucHJvdG90eXBlLnJlbW92ZUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbQXBwXSByZW1vdmVIYW5kbGVyJyk7IFxuXHRcdHRoaXMuZGF0YUhhbmRsZXIucmVtb3ZlQm9hcmRFbGVtZW50KGV2ZW50LmVsZW1lbnRUeXBlLCBldmVudC5lbGVtZW50SWQsIHRoaXMud2hpdGVib2FyZElkKTtcblx0fTtcblx0XG5cdEFwcC5wcm90b3R5cGUubmV3RWxlbWVudCA9IGZ1bmN0aW9uKHR5cGUsaWRPbkJvYXJkKXsgY29uc29sZS5sb2coJ1tBcHBdIG5ld0VsZW1lbnRIYW5kbGVyJyk7IFxuXHRcdHRoaXMuZGF0YUhhbmRsZXIubmV3Qm9hcmRFbGVtZW50KHR5cGUsaWRPbkJvYXJkLHRoaXMucG9zaXRpb24sdGhpcy53aGl0ZWJvYXJkSWQpO1xuXHR9O1xuXG5cdEFwcC5wcm90b3R5cGUucG9zaXRpb25DaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tBcHBdIHBvc2l0aW9uQ2hhbmdlZEhhbmRsZXInKTtcblx0XHR0aGlzLmRhdGFIYW5kbGVyLnBvc2l0aW9uQ2hhbmdlKGV2ZW50LmVsZW1lbnRUeXBlLGV2ZW50LmVsZW1lbnRJZCxldmVudC5lVGFyZ2V0LmNzcygnbGVmdCcpLGV2ZW50LmVUYXJnZXQuY3NzKCd0b3AnKSx0aGlzLndoaXRlYm9hcmRJZCk7XG5cdH07XG5cdHJldHVybiBBcHA7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblx0dmFyIHRoYXQ7XG5cdGZ1bmN0aW9uIERhdGFIYW5kbGVyKCkgeyBjb25zb2xlLmxvZygnW0RhdGFIYW5kbGVyXSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMudXJsID0gXCJodHRwOi8vbG9jYWxob3N0L3doaXRlYm9hcmRfMi9hcGkvaW5kZXgucGhwL1wiO1xuXHRcdHRoYXQgPSB0aGlzO1xuXHRcdHRoaXMuYm9hcmRMaXN0ID0gW107XG5cdH1cblxuXHREYXRhSGFuZGxlci5wcm90b3R5cGUuZ2V0Qm9hcmRJbmZvID0gZnVuY3Rpb24oYm9hcmRJZCl7IGNvbnNvbGUubG9nKCdbRGF0YUhhbmRsZXJdIGdldEJvYXJkSW5mbycpO1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHQgIFx0XHRcdFx0dHlwZTogXCJHRVRcIixcblx0ICBcdFx0XHRcdHVybDogdGhpcy51cmwrJ2JvYXJkcy8nK2JvYXJkSWQsXG5cdCAgXHRcdFx0XHRkYXRhOiB7Y29udGVudDogJ2NvbnRlbnQnfSxcblx0ICBcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHQgIFx0XHRcdFx0XHRiZWFuLmZpcmUodGhhdCwgXCJib2FyZC1pbmZvXCIsIFtkYXRhXSk7XG5cdCAgXHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHR9O1xuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5sb2FkQm9hcmRFbGVtZW50cyA9IGZ1bmN0aW9uKHR5cGUsd2hpdGVib2FyZElkKXsgY29uc29sZS5sb2coJ1tEYXRhSGFuZGxlcl0gbG9hZEJvYXJkRWxlbWVudHMnKTtcblx0XHRyZXR1cm4gJC5hamF4KHtcblx0ICBcdFx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdCAgXHRcdFx0XHR1cmw6IHRoaXMudXJsK3R5cGUrJy8nK1N0cmluZyh3aGl0ZWJvYXJkSWQpLFxuXHQgIFx0XHRcdFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdCAgXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0ICBcdFx0XHRcdFx0YmVhbi5maXJlKHRoYXQsIFwiZGF0YS1zdWNjZXNzXCIsIFtkYXRhXSk7XG5cdCAgXHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHR9O1xuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVCb2FyZEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSxpZF9vbl9ib2FyZCx3aGl0ZWJvYXJkSWQpeyBjb25zb2xlLmxvZygnW0RhdGFIYW5kbGVyXSByZW1vdmVCb2FyZEVsZW1lbnQnKTtcblx0XHRzd2l0Y2goZWxlbWVudFR5cGUpIHtcblx0XHQgICAgY2FzZSBcInBvc3QtaXRcIjpcblx0XHQgICAgXHR0aGlzLnJlbW92ZUVsZW1lbnRCeUlkKCdwb3N0aXRzJyxpZF9vbl9ib2FyZCwgd2hpdGVib2FyZElkKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwic3RhdGljXCI6XG5cdFx0ICAgIFx0dGhpcy5yZW1vdmVFbGVtZW50QnlJZCgnc3RhdGljcycsaWRfb25fYm9hcmQsIHdoaXRlYm9hcmRJZCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHQgICAgY2FzZSBcIm1vdGlvblwiOlxuXHRcdCAgICBcdHRoaXMucmVtb3ZlRWxlbWVudEJ5SWQoJ21vdGlvbicsaWRfb25fYm9hcmQsIHdoaXRlYm9hcmRJZCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHR9XG5cdH07XG5cblx0RGF0YUhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUVsZW1lbnRCeUlkID0gZnVuY3Rpb24oZWxlbWVudFR5cGUsaWRfb25fYm9hcmQsd2hpdGVib2FyZF9pZCl7IFxuXHRcdCQuYWpheCh7XG5cdCAgXHRcdHR5cGU6IFwiUE9TVFwiLFxuXHQgIFx0XHR1cmw6IHRoaXMudXJsK2VsZW1lbnRUeXBlKycvZGVsZXRlLycsXG5cdCAgXHRcdGRhdGE6IHtpZF9vbl9ib2FyZDogaWRfb25fYm9hcmQsIHdoaXRlYm9hcmRfaWQ6IHdoaXRlYm9hcmRfaWR9LFxuXHQgIFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0ICBcdFx0XHRjb25zb2xlLmxvZyhcImRlbGV0ZWQgPSBcIitkYXRhKTtcblx0ICBcdFx0fVxuXHRcdH0pO1xuXHR9O1xuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5uZXdCb2FyZEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSxpZF9vbl9ib2FyZCxwb3NpdGlvbix3aGl0ZWJvYXJkSWQpeyBjb25zb2xlLmxvZygnW0RhdGFIYW5kbGVyXSBuZXdCb2FyZEVsZW1lbnQnKTtcblx0XHRzd2l0Y2goZWxlbWVudFR5cGUpIHtcblx0XHQgICAgY2FzZSBcInBvc3QtaXRcIjpcblx0XHQgICAgXHR0aGlzLm5ld0VsZW1lbnQoJ3Bvc3RpdHMnLGlkX29uX2JvYXJkLCBwb3NpdGlvbiwgd2hpdGVib2FyZElkKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwic3RhdGljXCI6XG5cdFx0ICAgIFx0dGhpcy5uZXdFbGVtZW50KCdzdGF0aWNzJyxpZF9vbl9ib2FyZCwgcG9zaXRpb24sIHdoaXRlYm9hcmRJZCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHQgICAgY2FzZSBcIm1vdGlvblwiOiBjb25zb2xlLmxvZyhcInR5cGUgOiBcIitlbGVtZW50VHlwZSk7XG5cdFx0ICAgIFx0dGhpcy5uZXdFbGVtZW50KCdtb3Rpb24nLGlkX29uX2JvYXJkLCBwb3NpdGlvbiwgd2hpdGVib2FyZElkKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdH1cblx0fTtcblxuXHREYXRhSGFuZGxlci5wcm90b3R5cGUubmV3RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnRUeXBlLGlkX29uX2JvYXJkLHBvc2l0aW9uLHdoaXRlYm9hcmRJZCl7IGNvbnNvbGUubG9nKFwiTkVXRUxFTUVOVFwiKTtcblx0XHQkLmFqYXgoe1xuXHQgIFx0XHR0eXBlOiBcIlBPU1RcIixcblx0ICBcdFx0dXJsOiB0aGlzLnVybCtlbGVtZW50VHlwZSsnL2FkZCcsXG5cdCAgXHRcdGRhdGE6IHtpZF9vbl9ib2FyZDogaWRfb25fYm9hcmQsIHhwb3M6IHBvc2l0aW9uLnhQb3MsIHlwb3M6IHBvc2l0aW9uLnlQb3MsIHdoaXRlYm9hcmRJZDogd2hpdGVib2FyZElkfSxcblx0ICBcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuXHQgIFx0XHRcdGNvbnNvbGUubG9nKCdzdWNjZXNzOicsIGRhdGEpO1xuXHQgIFx0XHR9LFxuXHQgIFx0XHRlcnJvcjogZnVuY3Rpb24oZXJyb3IpIHtcblx0ICBcdFx0XHRjb25zb2xlLmxvZygnZXJyb3InKTtcblx0ICBcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdCAgXHRcdH1cblx0XHR9KTtcblx0fTtcblxuXHREYXRhSGFuZGxlci5wcm90b3R5cGUucG9zaXRpb25DaGFuZ2UgPSBmdW5jdGlvbihlbGVtZW50VHlwZSxpZF9vbl9ib2FyZCx4cG9zLHlwb3Msd2hpdGVib2FyZElkKXsgY29uc29sZS5sb2coJ1tEYXRhSGFuZGxlcl0gbmV3Qm9hcmRFbGVtZW50Jyk7XG5cdFx0c3dpdGNoKGVsZW1lbnRUeXBlKSB7XG5cdFx0ICAgIGNhc2UgXCJwb3N0LWl0XCI6XG5cdFx0ICAgIFx0dGhpcy5uZXdQb3NpdGlvbigncG9zdGl0cycsaWRfb25fYm9hcmQsIHhwb3MsIHlwb3Msd2hpdGVib2FyZElkKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwic3RhdGljXCI6XG5cdFx0ICAgIFx0dGhpcy5uZXdQb3NpdGlvbignc3RhdGljcycsaWRfb25fYm9hcmQsIHhwb3MsIHlwb3Msd2hpdGVib2FyZElkKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwibW90aW9uXCI6XG5cdFx0ICAgIFx0dGhpcy5uZXdQb3NpdGlvbignbW90aW9uJyxpZF9vbl9ib2FyZCwgeHBvcywgeXBvcyx3aGl0ZWJvYXJkSWQpO1xuXHRcdCAgICAgICAgYnJlYWs7XG5cdFx0fVxuXHR9O1xuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5uZXdQb3NpdGlvbiA9IGZ1bmN0aW9uKGVsZW1lbnRUeXBlLGlkX29uX2JvYXJkLHhwb3MseXBvcyx3aGl0ZWJvYXJkSWQpe1xuXHRcdCQuYWpheCh7XG5cdCAgXHRcdHR5cGU6IFwiUE9TVFwiLFxuXHQgIFx0XHR1cmw6IHRoaXMudXJsK2VsZW1lbnRUeXBlKycvY2hhbmdlL3Bvc2l0aW9uJyxcblx0ICBcdFx0ZGF0YToge3doaXRlYm9hcmRfaWQ6IHdoaXRlYm9hcmRJZCxpZF9vbl9ib2FyZDogaWRfb25fYm9hcmQsIHhwb3M6IHhwb3MsIHlwb3M6IHlwb3N9LFxuXHQgIFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG5cdCAgXHRcdFx0Y29uc29sZS5sb2coJ3N1Y2Nlc3M6JywgZGF0YSk7XG5cdCAgXHRcdH0sXG5cdCAgXHRcdGVycm9yOiBmdW5jdGlvbihlcnJvcikge1xuXHQgIFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicpO1xuXHQgIFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0ICBcdFx0fVxuXHRcdH0pO1xuXHR9O1xuXG5cdERhdGFIYW5kbGVyLnByb3RvdHlwZS5lZGl0Q29udGVudCA9IGZ1bmN0aW9uKGVsZW1lbnRUeXBlLGlkX29uX2JvYXJkLGNvbnRlbnQsd2hpdGVib2FyZElkKXsgY29uc29sZS5sb2coJ1tEYXRhSGFuZGxlcl0gZWRpdENvbnRlbnQnKTtcblx0XHRzd2l0Y2goZWxlbWVudFR5cGUpIHtcblx0XHQgICAgY2FzZSBcInBvc3QtaXRcIjpcblx0XHQgICAgXHR0aGlzLm5ld0NvbnRlbnQoJ3Bvc3RpdHMnLGlkX29uX2JvYXJkLGNvbnRlbnQsd2hpdGVib2FyZElkKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwic3RhdGljXCI6XG5cdFx0ICAgIFx0dGhpcy5uZXdDb250ZW50KCdzdGF0aWNzJyxpZF9vbl9ib2FyZCxjb250ZW50LHdoaXRlYm9hcmRJZCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHQgICAgY2FzZSBcIm1vdGlvblwiOlxuXHRcdCAgICBcdHRoaXMubmV3Q29udGVudCgnbW90aW9uJyxpZF9vbl9ib2FyZCxjb250ZW50LHdoaXRlYm9hcmRJZCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHR9XG5cdH07XG5cblx0RGF0YUhhbmRsZXIucHJvdG90eXBlLm5ld0NvbnRlbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSxpZF9vbl9ib2FyZCxjb250ZW50LHdoaXRlYm9hcmRJZCl7XG5cdFx0JC5hamF4KHtcblx0ICBcdFx0dHlwZTogXCJQT1NUXCIsXG5cdCAgXHRcdHVybDogdGhpcy51cmwrZWxlbWVudFR5cGUrJy9jaGFuZ2UvY29udGVudCcsXG5cdCAgXHRcdGRhdGE6IHt3aGl0ZWJvYXJkX2lkOiB3aGl0ZWJvYXJkSWQsaWRfb25fYm9hcmQ6IGlkX29uX2JvYXJkLCBjb250ZW50OiBjb250ZW50fSxcblx0ICBcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuXHQgIFx0XHRcdGNvbnNvbGUubG9nKCdzdWNjZXNzOicsIGRhdGEpO1xuXHQgIFx0XHR9LFxuXHQgIFx0XHRlcnJvcjogZnVuY3Rpb24oZXJyb3IpIHtcblx0ICBcdFx0XHRjb25zb2xlLmxvZygnZXJyb3InKTtcblx0ICBcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdCAgXHRcdH1cblx0ICBcdH0pO1xuXHQgIH07XG5cblx0RGF0YUhhbmRsZXIucHJvdG90eXBlLmdldEFsbEJvYXJkcyA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbRGF0YUhhbmRsZXJdIGdldEFsbEJvYXJkcycpO1xuXHRcdCAkLmFqYXgoe1xuXHRcdCAgXHR0eXBlOiBcIkdFVFwiLFxuXHRcdCAgXHR1cmw6IHRoaXMudXJsKydib2FyZHMvJyxcblx0XHQgIFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdFx0ICBcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdCAgXHRcdHRoaXMuYm9hcmRFbGVtZW50cy5wdXNoKGRhdGEpO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblxuXHRyZXR1cm4gRGF0YUhhbmRsZXI7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHRmdW5jdGlvbiBFZGl0TWVudSgkZWwsZWxlbWVudElkKSB7IGNvbnNvbGUubG9nKCdbRWRpdE1lbnVdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy5lbGVtZW50SWQgPSBlbGVtZW50SWQ7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNlZGl0LW1lbnUtdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0dmFyIGNvbnRleHQgPSB7XG5cdFx0ICBhY3Rpb25zOiBbXHRcblx0XHQgIFx0XHRcdHthY3Rpb25JZDogXCJjYW5jZWxcIiwgbmFtZTogXCJhbm51bGVlclwifSxcblx0XHQgIFx0XHRcdHthY3Rpb25JZDogXCJlZGl0XCIsIG5hbWU6IFwid2lqemlnZW5cIn0sXG5cdFx0ICBcdFx0XHR7YWN0aW9uSWQ6IFwicmVtb3ZlXCIsIG5hbWU6IFwidmVyd2lqZGVyZW5cIn1cbiAgXHRcdFx0XHRdXG4gIFx0XHRcdH07XG5cdFx0XHRIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdlZGl0bWVudScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICB2YXIgYWN0aW9uSWQgPSBIYW5kbGViYXJzLmVzY2FwZUV4cHJlc3Npb24odGhpcy5hY3Rpb25JZCksXG5cdFx0XHQgICAgICBuYW1lID0gSGFuZGxlYmFycy5lc2NhcGVFeHByZXNzaW9uKHRoaXMubmFtZSk7XG5cblx0XHRcdCAgcmV0dXJuIG5ldyBIYW5kbGViYXJzLlNhZmVTdHJpbmcoXG5cdFx0XHQgICAgXCI8bGkgaWQ9XCIrYWN0aW9uSWQrXCI+XCIrbmFtZStcIjwvbGk+XCJcblx0XHRcdCAgKTtcblx0XHRcdH0pO1xuXHRcdFxuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0dGhpcy4kZWwuZmluZCgnIycrdGhpcy5lbGVtZW50SWQpLmFwcGVuZChodG1sKTtcblx0XHR0aGlzLiRlbC5maW5kKCcjJyt0aGlzLmVsZW1lbnRJZCsnID4gcCcpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblx0XHR0aGlzLmJpbmRIYW5kbGVycygpO1xuXHRcdHRoaXMudG9nZ2xlVmlzaWJsZSgpO1xuXHR9XG5cblx0RWRpdE1lbnUucHJvdG90eXBlLnRvZ2dsZVZpc2libGUgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0VkaXRNZW51XSB0b2dnbGVWaXNpYmxlJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnIycrdGhpcy5lbGVtZW50SWQrJyA+IHAnKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnIycrdGhpcy5lbGVtZW50SWQrJyAuZWRpdC1tZW51JykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHR9O1xuXG5cdEVkaXRNZW51LnByb3RvdHlwZS5iaW5kSGFuZGxlcnMgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0VkaXRNZW51XSBiaW5kSGFuZGxlcnMnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcjJyt0aGlzLmVsZW1lbnRJZCsnID4gcCcpLm9uKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJyMnK3RoaXMuZWxlbWVudElkKycgbGknKS5vbignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRFZGl0TWVudS5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0VkaXRNZW51XSBjbGlja0hhbmRsZXInKTtcblx0XHRpZihldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSBcImVkaXRCdXR0b25cIil7XG5cdFx0XHRiZWFuLmZpcmUodGhpcywgXCJlZGl0LWNsaWNrZWRcIik7XG5cdFx0XHR0aGlzLnRvZ2dsZVZpc2libGUoKTtcblx0XHR9ZWxzZXtcblx0XHRcdHZhciBhY3Rpb25FdmVudCA9IHt9O1xuICAgXHRcdFx0YWN0aW9uRXZlbnQudGFyZ2V0SWQgPSBldmVudC50YXJnZXQuaWQ7XG4gICBcdFx0XHRhY3Rpb25FdmVudC5lbGVtZW50SWQgPSB0aGlzLmVsZW1lbnRJZDtcblx0XHRcdGJlYW4uZmlyZSh0aGlzLCBcImFjdGlvbi1jbGlja2VkXCIsIGFjdGlvbkV2ZW50KTtcblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gRWRpdE1lbnU7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHR2YXIgRWRpdE1lbnUgPSByZXF1aXJlKCcuL0VkaXRNZW51Jyk7XG4gICAgdmFyIHpJbmRleENvdW50ZXIgPSAxO1xuXHR2YXIgUG9zdGl0ID0gcmVxdWlyZSgnLi9lbGVtZW50cy9Qb3N0aXQnKTtcblx0dmFyIFBpY3R1cmUgPSByZXF1aXJlKCcuL2VsZW1lbnRzL1BpY3R1cmUnKTtcblx0dmFyIE1vdGlvbiA9IHJlcXVpcmUoJy4vZWxlbWVudHMvTW90aW9uJyk7XG5cblx0ZnVuY3Rpb24gRWxlbWVudCgkZWwsZWxlbWVudFR5cGUscG9zaXRpb24sZWxlbWVudElkLGNvbnRlbnQpIHsgY29uc29sZS5sb2coJ1tFbGVtZW50XSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMuJGVsID0gJGVsO1xuXHRcdHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG5cdFx0dGhpcy5lbGVtZW50VHlwZSA9IGVsZW1lbnRUeXBlO1xuXHRcdHRoaXMuZWxlbWVudElkID0gZWxlbWVudElkO1xuXHRcdGlmKHRoaXMuZWxlbWVudElkKXtcblx0XHRcdHRoaXMuZWxlbWVudElkID0gZWxlbWVudElkO1xuXHRcdH1lbHNlIHtcblx0XHRcdHRoaXMuZWxlbWVudElkID0gdGhpcy5zZXRFbGVtZW50SWQoKTtcblx0XHR9XG5cdFx0dGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuXHRcdHRoaXMuY3JlYXRlRWxlbWVudEhvbGRlcigpO1xuXHR9XG5cblx0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudEhvbGRlciA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gY3JlYXRlRWxlbWVudEhvbGRlcicpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIjd2hpdGVib2FyZFwiKS5hcHBlbmQoXCI8c2VjdGlvbiBjbGFzcz0nZWxlbWVudC1ob2xkZXInPjwvc2VjdGlvbj5cIik7XG5cdFx0dGhpcy4kZWwuZmluZChcIi5lbGVtZW50LWhvbGRlcjpsYXN0LW9mLXR5cGVcIikuYXR0cignaWQnLCB0aGlzLmVsZW1lbnRJZCk7XG5cdFx0dmFyIHBvc2l0aW9uID0ge307XG5cdFx0cG9zaXRpb24udG9wID0gdGhpcy5wb3NpdGlvbi55UG9zO1xuXHRcdHBvc2l0aW9uLmxlZnQgPSB0aGlzLnBvc2l0aW9uLnhQb3M7XG5cdFx0cG9zaXRpb24uekluZGV4ID0gMDtcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKS5jc3MocG9zaXRpb24pO1xuXHRcdHRoaXMuY3JlYXRlRWRpdE1lbnUoKTtcblx0XHR0aGlzLmJpbmRIYW5kbGVyKHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpKTtcblx0XHR0aGlzLmNyZWF0ZUVsZW1lbnQoKTtcblx0fTtcblxuXHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tFbGVtZW50XSBjcmVhdGVFbGVtZW50Jyk7XG5cdFx0c3dpdGNoKHRoaXMuZWxlbWVudFR5cGUpIHtcblx0XHRcdGNhc2UgXCJwb3N0LWl0XCI6XG5cdFx0ICAgIFx0dGhpcy5lbGVtZW50ID0gbmV3IFBvc3RpdCh0aGlzLmNvbnRlbnQpO1xuXHRcdCAgICBcdGlmKHRoaXMuY29udGVudCl7XG5cdFx0ICAgIFx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKS5hcHBlbmQodGhpcy5lbGVtZW50LmNyZWF0ZVBvc3RpdCgpKTtcblx0XHQgICAgXHR9IGVsc2V7XG5cdFx0ICAgIFx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKS5hcHBlbmQodGhpcy5lbGVtZW50LmNyZWF0ZVBvc3RpdCgpKTtcblx0XHQgICAgXHRcdHRoaXMuZWxlbWVudC5lZGl0KHRoaXMuJGVsLCB0aGlzLmVsZW1lbnRJZCk7XG5cdFx0ICAgIFx0XHR0aGlzLmVkaXRNZW51LnRvZ2dsZVZpc2libGUoKTtcblx0XHQgICAgXHR9XG5cdFx0ICAgIFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkuYXBwZW5kKHRoaXMuZWxlbWVudC5jcmVhdGVQb3N0aXQpO1xuXHRcdCAgICAgICAgYnJlYWs7XG5cdFx0XHRjYXNlIFwic3RhdGljXCI6XG5cdFx0ICAgIFx0dGhpcy5lbGVtZW50ID0gbmV3IFBpY3R1cmUodGhpcy5jb250ZW50LCB0aGlzLmVsZW1lbnRJZCk7XG5cdFx0ICAgIFx0aWYodGhpcy5jb250ZW50KXtcblx0XHQgICAgXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmFwcGVuZCh0aGlzLmVsZW1lbnQuY3JlYXRlUGljdHVyZSgpKTtcblx0XHQgICAgXHRcdGJlYW4ub24odGhpcy5lbGVtZW50LCBcImltYWdlLWNoYW5nZWRcIiwgdGhpcy5pbWFnZUNoYW5nZWRIYW5kbGVyLmJpbmQodGhpcykpO1xuXHRcdCAgICBcdH0gZWxzZXtcblx0XHQgICAgXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmFwcGVuZCh0aGlzLmVsZW1lbnQuY3JlYXRlUGljdHVyZSgpKTtcblx0XHQgICAgXHRcdHRoaXMuZWxlbWVudC5lZGl0KHRoaXMuJGVsLCB0aGlzLmVsZW1lbnRJZCk7XG5cdFx0ICAgIFx0XHRiZWFuLm9uKHRoaXMuZWxlbWVudCwgXCJpbWFnZS1jaGFuZ2VkXCIsIHRoaXMuaW1hZ2VDaGFuZ2VkSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHQgICAgXHRcdHRoaXMuZWRpdE1lbnUudG9nZ2xlVmlzaWJsZSgpO1xuXHRcdCAgICBcdH1cblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdFx0Y2FzZSBcIm1vdGlvblwiOlxuXHRcdCAgICBcdHRoaXMuZWxlbWVudCA9IG5ldyBNb3Rpb24odGhpcy4kZWwsdGhpcy5jb250ZW50LCB0aGlzLmVsZW1lbnRJZCk7XG5cdFx0ICAgIFx0aWYodGhpcy5jb250ZW50KXtcblx0XHQgICAgXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmFwcGVuZCh0aGlzLmVsZW1lbnQuY3JlYXRlTW90aW9uKCkpO1xuXHRcdCAgICBcdFx0YmVhbi5vbih0aGlzLmVsZW1lbnQsIFwidmlkZW8tY2hhbmdlZFwiLCB0aGlzLnZpZGVvQ2hhbmdlZEhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdFx0ICAgIFx0fSBlbHNle1xuXHRcdCAgICBcdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkuYXBwZW5kKHRoaXMuZWxlbWVudC5jcmVhdGVNb3Rpb24oKSk7XG5cdFx0ICAgIFx0XHR0aGlzLmVsZW1lbnQuZWRpdCh0aGlzLiRlbCwgdGhpcy5lbGVtZW50SWQpO1xuXHRcdCAgICBcdFx0YmVhbi5vbih0aGlzLmVsZW1lbnQsIFwidmlkZW8tY2hhbmdlZFwiLCB0aGlzLnZpZGVvQ2hhbmdlZEhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdFx0ICAgIFx0XHR0aGlzLmVkaXRNZW51LnRvZ2dsZVZpc2libGUoKTtcblx0XHQgICAgXHR9XG5cdFx0ICAgIFx0dGhpcy5iaW5kSGFuZGxlcih0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKSk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHR9XG5cdH07XG5cblx0RWxlbWVudC5wcm90b3R5cGUuYmluZEhhbmRsZXIgPSBmdW5jdGlvbigkZWwpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIGJpbmRIYW5kbGVyJyk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkub24oJ21vdXNlZG93bicsIHRoaXMubW91c2Vkb3duSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHR0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuXHR9O1xuXG5cdEVsZW1lbnQucHJvdG90eXBlLnZpZGVvQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gdmlkZW9DaGFuZ2VkSGFuZGxlcicpO1xuXHRcdHZhciBhY3Rpb25FdmVudCA9IHt9O1xuXHRcdGFjdGlvbkV2ZW50LmNvbnRlbnQgPSBldmVudDtcblx0XHRhY3Rpb25FdmVudC5lbGVtZW50SWQgPSB0aGlzLmVsZW1lbnRJZDtcblx0XHRhY3Rpb25FdmVudC5lbGVtZW50VHlwZSA9IHRoaXMuZWxlbWVudFR5cGU7XG5cdFx0YmVhbi5maXJlKHRoaXMsIFwidmlkZW8tY2hhbmdlZFwiLCBhY3Rpb25FdmVudCk7XG5cdFx0dGhpcy5lZGl0TWVudS50b2dnbGVWaXNpYmxlKCk7XG5cdH07XG5cblx0RWxlbWVudC5wcm90b3R5cGUuaW1hZ2VDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tFbGVtZW50XSBpbWFnZUNoYW5nZWRIYW5kbGVyJyk7XG5cdFx0dmFyIGFjdGlvbkV2ZW50ID0ge307XG5cdFx0YWN0aW9uRXZlbnQuY29udGVudCA9IGV2ZW50O1xuXHRcdGFjdGlvbkV2ZW50LmVsZW1lbnRJZCA9IHRoaXMuZWxlbWVudElkO1xuXHRcdGFjdGlvbkV2ZW50LmVsZW1lbnRUeXBlID0gdGhpcy5lbGVtZW50VHlwZTtcblx0XHRiZWFuLmZpcmUodGhpcywgXCJpbWFnZS1jaGFuZ2VkXCIsIGFjdGlvbkV2ZW50KTtcblx0XHR0aGlzLmVkaXRNZW51LnRvZ2dsZVZpc2libGUoKTtcblx0fTtcblxuXHRFbGVtZW50LnByb3RvdHlwZS5tb3VzZWRvd25IYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIG1vdXNlZG93bkhhbmRsZXInKTtcblx0XHRpZihldmVudC50YXJnZXQuaWQgPT09IHRoaXMuZWxlbWVudElkKXtcbiAgICAgICAgXHR0aGlzLm1vdXNlRG93biA9IHRydWU7XG4gICAgICAgXHRcdHRoaXMuY3VycmVudExlZnQgPSAkKGV2ZW50LnRhcmdldCkuY3NzKCdsZWZ0Jyk7XG4gICAgICAgXHRcdHRoaXMuY3VycmVudFRvcCA9ICQoZXZlbnQudGFyZ2V0KS5jc3MoJ3RvcCcpO1xuICAgICAgICBcdHRoaXMuX21vdXNlTW92ZUhhbmRsZXIgPSB0aGlzLm1vdXNlTW92ZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICAgICAgXHR0aGlzLl9tb3VzZVVwSGFuZGxlciA9IHRoaXMubW91c2VVcEhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICAgICAgXHR0aGlzLm9mZnNldFggPSBldmVudC5vZmZzZXRYO1xuICAgICAgICBcdHRoaXMub2Zmc2V0WSA9IGV2ZW50Lm9mZnNldFk7XG4gICAgICAgIFx0Kyt6SW5kZXhDb3VudGVyO1xuICAgICAgICBcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQpLmNzcygnekluZGV4JywgekluZGV4Q291bnRlcik7XG4gICAgICAgIFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICAgICAgXHRkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9tb3VzZVVwSGFuZGxlcik7XG4gICAgICAgIH1cblx0fTtcblxuXHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFZGl0TWVudSA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gY3JlYXRlRWRpdE1lbnUnKTtcblx0XHR0aGlzLmVkaXRNZW51ID0gbmV3IEVkaXRNZW51KHRoaXMuJGVsLCB0aGlzLmVsZW1lbnRJZCk7XG5cdFx0YmVhbi5vbih0aGlzLmVkaXRNZW51LCBcImVkaXQtY2xpY2tlZFwiLCB0aGlzLmVkaXRDbGlja2VkSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHRiZWFuLm9uKHRoaXMuZWRpdE1lbnUsIFwiYWN0aW9uLWNsaWNrZWRcIiwgdGhpcy5hY3Rpb25DbGlja2VkSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRFbGVtZW50LnByb3RvdHlwZS5lZGl0Q2xpY2tlZEhhbmRsZXIgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRdIGVkaXRDbGlja2VkSGFuZGxlcicpO1xuXHRcdHRoaXMuZWxlbWVudC5lZGl0KHRoaXMuJGVsLCB0aGlzLmVsZW1lbnRJZCk7XG5cdH07XG5cblx0RWxlbWVudC5wcm90b3R5cGUuYWN0aW9uQ2xpY2tlZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gYWN0aW9uQ2xpY2tlZEhhbmRsZXInKTtcblx0XHRzd2l0Y2goZXZlbnQudGFyZ2V0SWQpIHtcblx0XHQgICAgY2FzZSBcInJlbW92ZVwiOiBjb25zb2xlLmxvZygncmVtb3ZlJyk7XG5cdFx0ICAgIFx0dGhpcy5lZGl0TWVudS50b2dnbGVWaXNpYmxlKCk7XG5cdFx0ICAgIFx0dGhpcy4kZWwuZmluZCgnIycrZXZlbnQuZWxlbWVudElkKS5yZW1vdmUoKTtcblx0XHQgICAgXHR2YXIgYWN0aW9uRXZlbnQgPSB7fTtcblx0XHQgICAgXHRhY3Rpb25FdmVudC5lbGVtZW50SWQgPSB0aGlzLmVsZW1lbnRJZDtcblx0XHQgICAgXHRhY3Rpb25FdmVudC5lbGVtZW50VHlwZSA9IHRoaXMuZWxlbWVudFR5cGU7XG5cdFx0ICAgIFx0YmVhbi5maXJlKHRoaXMsIFwicmVtb3ZlLWNsaWNrZWRcIiwgYWN0aW9uRXZlbnQpO1xuXHRcdCAgICBcdGNvbnNvbGUubG9nKGFjdGlvbkV2ZW50KTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwiZWRpdFwiOlxuXHRcdCAgICBcdHRoaXMuZWxlbWVudC5jb25maXJtKCk7XG5cdFx0ICAgIFx0dGhpcy5lZGl0TWVudS50b2dnbGVWaXNpYmxlKCk7XG5cdFx0ICAgIFx0aWYodGhpcy5lbGVtZW50LmNoYW5nZWQgPT09IHRydWUpe1xuXHRcdCAgICBcdFx0YWN0aW9uRXZlbnQgPSB7fTtcblx0XHQgICAgXHRcdGFjdGlvbkV2ZW50LmVsZW1lbnRUeXBlID0gdGhpcy5lbGVtZW50VHlwZTtcblx0XHQgICAgXHRcdGFjdGlvbkV2ZW50LmVsZW1lbnRJZCA9IHRoaXMuZWxlbWVudElkO1xuXHRcdCAgICBcdFx0YWN0aW9uRXZlbnQuY29udGVudCA9IHRoaXMuZWxlbWVudC50eHQ7XG5cdFx0ICAgIFx0XHRiZWFuLmZpcmUodGhpcywgXCJlZGl0LWNsaWNrZWRcIiwgYWN0aW9uRXZlbnQpO1xuXHRcdCAgICBcdH1cblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlIFwiY2FuY2VsXCI6XG5cdFx0ICAgIFx0dGhpcy5lbGVtZW50LmVuZEVkaXQoKTtcblx0XHQgICAgXHR0aGlzLmVkaXRNZW51LnRvZ2dsZVZpc2libGUoKTtcblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdH1cblx0fTtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1vdXNlTW92ZUhhbmRsZXIgPSBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coJ1tFbGVtZW50XSBtb3VzZW1vdmVIYW5kbGVyJyk7XG4gICAgICAgIGlmKHRoaXMubW91c2VEb3duID09PSB0cnVlKXtcbiAgICAgICAgICAgIHZhciBtb3VzZVggPSBwYXJzZUludChlLmNsaWVudFgpO1xuICAgICAgICAgICAgdmFyIG1vdXNlWSA9IHBhcnNlSW50KGUuY2xpZW50WSk7XG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkKS5jc3MoJ2xlZnQnLCBtb3VzZVggLSB0aGlzLm9mZnNldFgpO1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCkuY3NzKCd0b3AnLCBtb3VzZVkgLSB0aGlzLm9mZnNldFkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1vdXNlVXBIYW5kbGVyID0gZnVuY3Rpb24oZSl7IGNvbnNvbGUubG9nKCdbRWxlbWVudF0gbW91c2V1cEhhbmRsZXInKTtcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fbW91c2VVcEhhbmRsZXIpO1xuXG4gICAgICAgIGlmKHRoaXMuY3VycmVudFRvcCAhPT0gJChlLnRhcmdldCkuY3NzKCd0b3AnKSB8fCB0aGlzLmN1cnJlbnRMZWZ0ICE9PSAkKGUudGFyZ2V0KS5jc3MoJ2xlZnQnKSl7XG4gICAgICAgIFx0dmFyIGFjdGlvbkV2ZW50ID0ge307XG4gICAgICAgIFx0YWN0aW9uRXZlbnQuZVRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgICAgICBcdGFjdGlvbkV2ZW50LmVsZW1lbnRUeXBlID0gdGhpcy5lbGVtZW50VHlwZTtcbiAgICAgICAgXHRhY3Rpb25FdmVudC5lbGVtZW50SWQgPSB0aGlzLmVsZW1lbnRJZDtcbiAgICAgICAgXHRiZWFuLmZpcmUodGhpcywgXCJwb3NpdGlvbi1jaGFuZ2VkXCIsIGFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBFbGVtZW50LnByb3RvdHlwZS5zZXRFbGVtZW50SWQgPSBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coJ1tFbGVtZW50XSBzZXRFbGVtZW50SWQnKTtcbiAgICBcdHZhciBob2xkZXJzID0gdGhpcy4kZWwuZmluZChcIi5lbGVtZW50LWhvbGRlclwiKTtcbiAgICBcdGlmKGhvbGRlcnMubGVuZ3RoID4gMCl7XG4gICAgXHRcdHZhciBpZEhvbGRlciA9W107XG4gICAgXHRcdHZhciBpID0gMDtcblx0XHRcdGZvcihpID0gMDtpIDwgaG9sZGVycy5sZW5ndGg7IGkrKyApe1xuXHRcdFx0XHRpZEhvbGRlci5wdXNoKGhvbGRlcnNbaV0uaWQpO1xuXHRcdFx0fVxuXHRcdFx0aWRIb2xkZXIuc29ydChmdW5jdGlvbihhLCBiKXtyZXR1cm4gYi1hO30pO1xuXHRcdFx0cmV0dXJuIFN0cmluZyhOdW1iZXIoaWRIb2xkZXJbMF0pKzEpO1xuICAgIFx0fSBlbHNle1xuICAgIFx0XHRyZXR1cm4gXCIwXCI7XG4gICAgXHR9XG5cdH07XG5cblx0cmV0dXJuIEVsZW1lbnQ7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHRmdW5jdGlvbiBFbGVtZW50UGlja2VyKCRlbCkgeyBjb25zb2xlLmxvZygnW0VsZW1lbnRQaWNrZXJdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNlbGVtZW50LXBpY2tlci10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0XHR2YXIgY29udGV4dCA9IHtcblx0XHQgIGVsZW1lbnRzOiBbXHRcblx0XHQgIFx0XHRcdHtlbGVtZW50OiBcInBvc3QtaXRcIiwgbmFtZTogXCJwb3N0LWl0XCJ9LFxuXHRcdCAgXHRcdFx0e2VsZW1lbnQ6IFwic3RhdGljXCIsIG5hbWU6IFwiaW1hZ2VcIn0sXG5cdFx0ICBcdFx0XHR7ZWxlbWVudDogXCJtb3Rpb25cIiwgbmFtZTogXCJ2aWRlb1wifVxuICBcdFx0XHRcdF1cbiAgXHRcdFx0fTtcblx0XHRcdEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3BpY2tlcicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICB2YXIgZWxlbWVudCA9IEhhbmRsZWJhcnMuZXNjYXBlRXhwcmVzc2lvbih0aGlzLmVsZW1lbnQpLFxuXHRcdFx0ICAgICAgbmFtZSA9IEhhbmRsZWJhcnMuZXNjYXBlRXhwcmVzc2lvbih0aGlzLm5hbWUpO1xuXG5cdFx0XHQgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKFxuXHRcdFx0ICAgIFwiPGxpIGlkPVwiK2VsZW1lbnQrXCI+XCIrbmFtZStcIjwvbGk+XCJcblx0XHRcdCAgKTtcblx0XHRcdH0pO1xuXHRcdFxuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiN3aGl0ZWJvYXJkXCIpLmFwcGVuZCggJChodG1sKSApO1xuXHRcdHRoaXMudG9nZ2xlVmlzaWJsZSgpO1xuXHRcdHRoaXMuYmluZEhhbmRsZXIoKTtcblx0fVxuXG5cdEVsZW1lbnRQaWNrZXIucHJvdG90eXBlLnRvZ2dsZVZpc2libGUgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRQaWNrZXJdIHRvZ2dsZVZpc2libGUnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcjZWxlbWVudC1waWNrZXInKS50b2dnbGVDbGFzcyhcImhpZGRlblwiKTtcblx0fTtcblxuXHRFbGVtZW50UGlja2VyLnByb3RvdHlwZS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHhQb3MsIHlQb3MpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRQaWNrZXJdIHNldExvY2F0aW9uJyk7XG5cdFx0dmFyIHBvc2l0aW9uID0ge1xuXHRcdFx0dG9wIDogeVBvcyxcblx0XHRcdGxlZnQgOiB4UG9zXG5cdFx0fTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI2VsZW1lbnQtcGlja2VyXCIpLmNzcyhwb3NpdGlvbik7XG5cdH07XG5cblx0RWxlbWVudFBpY2tlci5wcm90b3R5cGUuYmluZEhhbmRsZXIgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW0VsZW1lbnRQaWNrZXJdIGJpbmRIYW5kbGVyJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnI2VsZW1lbnQtcGlja2VyID4gdWwgPiBsaScpLm9uKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcykpO1xuXHR9O1xuXG5cdEVsZW1lbnRQaWNrZXIucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tFbGVtZW50UGlja2VyXSBjbGlja0hhbmRsZXInKTtcblx0XHRiZWFuLmZpcmUodGhpcywgXCJlbGVtZW50LXBpY2tlci1jbGlja2VkXCIsIGV2ZW50LnRhcmdldC5pZCk7XG5cdH07XG5cblx0cmV0dXJuIEVsZW1lbnRQaWNrZXI7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblx0dmFyIEFwcCA9IHJlcXVpcmUoJy4vQXBwJyk7XG5cdHZhciBPdmVydmlld0VsZW1lbnQgPSByZXF1aXJlKCcuL092ZXJ2aWV3RWxlbWVudCcpO1xuXHR2YXIgT3ZlcnZpZXdIYW5kbGVyID0gcmVxdWlyZSgnLi9PdmVydmlld0hhbmRsZXInKTtcblxuXHRmdW5jdGlvbiBPdmVydmlldygkZWwsIHVzZXJJZCkgeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3XSBjb25zdHJ1Y3RvcicpO1xuXHR0aGlzLiRlbCA9ICRlbDtcblx0dGhpcy51c2VyID0gdXNlcklkO1xuXHR0aGlzLm92ZXJ2aWV3SGFuZGxlciA9IG5ldyBPdmVydmlld0hhbmRsZXIoKTtcblx0aWYodXNlcklkID4gMCl7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNvdmVydmlld0J0bnMtdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0JCgnI2NvbnRhaW5lcicpLmFwcGVuZChlbnRyeVRleHQpO1xuXHRcdCRlbC5maW5kKFwiLmFkZEJvYXJkXCIpLm9uKCdjbGljaycsIHRoaXMuYWRkQm9hcmQuYmluZCh0aGlzKSk7XG5cdFx0JGVsLmZpbmQoXCIubXlCb2FyZHNcIikub24oJ2NsaWNrJywgdGhpcy5teUJvYXJkcy5iaW5kKHRoaXMpKTtcblx0XHQkZWwuZmluZChcIi5hbGxCb2FyZHNcIikub24oJ2NsaWNrJywgdGhpcy5hbGxCb2FyZHMuYmluZCh0aGlzKSk7XG5cdH1cblxuXHR0aGlzLiRlbC5maW5kKFwiI3NlYXJjaFwiKS5vbigna2V5dXAnLCB0aGlzLnNlYXJjaFdoaXRlYm9hcmRzLmJpbmQodGhpcykpO1xuXHR0aGlzLiRlbC5maW5kKFwiI215U2VhcmNoXCIpLm9uKCdrZXl1cCcsIHRoaXMuc2VhcmNoTXlXaGl0ZWJvYXJkcy5iaW5kKHRoaXMpKTtcblxuXHRiZWFuLm9uKHRoaXMub3ZlcnZpZXdIYW5kbGVyLCBcImRhdGEtc3VjY2Vzc1wiLCB0aGlzLmFkZFRvQm9hcmRMaXN0LmJpbmQodGhpcykpO1xuXHRiZWFuLm9uKHRoaXMub3ZlcnZpZXdIYW5kbGVyLCBcInZpZXctd2hpdGVib2FyZFwiLCB0aGlzLnZpZXdXaGl0ZWJvYXJkLmJpbmQodGhpcykpO1xuXHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5nZXRBbGxCb2FyZHMoKTtcblx0fVxuXHRPdmVydmlldy5wcm90b3R5cGUuc2VhcmNoTXlXaGl0ZWJvYXJkcyA9IGZ1bmN0aW9uKGV2ZW50KSB7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXddIHNlYXJjaE15V2hpdGVib2FyZHMnKTtcblx0XHRpZihldmVudC50YXJnZXQudmFsdWUpe1xuXHRcdFx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5zZWFyY2hNeVdoaXRlYm9hcmRzKGV2ZW50LnRhcmdldC52YWx1ZSwgdGhpcy51c2VyKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5nZXRNeUJvYXJkcygpO1xuXHRcdFx0fVxuXHR9XG5cblx0T3ZlcnZpZXcucHJvdG90eXBlLnNlYXJjaFdoaXRlYm9hcmRzID0gZnVuY3Rpb24oZXZlbnQpIHsgY29uc29sZS5sb2coJ1tPdmVydmlld10gc2VhcmNoV2hpdGVib2FyZCcpO1xuXHRcdGlmKGV2ZW50LnRhcmdldC52YWx1ZSl7XG5cdFx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5zZWFyY2hCb2FyZChldmVudC50YXJnZXQudmFsdWUpO1xuXHRcdH1lbHNle1xuXHRcdFx0dGhpcy5vdmVydmlld0hhbmRsZXIuZ2V0QWxsQm9hcmRzKCk7XG5cdFx0fVxuXHR9XG5cblx0T3ZlcnZpZXcucHJvdG90eXBlLmFkZFRvQm9hcmRMaXN0ID0gZnVuY3Rpb24oZXZlbnQpIHsgY29uc29sZS5sb2coJ1tPdmVydmlld10gYWRkVG9Cb2FyZExpc3QnKTtcblx0XHR0aGlzLmJvYXJkTGlzdCA9IFtdO1xuXHRcdCQoJy5vdmVydmlld1RodW1iJykucmVtb3ZlKCk7XG5cdFx0dGhpcy5ib2FyZExpc3QucHVzaChldmVudCk7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgIHRoaXMuYm9hcmRMaXN0WzBdLmxlbmd0aDsgaSsrKSB7IFxuXHRcdFx0dGhpcy5vdmVydmlld0VsZW1lbnQgPSBuZXcgT3ZlcnZpZXdFbGVtZW50KHRoaXMuYm9hcmRMaXN0WzBdW2ldLCB0aGlzLnVzZXIpO1xuXHRcdFx0YmVhbi5vbih0aGlzLm92ZXJ2aWV3RWxlbWVudCwgXCJyZW1vdmUtd2hpdGVib2FyZFwiLCB0aGlzLnJlbW92ZVdoaXRlYm9hcmQuYmluZCh0aGlzKSk7XG5cdFx0XHRiZWFuLm9uKHRoaXMub3ZlcnZpZXdFbGVtZW50LCBcInZpZXctd2hpdGVib2FyZFwiLCB0aGlzLnZpZXdXaGl0ZWJvYXJkLmJpbmQodGhpcykpO1xuXHRcdH1cblx0fTtcblxuXHRPdmVydmlldy5wcm90b3R5cGUudmlld1doaXRlYm9hcmQgPSBmdW5jdGlvbihldmVudCkgeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3XSB2aWV3V2hpdGVib2FyZCcpO1xuXHRcdGJlYW4uZmlyZSh0aGlzLCAnbGVhay1ib2FyZERhdGEnLCBldmVudCk7XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdCQoXCIjY29udGFpbmVyXCIpLmh0bWwoXCJcIik7XG5cdFx0bmV3IEFwcCgkKCcjY29udGFpbmVyJyksIGV2ZW50LCB0aGlzLnVzZXIpO1xuXHRcdGJlYW4uZmlyZSh0aGlzLCAnbGVhay1ib2FyZERhdGEnLCBldmVudCk7XG5cdH07XG5cblx0T3ZlcnZpZXcucHJvdG90eXBlLmFkZEJvYXJkID0gZnVuY3Rpb24oZXZlbnQpIHsgY29uc29sZS5sb2coJ1tPdmVydmlld10gYWRkQm9hcmQnKTtcblx0XHRpZih0aGlzLnVzZXIpe1xuXHRcdFx0dGhpcy5vdmVydmlld0hhbmRsZXIuYWRkV2hpdGVib2FyZChcIlVudGl0bGVkXCIsIHRoaXMudXNlcik7XG5cdFx0fVxuXHR9O1xuXG5cdE92ZXJ2aWV3LnByb3RvdHlwZS5yZW1vdmVXaGl0ZWJvYXJkID0gZnVuY3Rpb24oZXZlbnQpIHsgY29uc29sZS5sb2coJ1tPdmVydmlld10gcmVtb3ZlV2hpdGVib2FyZCcpO1xuXHRcdHRoaXMub3ZlcnZpZXdIYW5kbGVyLnJlbW92ZUJvYXJkKGV2ZW50KTtcblx0XHR0aGlzLiRlbC5maW5kKCcjJytldmVudCkucmVtb3ZlKCk7XG5cdFx0Ly9vb2sgYWxsZSBwb3N0aXRzIHZlcndpamRlcmVuLi4uXG5cdH07XG5cdE92ZXJ2aWV3LnByb3RvdHlwZS5teUJvYXJkcyA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tPdmVydmlld10gbXlCb2FyZHMnKTtcblx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5nZXRNeUJvYXJkcyh0aGlzLnVzZXIpO1xuXHRcdGNvbnNvbGUubG9nKHRoaXMudXNlcik7XG5cdFx0dGhpcy50b2dnbGVWaXNpYmxlKGV2ZW50KTtcblx0XHR0aGlzLiRlbC5maW5kKCcuYWxsQm9hcmRzJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnI215U2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJyNzZWFyY2gnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdH1cblxuXHRPdmVydmlldy5wcm90b3R5cGUuYWxsQm9hcmRzID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3XSBhbGxCb2FyZHMnKTtcblx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5nZXRBbGxCb2FyZHMoKTtcblx0XHR0aGlzLnRvZ2dsZVZpc2libGUoZXZlbnQpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJy5teUJvYXJkcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJyNzZWFyY2gnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnI215U2VhcmNoJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHR9XG5cblx0T3ZlcnZpZXcucHJvdG90eXBlLnRvZ2dsZVZpc2libGUgPSBmdW5jdGlvbihldmVudCl7XG5cdFx0dGhpcy4kZWwuZmluZCgnLicrZXZlbnQudGFyZ2V0LmNsYXNzTGlzdFswXSkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cdH1cblxuXHRPdmVydmlldy5wcm90b3R5cGUuc2VhcmNoTXlXaGl0ZWJvYXJkcyA9IGZ1bmN0aW9uKGV2ZW50KSB7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXddIHNlYXJjaE15V2hpdGVib2FyZHMnKTtcblx0XHRpZihldmVudC50YXJnZXQudmFsdWUpe1xuXHRcdFx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5zZWFyY2hNeUJvYXJkKGV2ZW50LnRhcmdldC52YWx1ZSwgdGhpcy51c2VyKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5nZXRNeUJvYXJkcyh0aGlzLnVzZXIpO1xuXHRcdFx0fVxuXHR9XG5cblx0T3ZlcnZpZXcucHJvdG90eXBlLnNlYXJjaFdoaXRlYm9hcmRzID0gZnVuY3Rpb24oZXZlbnQpIHsgY29uc29sZS5sb2coJ1tPdmVydmlld10gc2VhcmNoV2hpdGVib2FyZCcpO1xuXHRcdGlmKGV2ZW50LnRhcmdldC52YWx1ZSl7XG5cdFx0XHR0aGlzLm92ZXJ2aWV3SGFuZGxlci5zZWFyY2hCb2FyZChldmVudC50YXJnZXQudmFsdWUpO1xuXHRcdH1lbHNle1xuXHRcdFx0dGhpcy5vdmVydmlld0hhbmRsZXIuZ2V0QWxsQm9hcmRzKCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIE92ZXJ2aWV3O1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdHZhciBBcHAgPSByZXF1aXJlKCcuL0FwcCcpO1xuXG5cdGZ1bmN0aW9uIE92ZXJ2aWV3RWxlbWVudChib2FyZCwgdXNlcklkKSB7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXdFbGVtZW50XSBjb25zdHJ1Y3RvcicpO1xuXHR0aGlzLmJvYXJkID0gYm9hcmQ7XG5cdHRoaXMuYm9hcmRJZCA9IGJvYXJkLmlkO1xuXHR0aGlzLnVzZXJJZCA9IHVzZXJJZDtcblx0dGhpcy5jcmVhdGVPdmVydmlld1RodW1iKGJvYXJkKTtcblx0fVxuXG5cdE92ZXJ2aWV3RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlT3ZlcnZpZXdUaHVtYiA9IGZ1bmN0aW9uKGJvYXJkKSB7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXdFbGVtZW50XSBjcmVhdGVPdmVydmlld1RodW1iJyk7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNvdmVydmlld1RodW1iLXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge307XG5cdFx0Y29udGV4dC50aXRsZSA9IGJvYXJkLnRpdGxlO1xuXHRcdGNvbnRleHQuaWQgPSBib2FyZC5pZDtcblx0XHRjb250ZXh0LmNyZWF0b3IgPSBcIkNSRUFUT1JcIjtcblx0XHRjb250ZXh0LmNyZWF0aW9uX2RhdGUgPSBib2FyZC5jcmVhdGlvbl9kYXRlO1x0XHRcdFxuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0JCgnI2NvbnRhaW5lcicpLmFwcGVuZCgkKGh0bWwpKTtcblx0XHR0aGlzLmJpbmRIYW5kbGVyKGJvYXJkLCAkKGh0bWwpWzBdKTtcblx0fTtcblxuXHRPdmVydmlld0VsZW1lbnQucHJvdG90eXBlLmJpbmRIYW5kbGVyID0gZnVuY3Rpb24oYm9hcmQsIGVsKXsgY29uc29sZS5sb2coJ1tPdmVydmlld0VsZW1lbnRdIGJpbmRIYW5kbGVyJyk7XG5cdFx0aWYoYm9hcmQuY3JlYXRvciA9PSAgdGhpcy51c2VySWQpe1xuXHRcdFx0JChcIiNcIitib2FyZC5pZCArXCIgPiAucmVtb3ZlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXHRcdFx0JChcIiNcIitib2FyZC5pZCAgK1wiID4gLnJlbW92ZVwiKS5vbignY2xpY2snLCB0aGlzLnJlbW92ZUhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdFx0fVxuXHRcdCQoXCIjXCIrYm9hcmQuaWQgICtcIiA+IC52aWV3XCIpLm9uKCdjbGljaycsIHRoaXMudmlld0hhbmRsZXIuYmluZCh0aGlzKSk7XG5cdH07XG5cblx0T3ZlcnZpZXdFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3RWxlbWVudF0gcmVtb3ZlSGFuZGxlcicpO1xuXHRcdGJlYW4uZmlyZSh0aGlzLCAncmVtb3ZlLXdoaXRlYm9hcmQnLCB0aGlzLmJvYXJkSWQpO1xuXHR9O1xuXG5cdE92ZXJ2aWV3RWxlbWVudC5wcm90b3R5cGUudmlld0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXdFbGVtZW50XSB2aWV3SGFuZGxlcicpO1xuXHRcdGJlYW4uZmlyZSh0aGlzLCAndmlldy13aGl0ZWJvYXJkJywgdGhpcy5ib2FyZCk7XG5cdH07XG5cblx0XG5cblx0cmV0dXJuIE92ZXJ2aWV3RWxlbWVudDtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHRmdW5jdGlvbiBPdmVydmlld0hhbmRsZXIoKSB7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXdIYW5kbGVyXSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMudXJsID0gXCJodHRwOi8vbG9jYWxob3N0L3doaXRlYm9hcmRfMi9hcGkvaW5kZXgucGhwL1wiO1xuXHR9XG5cdFxuXHRPdmVydmlld0hhbmRsZXIucHJvdG90eXBlLmdldEFsbEJvYXJkcyA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbT3ZlcnZpZXdIYW5kbGVyXSBnZXRBbGxCb2FyZHMnKTtcblx0XHRyZXR1cm4gJC5hamF4KHtcblx0XHQgIFx0dHlwZTogXCJHRVRcIixcblx0XHQgIFx0dXJsOiB0aGlzLnVybCsnYm9hcmRzLycsXG5cdFx0ICBcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHRcdCAgXHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0XHQgIFx0XHRjb25zb2xlLmxvZyhcInZpZXctd2hpdGVib2FyZCBcIitbZGF0YV0pO1xuXHQgIFx0XHRcdGJlYW4uZmlyZSh0aGlzLCBcImRhdGEtc3VjY2Vzc1wiLCBbZGF0YV0pO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblxuXHRPdmVydmlld0hhbmRsZXIucHJvdG90eXBlLmdldE15Qm9hcmRzID0gZnVuY3Rpb24odXNlcmlkKXsgY29uc29sZS5sb2coJ1tPdmVydmlld0hhbmRsZXJdIGdldE15Qm9hcmRzJyk7XG5cdFx0cmV0dXJuICQuYWpheCh7XG5cdFx0ICBcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ICBcdHVybDogdGhpcy51cmwrJ2JvYXJkcy8nK3VzZXJpZCxcblx0XHQgIFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdFx0ICBcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHQgIFx0XHRcdGJlYW4uZmlyZSh0aGlzLCBcImRhdGEtc3VjY2Vzc1wiLCBbZGF0YV0pO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblxuXHRPdmVydmlld0hhbmRsZXIucHJvdG90eXBlLnJlbW92ZUJvYXJkID0gZnVuY3Rpb24oaWQpeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3SGFuZGxlcl0gcmVtb3ZlQm9hcmQnKTtcblx0XHQkLmFqYXgoe1xuXHQgIFx0XHR0eXBlOiBcIkdFVFwiLFxuXHQgIFx0XHR1cmw6IHRoaXMudXJsKydib2FyZHMvJysnZGVsZXRlLycraWQsXG5cdCAgXHRcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHQgIFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0ICBcdFx0XHRjb25zb2xlLmxvZyhcImRlbGV0ZWQgPSBcIitkYXRhKTtcblx0ICBcdFx0fVxuXHRcdH0pO1xuXHR9O1xuXG5cdE92ZXJ2aWV3SGFuZGxlci5wcm90b3R5cGUuYWRkV2hpdGVib2FyZCA9IGZ1bmN0aW9uKHRpdGxlLCBjcmVhdG9ySWQpe1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHQgIFx0XHR0eXBlOiBcIlBPU1RcIixcblx0ICBcdFx0dXJsOiB0aGlzLnVybCsnYm9hcmRzLycrJ2FkZC8nK3RpdGxlKycvJytjcmVhdG9ySWQsXG5cdFx0ICBcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHQgIFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG5cdCAgXHRcdFx0Y29uc29sZS5sb2coXCJ2aWV3LXdoaXRlYm9hcmQgXCIrW2RhdGFdKTtcblx0ICBcdFx0XHRiZWFuLmZpcmUodGhpcywgXCJ2aWV3LXdoaXRlYm9hcmRcIiwgW2RhdGFdKTtcblx0ICBcdFx0fS5iaW5kKHRoaXMpXG5cdFx0fSk7XG5cdH1cblxuXG5cdE92ZXJ2aWV3SGFuZGxlci5wcm90b3R5cGUuc2VhcmNoQm9hcmQgPSBmdW5jdGlvbihwYXJhbSl7XG5cdFx0cmV0dXJuICQuYWpheCh7XG5cdCAgXHRcdHR5cGU6IFwiR0VUXCIsXG5cdCAgXHRcdHVybDogdGhpcy51cmwrJ3NlYXJjaC8nK3BhcmFtLFxuXHRcdCAgXHRkYXRhOiB7Y29udGVudDogJ2NvbnRlbnQnfSxcblx0ICBcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuXHQgIFx0XHRcdGNvbnNvbGUubG9nKFwic2VhcmNoLXdoaXRlYm9hcmQgXCIrW2RhdGFdKTtcblx0ICBcdFx0XHRiZWFuLmZpcmUodGhpcywgXCJkYXRhLXN1Y2Nlc3NcIiwgW2RhdGFdKTtcblx0ICBcdFx0fS5iaW5kKHRoaXMpXG5cdFx0fSk7XG5cdH1cblxuXG5cdE92ZXJ2aWV3SGFuZGxlci5wcm90b3R5cGUuc2VhcmNoTXlCb2FyZCA9IGZ1bmN0aW9uKHBhcmFtLCBjcmVhdG9yKXtcblx0XHRyZXR1cm4gJC5hamF4KHtcblx0ICBcdFx0dHlwZTogXCJHRVRcIixcblx0ICBcdFx0dXJsOiB0aGlzLnVybCsnbXlTZWFyY2gvJytwYXJhbSsnLycrY3JlYXRvcixcblx0XHQgIFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdCAgXHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcblx0ICBcdFx0XHRjb25zb2xlLmxvZyhcInNlYXJjaC13aGl0ZWJvYXJkIFwiK1tkYXRhXSk7XG5cdCAgXHRcdFx0YmVhbi5maXJlKHRoaXMsIFwiZGF0YS1zdWNjZXNzXCIsIFtkYXRhXSk7XG5cdCAgXHRcdH0uYmluZCh0aGlzKVxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIE92ZXJ2aWV3SGFuZGxlcjtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHR2YXIgV2hpdGVib2FyZFNldHRpbmdzSGFuZGxlciA9IHJlcXVpcmUoJy4vV2hpdGVib2FyZFNldHRpbmdzSGFuZGxlcicpO1xuXHRmdW5jdGlvbiBQYXJ0aWNpcGFudCgkZWwsIGJvYXJkSWQsIHBhcnRpY2lwYW50LCBhZG1pbil7IGNvbnNvbGUubG9nKCdbUGFydGljaXBhbnRdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy5ib2FyZElkID0gYm9hcmRJZDtcblx0XHR0aGlzLmFkbWluXHQ9IGFkbWluXG5cdFx0XG5cdFx0dGhpcy53aGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyID0gbmV3IFdoaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXIoKTtcblx0XHR0aGlzLndoaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXIuZ2V0UGFydGljaXBhbnRCeUlkKHBhcnRpY2lwYW50LnVzZXJfaWQpO1xuXHRcdGJlYW4ub24odGhpcy53aGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLCAncGFydGljaXBhbnQnLCB0aGlzLmNyZWF0ZVBhcnRpY2lwYW50LmJpbmQodGhpcykpO1xuXHR9XG5cblx0UGFydGljaXBhbnQucHJvdG90eXBlLmNyZWF0ZVBhcnRpY2lwYW50ID0gZnVuY3Rpb24ocGFydGljaXBhbnQpeyBjb25zb2xlLmxvZygnW1BhcnRpY2lwYW50XSBjcmVhdGVQYXJ0aWNpcGFudCcpO1xuXHRcdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNwYXJ0aWNpcGFudC10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdCBcdHZhciBjb250ZXh0ID0geyBwYXJ0aWNpcGFudHM6IFt7fV19O1xuXHRcdFx0aWYodGhpcy5hZG1pbil7XG5cdFx0XHRcdEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3BhcnRpY2lwYW50JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAgcmV0dXJuIG5ldyBIYW5kbGViYXJzLlNhZmVTdHJpbmcoXG5cdFx0XHRcdCAgICBcIjxsaT5cIitwYXJ0aWNpcGFudC53Yl91c2VybmFtZStcIjxidXR0b24gaWQ9J1wiK3BhcnRpY2lwYW50LmlkK1wiJycgY2xhc3M9J2J0biBkZWxldGVQYXJ0Jz5YPC9idXR0b24+PC9saT5cIlxuXHRcdFx0XHQgICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcblx0XHRcdHRoaXMuJGVsLmZpbmQoXCIjcGFydGljaXBhbnQtbGlzdFwiKS5hcHBlbmQoJChodG1sKSk7XG5cdFx0XHR0aGlzLmJpbmREZWxldGVidXR0b24oKTtcblx0XHR9ZWxzZXtcblx0XHRcdFx0SGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigncGFydGljaXBhbnQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhcblx0XHRcdFx0ICAgIFwiPGxpPlwiK3BhcnRpY2lwYW50LndiX3VzZXJuYW1lK1wiPC9saT5cIlxuXHRcdFx0XHQgICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcblx0XHRcdHRoaXMuJGVsLmZpbmQoXCIjcGFydGljaXBhbnQtbGlzdFwiKS5hcHBlbmQoJChodG1sKSk7XG5cdFx0fVxuXHR9XG5cblx0UGFydGljaXBhbnQucHJvdG90eXBlLmJpbmREZWxldGVidXR0b24gPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1BhcnRpY2lwYW50XSBiaW5kRGVsZXRlYnV0dG9uJyk7XG5cdFx0dGhpcy5kZWxldGVidXRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWxldGVQYXJ0Jyk7XG5cdFx0dGhpcy5kZWxldGVidXRvblt0aGlzLmRlbGV0ZWJ1dG9uLmxlbmd0aC0xXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZGVsZXRlQ2xpY2tIYW5kbGVyLmJpbmQodGhpcykpO1xuXHR9O1xuXG5cdFBhcnRpY2lwYW50LnByb3RvdHlwZS5kZWxldGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKFwiW1BhcnRpY2lwYW50XSBkZWxldGVDbGlja0hhbmRsZXJcIik7XG5cdFx0YmVhbi5maXJlKHRoaXMsIFwiZGVsZXRlXCIsIGV2ZW50LnBhdGhbMV0pO1xuXHRcdGNvbnNvbGUubG9nKHRoaXMuYm9hcmRJZCtcIiBcIitldmVudC50YXJnZXQuaWQpO1xuXHRcdHRoaXMud2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5kZWxldGVQYXJ0QnlJZCh0aGlzLmJvYXJkSWQsIGV2ZW50LnRhcmdldC5pZCk7XG5cdH07XG5cblx0cmV0dXJuIFBhcnRpY2lwYW50O1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdHZhciBVc2VySGFuZGxlciA9IHJlcXVpcmUoJy4vVXNlckhhbmRsZXInKTtcblxuXHRmdW5jdGlvbiBQcm9maWxlKCRlbCwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCkgeyBjb25zb2xlLmxvZygnW1Byb2ZpbGVdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy51c2VyID0gIFtdO1xuXHRcdHRoaXMudXNlckhhbmRsZXIgPSBuZXcgVXNlckhhbmRsZXIoKTtcblx0XHRcdFxuXHRcdC8vTE9HSU4tVEVNUExBVEVcblx0XHR0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG5cdFx0dGhpcy5lbWFpbCA9IGVtYWlsO1xuXHRcdHZhciBlbnRyeVRleHQgPSAkKCcjbG9naW4tdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0dmFyIGNvbnRleHQgPSB7fTtcblx0XHQvL2NvbnRleHQudXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lO1xuXHRcdC8vY29udGV4dC5lbWFpbCA9IHRoaXMuZW1haWw7XG5cdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcblx0XHQkKCcjcHJvZmlsZScpLmFwcGVuZCgkKGh0bWwpKTtcblxuXHRcdC8vUkVHSVNURVItVEVNUExBVEVcblx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI3JlZ2lzdGVyLXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge307XG5cdFx0Ly9jb250ZXh0LnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTtcblx0XHQvL2NvbnRleHQuZW1haWwgPSB0aGlzLmVtYWlsO1xuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0JCgnI3Byb2ZpbGUnKS5hcHBlbmQoJChodG1sKSk7XG5cblx0XHR0aGlzLiRlbC5maW5kKFwiI3JlZ2lzdGVyLWJ1dHRvblwiKS5vbignY2xpY2snLCB0aGlzLnJlZ2lzdGVyLmJpbmQodGhpcykpO1xuXHRcdCQoJy5yZWdpc3RlcicpLm9uKFwiY2xpY2tcIiwgdGhpcy5hZGRVc2VyLmJpbmQodGhpcykpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIubG9naW5cIikub24oJ2NsaWNrJywgdGhpcy5sb2dpbi5iaW5kKHRoaXMpKTtcblx0XHRiZWFuLm9uKHRoaXMudXNlckhhbmRsZXIsIFwidXNlci1mb3VuZFwiLCB0aGlzLmJpbmRVc2VyLmJpbmQodGhpcykpO1xuXHR9XG5cblx0UHJvZmlsZS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1tQcm9maWxlXSByZWdpc3RlcicpO1xuXHRcdCQoXCIjcmVnaXN0ZXJcIikudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHR9O1xuXG5cdFByb2ZpbGUucHJvdG90eXBlLmFkZFVzZXIgPSBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1tQcm9maWxlXSBhZGRVc2VyJyk7XG5cdFx0dGhpcy51c2VybmFtZSA9IHRoaXMuJGVsLmZpbmQoJy5yZWdpc3Rlcl9uYW1lJykudmFsKCk7XG5cdFx0dGhpcy5lbWFpbCA9IHRoaXMuJGVsLmZpbmQoJy5yZWdpc3Rlcl9lbWFpbCcpLnZhbCgpO1xuXHRcdHRoaXMucGFzc3dvcmQgPSB0aGlzLiRlbC5maW5kKCcucmVnaXN0ZXJfcGFzc3dvcmQnKS52YWwoKTtcblx0XHR0aGlzLnBhc3N3b3JkXzIgPSB0aGlzLiRlbC5maW5kKCcucmVnaXN0ZXJfcGFzc3dvcmRfMicpLnZhbCgpO1xuXG5cdFx0aWYodGhpcy5wYXNzd29yZD09dGhpcy5wYXNzd29yZF8yKXtcblx0XHRcdC8vZXhpc3RpbmcgdXNlciBub2cgY2hlY2tlbiFcblx0XHRcdHRoaXMudXNlckhhbmRsZXIucmVnaXN0ZXIodGhpcy51c2VybmFtZSwgdGhpcy5lbWFpbCwgdGhpcy5wYXNzd29yZCk7XG5cdFx0fVxuXHR9O1xuXG5cdFByb2ZpbGUucHJvdG90eXBlLmxvZ2luID0gZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdbUHJvZmlsZV0gbG9naW4nKTtcblx0XHR0aGlzLmVtYWlsID0gdGhpcy4kZWwuZmluZCgnLmxvZ2luX2VtYWlsJykudmFsKCk7XG5cdFx0dGhpcy5wYXNzd29yZCA9IHRoaXMuJGVsLmZpbmQoJy5sb2dpbl9wYXNzd29yZCcpLnZhbCgpO1xuXHRcdHRoaXMudXNlckhhbmRsZXIubG9naW4odGhpcy5lbWFpbCwgdGhpcy5wYXNzd29yZCk7XG5cdH07XG5cblx0UHJvZmlsZS5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdbUHJvZmlsZV0gbG9nb3V0Jyk7XG5cdFx0dGhpcy51c2VyID0gW107XG5cdFx0dGhpcy50b2dnbGVWaXNpYmxlKCk7XG5cdFx0JChcIiNyZWdpc3Rlci1idXR0b25cIikucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdCQoXCIjbG9nb3V0XCIpLnJlbW92ZSgpO1xuXHRcdC8vaHVpZGlnZSBzaXR1YXRlIHJlZnJlc2hlbi5cblx0XHRiZWFuLmZpcmUodGhpcywgXCJyZWZyZXNoXCIsIHRoaXMudXNlcik7XG5cdH07XG5cblx0UHJvZmlsZS5wcm90b3R5cGUuYmluZFVzZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbUHJvZmlsZV0gYmluZFVzZXInKTtcblx0XHR0aGlzLnVzZXIgPSBbZXZlbnRdO1xuXHRcdGlmKHRoaXMudXNlclswXSl7XG5cdFx0XHQkKCdpbnB1dCcpLnZhbChcIlwiKTtcblx0XHRcdCQoXCIjcmVnaXN0ZXItYnV0dG9uXCIpLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0XHRcdCQoXCIjcmVnaXN0ZXJcIikuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0dGhpcy50b2dnbGVWaXNpYmxlKCk7XG5cdFx0XHRiZWFuLmZpcmUodGhpcywgXCJyZWZyZXNoXCIsIHRoaXMudXNlcik7XG5cblx0XHRcdC8vTE9HR0VELUlOLVRFTVBMQVRFXG5cdFx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI2xvZ2dlZC1pbi10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdFx0dmFyIGNvbnRleHQgPSB7fTtcblx0XHRcdGNvbnRleHQudXNlcm5hbWUgPSB0aGlzLnVzZXJbMF0ud2JfdXNlcm5hbWU7XG5cdFx0XHR2YXIgaHRtbCA9IHRlbXBsYXRlKGNvbnRleHQpO1xuXHRcdFx0JCgnI3Byb2ZpbGUnKS5hcHBlbmQoJChodG1sKSk7XG5cdFx0XHQkKFwiLmxvZ291dFwiKS5vbignY2xpY2snLCB0aGlzLmxvZ291dC5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH1cblxuXHRQcm9maWxlLnByb3RvdHlwZS50b2dnbGVWaXNpYmxlID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tQcm9maWxlXSB0b2dnbGVWaXNpYmxlJyk7XG5cdFx0JChcIiNsb2dpblwiKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdH07XG5cblx0cmV0dXJuIFByb2ZpbGU7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblx0dmFyIFdoaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXIgPSByZXF1aXJlKCcuL1doaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXInKTtcblxuXHRmdW5jdGlvbiBUYWdzKCRlbCwgYm9hcmRJZCl7IGNvbnNvbGUubG9nKCdbVGFnc10gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR2YXIgaW5wdXQgPSAkZWwuZmluZCgnLnRhZy1pbnB1dCcpO1xuXHRcdGlmKGlucHV0LnZhbCgpKXtcblxuXHRcdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyN0YWdzLXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdCBcdFx0dmFyIGNvbnRleHQgPSB7IHRhZ3M6IFt7fV19O1xuXHRcdFx0XHRIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCd0YWcnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhcblx0XHRcdFx0ICAgIFwiPGxpPlwiK2lucHV0LnZhbCgpK1wiPGJ1dHRvbiBjbGFzcz0nYnRuIGRlbGV0ZVRhZyc+WDwvYnV0dG9uPjwvbGk+XCJcblx0XHRcdFx0ICApO1xuXHRcdFx0XHR9KTtcblx0XHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0XHR0aGlzLiRlbC5maW5kKFwiI3RhZy1saXN0XCIpLmFwcGVuZCgkKGh0bWwpKTtcblx0XHRcdHRoaXMuYmluZEhhbmRsZXIoaW5wdXQudmFsKCkpO1xuXHRcdFx0dGhpcy53aGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyID0gbmV3IFdoaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXIoKTtcblx0XHRcdHRoaXMud2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5hZGRUYWcoaW5wdXQudmFsKCksIGJvYXJkSWQpO1xuXHRcdFx0aW5wdXQudmFsKFwiXCIpO1xuXHRcdH1cblx0fVxuXG5cdFRhZ3MucHJvdG90eXBlLmJpbmRIYW5kbGVyID0gZnVuY3Rpb24oY29udGVudCl7IGNvbnNvbGUubG9nKCdbVGFnc10gYmluZEhhbmRsZXInKTtcblx0XHR0aGlzLmRlbGV0ZWJ1dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZVRhZycpO1xuXHRcdHRoaXMuZGVsZXRlYnV0b25bdGhpcy5kZWxldGVidXRvbi5sZW5ndGgtMV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRlbGV0ZUNsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRUYWdzLnByb3RvdHlwZS5kZWxldGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKFwiW1BhcnRpY2lwYW50XSBkZWxldGVDbGlja0hhbmRsZXJcIik7XG5cdFx0YmVhbi5maXJlKHRoaXMsIFwiZGVsZXRlXCIsIGV2ZW50LnBhdGhbMV0pO1xuXHR9O1xuXG5cdHJldHVybiBUYWdzO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdGZ1bmN0aW9uIFVzZXJIYW5kbGVyKCkgeyBjb25zb2xlLmxvZygnW092ZXJ2aWV3SGFuZGxlcl0gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLnVybCA9IFwiaHR0cDovL2xvY2FsaG9zdC93aGl0ZWJvYXJkXzIvYXBpL2luZGV4LnBocC9cIjtcblx0fVxuXG5cdFVzZXJIYW5kbGVyLnByb3RvdHlwZS5sb2dpbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7IGNvbnNvbGUubG9nKCdbVXNlckhhbmRsZXJdIGxvZ2luJyk7XG5cdFx0JC5hamF4KHtcblx0ICBcdFx0dHlwZTogXCJQT1NUXCIsXG5cdCAgXHRcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHQgIFx0XHR1cmw6IHRoaXMudXJsK1widXNlcnNcIisnL2xvZ2luLycrZW1haWwrXCIvXCIrcGFzc3dvcmQsXG5cdCAgXHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHQgIFx0XHRcdGNvbnNvbGUubG9nKFwidXNlciBmb3VuZFwiLCBbZGF0YV0pO1xuXHQgIFx0XHRcdGJlYW4uZmlyZSh0aGlzLCBcInVzZXItZm91bmRcIiwgW2RhdGFdKTtcblx0ICBcdFx0fS5iaW5kKHRoaXMpXG5cdFx0fSk7XG5cdH07XG5cblx0VXNlckhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24odXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCl7IGNvbnNvbGUubG9nKCdbVXNlckhhbmRsZXJdIHJlZ2lzdGVyJyk7XG5cdFx0XHQkLmFqYXgoe1xuXHRcdCAgXHRcdHR5cGU6IFwiUE9TVFwiLFxuXHRcdCAgXHRcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHRcdCAgXHRcdHVybDogdGhpcy51cmwrXCJ1c2Vyc1wiK1wiL3JlZ2lzdGVyL1wiK3VzZXJuYW1lK1wiL1wiK2VtYWlsK1wiL1wiK3Bhc3N3b3JkLFxuXHRcdCAgXHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdCAgXHRcdFx0Y29uc29sZS5sb2coXCJuZXcgdXNlciBjcmVhdGVkXCIsIFtkYXRhXSk7XG5cdFx0ICBcdFx0XHRiZWFuLmZpcmUodGhpcywgXCJ1c2VyLWZvdW5kXCIsIFtkYXRhXSk7XG5cdFx0ICBcdFx0fS5iaW5kKHRoaXMpXG5cdFx0XHR9KTtcblx0XHR9O1xuXHRyZXR1cm4gVXNlckhhbmRsZXI7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHR2YXIgV2hpdGVib2FyZFNldHRpbmdzID0gcmVxdWlyZSAoJy4vV2hpdGVib2FyZFNldHRpbmdzJyk7XG5cblx0ZnVuY3Rpb24gV2hpdGVib2FyZCgkZWwsIGJvYXJkSW5mbywgYWRtaW4pIHsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkXSBjb25zdHJ1Y3RvcicpO1xuXHRcdHRoaXMuJGVsID0gJGVsO1xuXHRcdHRoaXMuYWRtaW4gPSBhZG1pbjtcblx0XHR0aGlzLmJvYXJkSW5mbyA9IGJvYXJkSW5mbztcblx0XHR0aGlzLmNyZWF0ZVdoaXRlYm9hcmQoKTtcblx0XHR0aGlzLmFkZFdoaXRlYm9hcmRTZXR0aW5ncygpO1xuXHR9XG5cblx0V2hpdGVib2FyZC5wcm90b3R5cGUuY3JlYXRlV2hpdGVib2FyZCA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZF0gY3JlYXRlV2hpdGVib2FyZCcpO1xuXHRcdHRoaXMuYm9hcmQgPSB0aGlzLiRlbC5hcHBlbmQoXCI8ZGl2IGlkPSd3aGl0ZWJvYXJkJz48L2Rpdj5cIik7XG5cdFx0dGhpcy5iaW5kSGFuZGxlcigpO1xuXHR9O1xuXG5cdFdoaXRlYm9hcmQucHJvdG90eXBlLmJpbmRIYW5kbGVyID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkXSBiaW5kSGFuZGxlcicpO1xuXHRcdHRoaXMuYm9hcmQub24oJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIuYmluZCh0aGlzKSk7XG5cdH07XG5cblx0V2hpdGVib2FyZC5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRdIGNsaWNrSGFuZGxlcicpO1xuXHRcdHZhciB4UG9zID0gZXZlbnQucGFnZVggLSB0aGlzLiRlbC5vZmZzZXQoKS5sZWZ0O1xuICAgXHRcdHZhciB5UG9zID0gZXZlbnQucGFnZVkgLSB0aGlzLiRlbC5vZmZzZXQoKS50b3A7XG4gICBcdFx0dmFyIHBvc2l0aW9uID0ge307XG4gICBcdFx0cG9zaXRpb24ueFBvcyA9IHhQb3M7XG4gICBcdFx0cG9zaXRpb24ueVBvcyA9IHlQb3M7XG5cdFx0aWYoZXZlbnQudGFyZ2V0LmlkID09PSBcIndoaXRlYm9hcmRcIil7XG5cdFx0XHRiZWFuLmZpcmUodGhpcywgXCJ3aGl0ZWJvYXJkLWNsaWNrZWRcIiwgcG9zaXRpb24pO1xuXHRcdH1cblx0fTtcblxuXHRXaGl0ZWJvYXJkLnByb3RvdHlwZS5hZGRXaGl0ZWJvYXJkU2V0dGluZ3MgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRdIGFkZFdoaXRlYm9hcmRTZXR0aW5ncycpO1xuXHRcdHRoaXMud2hpdGVib2FyZFNldHRpbmdzID0gbmV3IFdoaXRlYm9hcmRTZXR0aW5ncyh0aGlzLiRlbCwgdGhpcy5hZG1pbiwgdGhpcy5ib2FyZEluZm8pO1xuXHR9O1xuXG5cdHJldHVybiBXaGl0ZWJvYXJkO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cdHZhciBQYXJ0aWNpcGFudCA9IHJlcXVpcmUgKCcuL1BhcnRpY2lwYW50Jyk7XG5cdHZhciBUYWdzID0gcmVxdWlyZSgnLi9UYWdzJyk7XG5cdHZhciBXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyID0gcmVxdWlyZSgnLi9XaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyJyk7XG5cblx0ZnVuY3Rpb24gV2hpdGVib2FyZFNldHRpbmdzKCRlbCwgYWRtaW4sIGJvYXJkSW5mbyx1c2VySWQpIHsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy5hZG1pbiA9IGFkbWluO1xuXHRcdHRoaXMuYm9hcmRJbmZvID0gYm9hcmRJbmZvO1xuXHRcdHRoaXMud2hpdGVib2FyZFNldHRpbmdzSGFuZGxlciA9IG5ldyBXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyKCk7XG5cblx0XHRpZih0aGlzLmFkbWluKXtcblx0XHRcdHZhciBlbnRyeVRleHQgPSAkKCcjc2V0dGluZ3MtdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0fVxuXHRcdGVsc2V7XG5cdFx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI2luZm8tdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0fVxuXHRcdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0IFx0dmFyIGNvbnRleHQgPSB7fTtcblx0IFx0XHRjb250ZXh0LnRpdGxlID0gYm9hcmRJbmZvLnRpdGxlO1xuXHRcdCBcdGNvbnRleHQuY3JlYXRpb25fZGF0ZSA9IGJvYXJkSW5mby5jcmVhdGlvbl9kYXRlO1xuXHRcdCBcdGNvbnRleHQuY3JlYXRvciA9IFwiQ1JFQVRPUlwiO1x0XHRcdFxuXHRcdCBcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0XHQkKFwiI2NvbnRhaW5lclwiKS5hcHBlbmQoJChodG1sKSk7XG5cdFx0XHR0aGlzLmJpbmRIYW5kbGVyKCk7XG5cblx0XHR0aGlzLiRlbC5maW5kKFwiLnBhcnRpY2lwYW50LWlucHV0XCIpLm9uKCdrZXl1cCcsIHRoaXMuc2VhcmNoUGFydGljaXBhbnQuYmluZCh0aGlzKSk7XG5cdFx0YmVhbi5vbih0aGlzLndoaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXIsICdwYXJ0aWNpcGFudC1mb3VuZCcsIHRoaXMuYWRkVG9QYXJ0TGlzdC5iaW5kKHRoaXMpKTtcblx0XHR0aGlzLiRlbC5maW5kKFwiLnRpdGxlLWlucHV0XCIpLm9uKCdrZXl1cCcsIHRoaXMuYWRkVGl0bGUuYmluZCh0aGlzKSk7XG5cdFx0dGhpcy53aGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLmdldFBhcnRpY2lwYW50cyhib2FyZEluZm8uaWQpO1xuXHRcdGJlYW4ub24odGhpcy53aGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLCAncGFydGljaXBhbnRzJywgdGhpcy5jcmVhdGVQYXJ0aWNpcGFudC5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdFdoaXRlYm9hcmRTZXR0aW5ncy5wcm90b3R5cGUuYWRkVG9QYXJ0TGlzdCA9IGZ1bmN0aW9uKHJlc3VsdHMpeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRTZXR0aW5nc10gYWRkVG9QYXJ0TGlzdCcpO1xuXHQgIFx0XHR0aGlzLiRlbC5maW5kKFwiI3Jlc3VsdC1saXN0XCIpLmVtcHR5KCk7XG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0XHR2YXIgY29udGV4dCA9IHt9O1xuXHRcdFx0Y29udGV4dC5uYW1lcyA9IFtdO1xuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdGNvbnRleHQubmFtZXMucHVzaCh7bmFtZTpyZXN1bHRzW2ldLndiX3VzZXJuYW1lLGlkOnJlc3VsdHNbaV0uaWQsfSk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgZW50cnlUeHQgPSAkKCcjcmVzdWx0LXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VHh0KTtcblx0XHRcdGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG5cdFx0XHRIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCd1c2VycycsIGZ1bmN0aW9uKCkge1x0XG5cdFx0XHRcdCB2YXIgbmFtZSA9IEhhbmRsZWJhcnMuZXNjYXBlRXhwcmVzc2lvbih0aGlzLm5hbWUpLFxuXHRcdFx0XHRcdCBpZCA9IEhhbmRsZWJhcnMuZXNjYXBlRXhwcmVzc2lvbih0aGlzLmlkKTtcdFx0XG5cdFx0XHRcblx0XHRcdFx0ICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhcblx0XHRcdFx0ICAgIFwiPGxpIGNsYXNzPSdwYXJ0TGlzdCc+XCIrbmFtZStcIjxidXR0b24gaWQ9XCIraWQrXCIgY2xhc3M9J2J0biBhZGRQYXJ0aWNpcGFudCc+WDwvYnV0dG9uPjwvbGk+XCJcblx0XHRcdFx0ICApO1xuXHRcdFx0XHR9KTtcblx0XHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0XHR0aGlzLiRlbC5maW5kKFwiI3Jlc3VsdC1saXN0XCIpLmFwcGVuZCgkKGh0bWwpKTtcblx0XHRcdHRoaXMuYmluZFBhcnRpY2lwYW50KCQoaHRtbCkpXG5cdH1cblxuXG5cdFdoaXRlYm9hcmRTZXR0aW5ncy5wcm90b3R5cGUuYmluZFBhcnRpY2lwYW50ID0gZnVuY3Rpb24oJGVsKXtcblx0XHR0aGlzLmFkZFBhcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWRkUGFydGljaXBhbnQnKTtcblx0XHRjb25zb2xlLmxvZyh0aGlzLmFkZFBhcnRCdG4gKTtcblx0XHRmb3IoaSA9IDA7IGkgPCB0aGlzLmFkZFBhcnRCdG4ubGVuZ3RoOyBpKysgKXtcblx0XHRcdHRoaXMuYWRkUGFydEJ0bltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYWRkSW52aXRhdGlvbi5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH07XG5cblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS5hZGRJbnZpdGF0aW9uID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZyhcIltQYXJ0aWNpcGFudF0gZGVsZXRlQ2xpY2tIYW5kbGVyXCIpO1xuXHRcdHZhciBwYXJ0aWNpcGFudCA9IHt1c2VyX2lkOiBldmVudC50YXJnZXQuaWR9O1xuXHRcdHZhciBwYXJ0ID0gezA6e3VzZXJfaWQ6IGV2ZW50LnRhcmdldC5pZH19O1xuXHRcdHRoaXMud2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5hZGRQYXJ0aWNpcGFudCh0aGlzLmJvYXJkSW5mby5pZCwgcGFydGljaXBhbnQudXNlcl9pZCk7XG5cdFx0dGhpcy5jcmVhdGVQYXJ0aWNpcGFudChwYXJ0KTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI3BhcnRpY2lwYW50LWxpc3RcIikuYXBwZW5kKFwiPGxpPlwiK2V2ZW50LnBhdGhbMV0uZmlyc3RDaGlsZC5kYXRhK1wiPGJ1dHRvbiBpZD0nXCIrZXZlbnQucGF0aFswXS5pZCtcIicnIGNsYXNzPSdidG4gZGVsZXRlUGFydCc+WDwvYnV0dG9uPjwvbGk+XCIpO1xuXHRcdHRoaXMuYmluZERlbGV0ZWJ1dHRvbigpO1xuXHR9XG5cblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS5iaW5kRGVsZXRlYnV0dG9uID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tQYXJ0aWNpcGFudF0gYmluZERlbGV0ZWJ1dHRvbicpO1xuXHRcdHRoaXMuZGVsZXRlYnV0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVsZXRlUGFydCcpO1xuXHRcdGNvbnNvbGUubG9nKHRoaXMuZGVsZXRlYnV0b24pO1xuXHRcdFx0XHRjb25zb2xlLmxvZyh0aGlzLmRlbGV0ZWJ1dG9uLmxlbmd0aC0xKTtcblxuXHRcdHRoaXMuZGVsZXRlYnV0b25bdGhpcy5kZWxldGVidXRvbi5sZW5ndGgtMV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRlbGV0ZUNsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3MucHJvdG90eXBlLmRlbGV0ZUNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coXCJbUGFydGljaXBhbnRdIGRlbGV0ZUNsaWNrSGFuZGxlclwiKTtcblx0XHR0aGlzLndoaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXIuZGVsZXRlUGFydEJ5SWQodGhpcy5ib2FyZElkLCBldmVudC50YXJnZXQuaWQpO1xuXHRcdGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5pZCk7XG5cdFx0ZXZlbnQucGF0aFsxXS5yZW1vdmUoKTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3MucHJvdG90eXBlLmNyZWF0ZVBhcnRpY2lwYW50ID0gZnVuY3Rpb24ocGFydGljaXBhbnQpeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRTZXR0aW5nc10gYWRkQ2xpY2tlZEhhbmRsZXInKTtcblx0XHRcblx0XHR0aGlzLiRlbC5maW5kKFwiLnBhcnRpY2lwYW50LWlucHV0XCIpLnZhbChcIlwiKTtcblx0XHQkKFwiLnBhcnRMaXN0XCIpLnJlbW92ZSgpO1xuXHRcdGZvcihpID0gMDsgaSA8IHBhcnRpY2lwYW50Lmxlbmd0aDsgaSsrKXtcblx0XHRcdHRoaXMucGFydGljaXBhbnQgPSBuZXcgUGFydGljaXBhbnQodGhpcy4kZWwsIHRoaXMuYm9hcmRJbmZvLmlkLCBwYXJ0aWNpcGFudFtpXSwgdGhpcy5hZG1pbik7XG5cdFx0XHRiZWFuLm9uKHRoaXMucGFydGljaXBhbnQsIFwiZGVsZXRlXCIsIHRoaXMuZGVsZXRlUGFydGljaXBhbnQuYmluZCh0aGlzKSk7XG5cdFx0fVxuXHR9O1xuXG5cdFdoaXRlYm9hcmRTZXR0aW5ncy5wcm90b3R5cGUuc2VhcmNoUGFydGljaXBhbnQgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSBhZGRUaXRsZScpO1xuXHRcdHRoaXMud2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5zZWFyY2hQYXJ0aWNpcGFudChldmVudC50YXJnZXQudmFsdWUpO1xuXHR9XG5cblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS5hZGRUaXRsZSA9IGZ1bmN0aW9uKGV2ZW50KXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NdIGFkZFRpdGxlJyk7XG5cdFx0dGhpcy53aGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLmFkZFRpdGxlKHRoaXMuYm9hcmRJbmZvLmlkLCBldmVudC50YXJnZXQudmFsdWUpO1xuXHR9XG5cblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS5iaW5kSGFuZGxlciA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSBiaW5kSGFuZGxlcicpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJy5oaWRlLWJ1dHRvbicpLm9uKCdjbGljaycsIHRoaXMuaGlkZVNldHRpbmdzSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuc2hvdy1idXR0b24nKS5vbignY2xpY2snLCB0aGlzLmhpZGVTZXR0aW5nc0hhbmRsZXIuYmluZCh0aGlzKSk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmFkZFRhZycpLm9uKCdjbGljaycsIHRoaXMuY3JlYXRlVGFnLmJpbmQodGhpcykpO1xuXHR9O1xuXG5cdFdoaXRlYm9hcmRTZXR0aW5ncy5wcm90b3R5cGUudG9nZ2xlVmlzaWJsZSA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSB0b2dnbGVWaXNpYmxlJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnI2hpZGUnKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnI3Nob3cnKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdH07XG5cblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS5jcmVhdGVUYWcgPSBmdW5jdGlvbihldmVudCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSBjcmVhdGVUYWcnKTtcblx0XHR0aGlzLnRhZyA9IG5ldyBUYWdzKHRoaXMuJGVsLCB0aGlzLmJvYXJkSW5mby5pZCk7XG5cdFx0YmVhbi5vbih0aGlzLnRhZywgXCJkZWxldGVcIiwgdGhpcy5kZWxldGVUYWcuYmluZCh0aGlzKSk7XG5cdH07XG5cblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS5oaWRlU2V0dGluZ3NIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRTZXR0aW5nc10gaGlkZVNldHRpbmdzSGFuZGxlcicpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJy5oaWRlX3NlY3Rpb24nKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLnNob3ctYnV0dG9uJykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHR9O1xuXHRcblx0V2hpdGVib2FyZFNldHRpbmdzLnByb3RvdHlwZS5kZWxldGVQYXJ0aWNpcGFudCA9IGZ1bmN0aW9uKHBhcnRpY2lwYW50KSB7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSBkZWxldGVQYXJ0aWNpcGFudCcpO1xuXHRcdHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXJ0aWNpcGFudC1saXN0Jyk7XG5cdFx0ZWwucmVtb3ZlQ2hpbGQocGFydGljaXBhbnQpO1xuXHR9O1xuXG5cdFdoaXRlYm9hcmRTZXR0aW5ncy5wcm90b3R5cGUuZGVsZXRlVGFnID0gZnVuY3Rpb24odGFnKSB7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzXSBkZWxldGVQYXJ0aWNpcGFudCcpO1xuXHRcdHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YWctbGlzdCcpO1xuXHRcdGVsLnJlbW92ZUNoaWxkKHRhZyk7XG5cdH07XG5cblx0cmV0dXJuIFdoaXRlYm9hcmRTZXR0aW5ncztcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHRmdW5jdGlvbiBXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyKCkgeyBjb25zb2xlLmxvZygnW1doaXRlYm9hcmRTZXR0aW5nc0hhbmRsZXJdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhpcy51cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Qvd2hpdGVib2FyZF8yL2FwaS9pbmRleC5waHAvXCI7XG5cdH1cblx0V2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUuYWRkVGl0bGUgPSBmdW5jdGlvbihib2FyZElkLCB0aXRsZSl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzSGFuZGxlcl0gYWRkVGl0bGUnKTtcblx0XHRyZXR1cm4gJC5hamF4KHtcblx0XHQgIFx0dHlwZTogXCJQT1NUXCIsXG5cdFx0ICBcdHVybDogdGhpcy51cmwrJ3NldHRpbmdzLycrYm9hcmRJZCsnLycrdGl0bGUsXG5cdFx0ICBcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHRcdCAgXHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0XHQgIFx0XHRjb25zb2xlLmxvZyhcInRpdGxlLWFkZGVkIFwiK1tkYXRhXSk7XG5cdFx0ICBcdH0uYmluZCh0aGlzKVxuXHRcdH0pO1xuXHR9O1xuXG5cblx0V2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUuZ2V0UGFydGljaXBhbnRzID0gZnVuY3Rpb24oYm9hcmRJZCl7IGNvbnNvbGUubG9nKCdbV2hpdGVib2FyZFNldHRpbmdzSGFuZGxlcl0gZ2V0UGFydGljaXBhbnRzJyk7XG5cdFx0cmV0dXJuICQuYWpheCh7XG5cdFx0ICBcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ICBcdHVybDogdGhpcy51cmwrJ2dldFBhcnRpY2lwYW50cy8nK2JvYXJkSWQsXG5cdFx0ICBcdGRhdGE6IHtjb250ZW50OiAnY29udGVudCd9LFxuXHRcdCAgXHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcblx0XHQgIFx0XHRjb25zb2xlLmxvZyhcInBhcnRpY2lwYW50cy1mb3VuZFwiK1tkYXRhXSk7XG5cdFx0ICBcdFx0YmVhbi5maXJlKHRoaXMsICdwYXJ0aWNpcGFudHMnLCBbZGF0YV0pO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLnByb3RvdHlwZS5zZWFyY2hQYXJ0aWNpcGFudCA9IGZ1bmN0aW9uKHBhcnRpY2lwYW50KXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyXSBzZWFyY2hQYXJ0aWNpcGFudCcpO1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHRcdCAgXHR0eXBlOiBcIlBPU1RcIixcblx0XHQgIFx0dXJsOiB0aGlzLnVybCsncGFydGljaXBhbnQvJytwYXJ0aWNpcGFudCxcblx0XHQgIFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdFx0ICBcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdCAgXHRcdGNvbnNvbGUubG9nKFwiZm91bmRcIitbZGF0YV0pO1xuXHRcdCAgXHRcdGJlYW4uZmlyZSh0aGlzLCAncGFydGljaXBhbnQtZm91bmQnLCBbZGF0YV0pO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLnByb3RvdHlwZS5hZGRQYXJ0aWNpcGFudCA9IGZ1bmN0aW9uKGJvYXJkSWQsIHBhcnRpY2lwYW50KXsgY29uc29sZS5sb2coJ1tQYXJ0aWNpcGFudEhhbmRsZXJdIGFkZFBhcnRpY2lwYW50Jyk7XG5cdFx0cmV0dXJuICQuYWpheCh7XG5cdFx0ICBcdHR5cGU6IFwiUE9TVFwiLFxuXHRcdCAgXHR1cmw6IHRoaXMudXJsKydhZGRQYXJ0aWNpcGFudC8nK2JvYXJkSWQrJy8nK3BhcnRpY2lwYW50LFxuXHRcdCAgXHRkYXRhOiB7Y29udGVudDogJ2NvbnRlbnQnfSxcblx0XHQgIFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG5cdFx0ICBcdFx0Y29uc29sZS5sb2coW2RhdGFdKTtcblx0ICBcdFx0XHRiZWFuLmZpcmUodGhpcywgXCJwYXJ0aWNpcGFudFwiLCBbZGF0YV0pO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLnByb3RvdHlwZS5nZXRQYXJ0aWNpcGFudEJ5SWQgPSBmdW5jdGlvbihpZCl7Y29uc29sZS5sb2coJ1tQYXJ0aWNpcGFudEhhbmRsZXJdIGdldFBhcnRpY2lwYW50QnlJZCcpO1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHRcdCAgXHR0eXBlOiBcIkdFVFwiLFxuXHRcdCAgXHR1cmw6IHRoaXMudXJsKydnZXRQYXJ0aWNpcGFudEJ5SWQvJytpZCxcblx0XHQgIFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdFx0ICBcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdCAgXHRcdGNvbnNvbGUubG9nKFwicGFydGljaXBhbnQgXCIrW2RhdGFdKTtcblx0ICBcdFx0XHRiZWFuLmZpcmUodGhpcywgXCJwYXJ0aWNpcGFudFwiLCBbZGF0YV0pO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblxuXHRXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyLnByb3RvdHlwZS5kZWxldGVQYXJ0QnlJZCA9IGZ1bmN0aW9uKGJvYXJkSWQsIGlkKXtjb25zb2xlLmxvZygnW1BhcnRpY2lwYW50SGFuZGxlcl0gZGVsZXRlUGFydGljaXBhbnQnKTtcblx0XHRyZXR1cm4gJC5hamF4KHtcblx0XHQgIFx0dHlwZTogXCJHRVRcIixcblx0XHQgIFx0dXJsOiB0aGlzLnVybCsnZGVsZXRlUGFydEJ5SWQvJytib2FyZElkKycvJytpZCxcblx0XHQgIFx0ZGF0YToge2NvbnRlbnQ6ICdjb250ZW50J30sXG5cdFx0ICBcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdCAgXHRcdGNvbnNvbGUubG9nKFwiZGVsZXRlZCBcIitbZGF0YV0pO1xuXHRcdCAgXHR9LmJpbmQodGhpcylcblx0XHR9KTtcblx0fTtcblx0V2hpdGVib2FyZFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUuYWRkVGFnID0gZnVuY3Rpb24oYm9hcmRJZCwgdGFnKXsgY29uc29sZS5sb2coJ1tXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyXSBzZWFyY2hQYXJ0aWNpcGFudCcpO1xuXHRcdHJldHVybiAkLmFqYXgoe1xuXHRcdCAgXHR0eXBlOiBcIlBPU1RcIixcblx0XHQgIFx0dXJsOiB0aGlzLnVybCsndGFnLycrYm9hcmRJZCsnLycrdGFnLFxuXHRcdCAgXHRkYXRhOiB7Y29udGVudDogJ2NvbnRlbnQnfSxcblx0XHQgIFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG5cdFx0ICBcdFx0Y29uc29sZS5sb2coJ3RhZy1hZGRlZCcrW2RhdGFdKTtcblx0XHQgIFx0fS5iaW5kKHRoaXMpXG5cdFx0fSk7XG5cdH07XG5cdHJldHVybiBXaGl0ZWJvYXJkU2V0dGluZ3NIYW5kbGVyO1xufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHR2YXIgTW90aW9uRWRpdCA9IHJlcXVpcmUoJy4vTW90aW9uRWRpdCcpO1xuXHR2YXIgdGhhdDtcblxuXHRmdW5jdGlvbiBNb3Rpb24oJGVsLHZpZFNyYykgeyBjb25zb2xlLmxvZygnW01vdGlvbl0gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR0aGlzLmNoYW5nZWQgPSBmYWxzZTtcblx0XHR0aGF0ID0gdGhpcztcblx0XHRpZih2aWRTcmMpe1xuXHRcdFx0dGhpcy52aWRTcmMgPSB2aWRTcmM7XG5cdFx0fVxuXHR9XG5cblx0TW90aW9uLnByb3RvdHlwZS5jcmVhdGVNb3Rpb24gPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW01vdGlvbl0gY3JlYXRNb3Rpb24nKTtcblx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI21vdGlvbi10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0XHR2YXIgY29udGV4dCA9IHt9O1xuXHRcdGlmKHRoaXMudmlkU3JjKXtcblx0XHRcdGNvbnRleHQudmlkU3JjID0gJ21vdGlvbi8nK3RoaXMudmlkU3JjKycubXA0Jztcblx0XHR9ZWxzZXtcblx0XHRcdGNvbnRleHQudmlkU3JjID0gXCJcIjtcblx0XHR9XG5cdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcblx0XHRyZXR1cm4gKCQoaHRtbCkpO1xuXHR9O1xuXHRcbiBcdE1vdGlvbi5wcm90b3R5cGUucGxheVNlbGVjdGVkRmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHsgY29uc29sZS5sb2coJ1tNb3Rpb25dIHBsYXlTZWxlY3RlZEZpbGUnKTtcblx0XHR2YXIgdmlkID0gdGhpcy4kZWwuZmluZCgnIycrdGhpcy5lbGVtZW50SWQrJyA+IC5tb3Rpb24gPiB2aWRlbycpO1xuICAgICAgICAvL3ZhciB0eXBlID0gZmlsZS50eXBlO1xuICAgICAgICBpZihVUkwpeyBjb25zb2xlLmxvZygnVVJMIEJFU1RBQUQnKTtcbiAgICAgICAgXHR2YXIgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgIFx0dmlkLmF0dHIoJ3NyYycsIGZpbGVVUkwpO1xuICAgICAgICBcdHZpZC5hdXRvUGxheSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGZpbGUpeyBjb25zb2xlLmxvZygnbG9hZGVkJyk7XG5cdFx0XHR0aGF0LmNvbmZpcm0oZmlsZS50YXJnZXQucmVzdWx0KTtcblx0XHR9O1xuXHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuXHR9O1xuXG5cdE1vdGlvbi5wcm90b3R5cGUuZWRpdCA9IGZ1bmN0aW9uKCRlbCxlbGVtZW50SWQpeyAgY29uc29sZS5sb2coJ1tNb3Rpb25dIGVkaXQnKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR0aGlzLmVsZW1lbnRJZCA9IGVsZW1lbnRJZDtcdFxuXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrZWxlbWVudElkKS5hcHBlbmQobmV3IE1vdGlvbkVkaXQodGhpcy52aWRTcmMsIGVsZW1lbnRJZCkpO1xuXHRcdHRoaXMudmlkZW9JbnB1dCA9IHRoaXMuJGVsLmZpbmQoJyMnK2VsZW1lbnRJZCsnID4ubW90aW9uLWVkaXQnKTtcblx0XHR0aGlzLnZpZGVvSW5wdXQuY2hhbmdlKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF07XG5cdFx0XHR0aGF0LnBsYXlTZWxlY3RlZEZpbGUoZmlsZSk7XG5cdFx0XHR0aGF0LmNoYW5nZWQgPSB0cnVlO1xuXHRcdH0pO1xuXHR9O1xuXG5cdE1vdGlvbi5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKHZpZGVvKXsgY29uc29sZS5sb2coJ1tNb3Rpb25dIGNvbmZpcm0nKTtcblx0XHRpZih0aGlzLmNoYW5nZWQgPT09IHRydWUpeyBjb25zb2xlLmxvZyh0aGlzLmNoYW5nZWQpO1xuXHRcdFx0dGhpcy52aWRTcmMgPSB0aGlzLiRlbC5maW5kKFwiI1wiK3RoaXMuZWxlbWVudElkK1wiIC5tb3Rpb24tZWRpdFwiKS52YWwoKTtcblx0XHRcdGJlYW4uZmlyZSh0aGlzLCBcInZpZGVvLWNoYW5nZWRcIiwgIHZpZGVvKTtcblx0XHRcdHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHR0aGlzLmVuZEVkaXQoKTtcblx0fTtcblxuXHRNb3Rpb24ucHJvdG90eXBlLmVuZEVkaXQgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW01vdGlvbl0gZW5kRWRpdCcpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQrXCIgPiAubW90aW9uLWVkaXRcIikucmVtb3ZlKCk7XG5cdH07XG5cblx0cmV0dXJuIE1vdGlvbjtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXG5cdGZ1bmN0aW9uIE1vdGlvbkVkaXQodmlkU3JjLCBlbGVtZW50SWQpIHsgY29uc29sZS5sb2coJ1tNb3Rpb25FZGl0XSBjb25zdHJ1Y3RvcicpO1xuXHRcdHZhciBlbnRyeVRleHQgPSAkKCcjbW90aW9uLWVkaXQtdGVtcGxhdGUnKS50ZXh0KCk7XG5cdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGVudHJ5VGV4dCk7XG5cdFx0dmFyIGNvbnRleHQgPSB7fTtcblx0XHRjb250ZXh0LnZpZFNyYyA9IHZpZFNyYztcblx0XHR2YXIgaHRtbCA9IHRlbXBsYXRlKGNvbnRleHQpO1xuXHRcdHJldHVybiAoJChodG1sKSk7XG5cdH1cblxuXHRyZXR1cm4gTW90aW9uRWRpdDtcblxufSkoKTtcblxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXHR2YXIgUGljdHVyZUVkaXQgPSByZXF1aXJlKCcuL1BpY3R1cmVFZGl0Jyk7XG5cdHZhciB0aGF0O1xuXHRmdW5jdGlvbiBQaWN0dXJlKGltZ1NyYykgeyBjb25zb2xlLmxvZygnW1BpY3R1cmVdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dGhhdCA9IHRoaXM7XG5cdFx0dGhpcy5jaGFuZ2VkID0gZmFsc2U7XG5cdFx0dGhpcy5pbWdTcmMgPSBpbWdTcmM7XG5cdFx0aWYoIXRoaXMuaW1nU3JjKXtcblx0XHRcdHRoaXMuaW1nU3JjID0gXCJcIjtcblx0XHR9XG5cdFx0aWYgKFxuXHRcdFx0d2luZG93LkZpbGUgJiYgXG5cdFx0XHR3aW5kb3cuRmlsZVJlYWRlciAmJiBcblx0XHRcdHdpbmRvdy5GaWxlTGlzdCAmJiBcblx0XHRcdHdpbmRvdy5CbG9iXG5cdFx0KSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkZ1bGwgZmlsZSBzdXBwb3J0XCIpO1xuXHRcdH1cblx0fVxuXG5cdFBpY3R1cmUucHJvdG90eXBlLmNyZWF0ZVBpY3R1cmUgPSBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnW1BpY3R1cmVdIGNyZWF0UGljdHVyZScpO1xuXHRcdHZhciBlbnRyeVRleHQgPSAkKCcjcGljdHVyZS10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0XHR2YXIgY29udGV4dCA9IHt9O1xuXHRcdGlmKHRoaXMuaW1nU3JjKXtcblx0XHRcdGNvbnRleHQuaW1nU3JjID0gJ3N0YXRpY3MvJyt0aGlzLmltZ1NyYytcIi5wbmdcIjtcblx0XHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7IFxuXHRcdFx0cmV0dXJuKCQoaHRtbCkpO1xuXHRcdH1cblx0fTtcblx0XG5cdFBpY3R1cmUucHJvdG90eXBlLmVkaXQgPSBmdW5jdGlvbigkZWwsZWxlbWVudElkKXsgY29uc29sZS5sb2coJ1tQaWN0dXJlXSBlZGl0Jyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy5lbGVtZW50SWQgPSBlbGVtZW50SWQ7XG5cdFx0dmFyIHBpY3R1cmVFZGl0ID0gbmV3IFBpY3R1cmVFZGl0KHRoaXMuJGVsLHRoaXMuaW1nU3JjLGVsZW1lbnRJZCk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIitlbGVtZW50SWQpLmFwcGVuZChwaWN0dXJlRWRpdCk7XG5cdFx0dGhpcy5pbWdJbnB1dHMgPSB0aGlzLiRlbC5maW5kKCcjJytlbGVtZW50SWQrJyA+LmlucHV0LXBpY3R1cmUnKTtcblx0XHR0aGlzLmltZ0lucHV0cy5jaGFuZ2UoZnVuY3Rpb24oKXtcblx0XHRcdHZhciBmaWxlID0gdGhpcy5maWxlc1swXTtcblx0XHRcdHRoYXQuY3JlYXRlVGh1bWIoZmlsZSk7XG5cdFx0XHR0aGF0LmNoYW5nZWQgPSB0cnVlO1xuXHRcdH0pO1xuXHR9O1xuXG5cdFBpY3R1cmUucHJvdG90eXBlLmNyZWF0ZVRodW1iID0gZnVuY3Rpb24oZmlsZSl7IGNvbnNvbGUubG9nKCdbUGljdHVyZV0gY3JlYXRlVGh1bWInKTtcblx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGZpbGUpeyBjb25zb2xlLmxvZygnbG9hZGVkJyk7XG5cdFx0XHRcdHZhciBpbWcgPSB0aGF0LiRlbC5maW5kKFwiI1wiK3RoYXQuZWxlbWVudElkKycgPi5waWN0dXJlJysnIC5pbWFnZS1wcmV2aWV3Jyk7XG5cdFx0XHRcdGltZy5hdHRyKCdzcmMnLCBmaWxlLnRhcmdldC5yZXN1bHQpO1xuXHRcdFx0XHR0aGF0LmNvbmZpcm0oZmlsZS50YXJnZXQucmVzdWx0KTtcblx0XHRcdH07XG5cdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblx0fTtcblxuXHRQaWN0dXJlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oZmlsZSl7IGNvbnNvbGUubG9nKCdbUGljdHVyZV0gY29uZmlybScpO1xuXHRcdHRoaXMuaW1nU3JjID0gdGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCtcIiAuaW5wdXQtcGljdHVyZVwiKS52YWwoKTtcblx0XHRpZih0aGlzLmNoYW5nZWQgPT09IHRydWUpe1xuXHRcdFx0YmVhbi5maXJlKHRoaXMsIFwiaW1hZ2UtY2hhbmdlZFwiLCBmaWxlKTtcblx0XHRcdHRoYXQuY2hhbmdlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHR0aGlzLmVuZEVkaXQoKTtcblx0fTtcblxuXHRQaWN0dXJlLnByb3RvdHlwZS5lbmRFZGl0ID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tQaWN0dXJlXSBlbmRFZGl0Jyk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCtcIiA+IC5pbnB1dC1waWN0dXJlXCIpLnJlbW92ZSgpO1xuXHR9O1xuXG5cdHJldHVybiBQaWN0dXJlO1xuXG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cblx0ZnVuY3Rpb24gUGljdHVyZUVkaXQoJGVsLHR4dCxlbGVtZW50SWQpIHsgY29uc29sZS5sb2coJ1tQaWN0dXJlRWRpdF0gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLiRlbCA9ICRlbDtcblx0XHR2YXIgZW50cnlUZXh0ID0gJCgnI3BpY3R1cmUtZWRpdC10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0XHR2YXIgY29udGV4dCA9IHt9O1xuXHRcdGNvbnRleHQudHh0ID0gdHh0O1xuXHRcdHZhciBodG1sID0gdGVtcGxhdGUoY29udGV4dCk7XG5cdFx0cmV0dXJuICgkKGh0bWwpKTtcblx0fVxuXG5cdHJldHVybiBQaWN0dXJlRWRpdDtcblxufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXG5cdHZhciBQb3N0aXRFZGl0ID0gcmVxdWlyZSgnLi9Qb3N0aXRFZGl0Jyk7XG5cblx0ZnVuY3Rpb24gUG9zdGl0KHR4dCkgeyBjb25zb2xlLmxvZygnW1Bvc3RpdF0gY29uc3RydWN0b3InKTtcblx0XHR0aGlzLnR4dCA9IHR4dDtcblx0XHR0aGlzLmNoYW5nZWQgPSB0cnVlO1xuXHRcdGlmKCF0aGlzLnR4dCl7XG5cdFx0XHR0aGlzLnR4dCA9IFwiTmlldXdlIFBvc3RpdFwiO1xuXHRcdH1cblx0fVxuXG5cdFBvc3RpdC5wcm90b3R5cGUuY3JlYXRlUG9zdGl0ID0gZnVuY3Rpb24odHh0KXsgY29uc29sZS5sb2coJ1tQb3N0aXRdIGNyZWF0ZVBvc3RpdCcpO1xuXHRcdHZhciBlbnRyeVRleHQgPSAkKCcjcG9zdGl0LXRlbXBsYXRlJykudGV4dCgpO1xuXHRcdHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRyeVRleHQpO1xuXHRcdHZhciBjb250ZXh0ID0ge307XG5cdFx0Y29udGV4dC50eHQgPSB0aGlzLnR4dDtcblx0XHR2YXIgaHRtbCA9IHRlbXBsYXRlKGNvbnRleHQpO1xuXHRcdHJldHVybiAoJChodG1sKSk7XG5cdH07XG5cblx0UG9zdGl0LnByb3RvdHlwZS5lZGl0ID0gZnVuY3Rpb24oJGVsLGVsZW1lbnRJZCl7IGNvbnNvbGUubG9nKCdbUG9zdGl0XSBlZGl0Jyk7XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0dGhpcy5lbGVtZW50SWQgPSBlbGVtZW50SWQ7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIitlbGVtZW50SWQrXCIgPiAucG9zdGl0ID4gcFwiKS50b2dnbGVDbGFzcyhcImhpZGRlblwiKTtcblx0XHR0aGlzLiRlbC5maW5kKFwiI1wiK2VsZW1lbnRJZCkuYXBwZW5kKG5ldyBQb3N0aXRFZGl0KHRoaXMudHh0KSk7XG5cdH07XG5cblx0UG9zdGl0LnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ1tQb3N0aXRdIGNvbmZpcm0nKTtcblx0XHR0aGlzLnR4dCA9IHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQrXCIgLnBvc3RpdC1lZGl0XCIpLnZhbCgpO1xuXHRcdHRoaXMuZW5kRWRpdCgpO1xuXHR9O1xuXG5cdFBvc3RpdC5wcm90b3R5cGUuZW5kRWRpdCA9IGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdbUG9zdGl0XSBlbmRFZGl0Jyk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCtcIiA+IC5wb3N0aXQgPiBwXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpLnRleHQodGhpcy50eHQpO1xuXHRcdHRoaXMuJGVsLmZpbmQoXCIjXCIrdGhpcy5lbGVtZW50SWQrXCIgPiAucG9zdGl0LWVkaXRcIikucmVtb3ZlKCk7XG5cdFx0dGhpcy4kZWwuZmluZChcIiNcIit0aGlzLmVsZW1lbnRJZCtcIiA+IC5wb3N0aXQgPiBwXCIpLnRvZ2dsZUNsYXNzKFwiaGlkZGVuXCIpO1xuXHR9O1xuXG5cdHJldHVybiBQb3N0aXQ7XG5cbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHRmdW5jdGlvbiBQb3N0aXRFZGl0KHR4dCkgeyBjb25zb2xlLmxvZygnW1Bvc3RpdEVkaXRdIGNvbnN0cnVjdG9yJyk7XG5cdFx0dmFyIGVudHJ5VGV4dCA9ICQoJyNwb3N0aXQtZWRpdC10ZW1wbGF0ZScpLnRleHQoKTtcblx0XHR2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoZW50cnlUZXh0KTtcblx0XHR2YXIgY29udGV4dCA9IHt9O1xuXHRcdGNvbnRleHQudHh0ID0gdHh0O1xuXG5cdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcblxuXHRcdHJldHVybiAoJChodG1sKSk7XG5cblx0fVxuXHRcblx0cmV0dXJuIFBvc3RpdEVkaXQ7XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9